var ORMMA_CURRENT_VERSION=1;var admarvelSDKInfo=null;var admarvelSDKVersion=null;var admarvelSDKInitCallback=null;var admarvelSDKFeatures={checkNetworkAvailability:{ios:"2.6.8",android:"2.1.3"},detectNetworkChange:{ios:"2.8.3",android:"2.1.3"},expandToFullscreen:{ios:"2.9.1",android:"2.1.3"},expandToCustomSize:{ios:"2.5.7",android:"2.1.3"},disableToolbar:{ios:"2.8.1",android:""},enableToolbar:{ios:"2.8.1",android:""},queryLocation:{ios:"2.8.3",android:"2.3.7"},detectLocationChange:{ios:"2.8.3",android:"2.1.3"},minimize:{ios:"2.4.4",android:"2.1.3"},collapse:{ios:"2.5.7",android:"2.1.3"},checkOrientation:{ios:"2.6.8",android:""},detectSizeChange:{ios:"2.8.3",android:"2.1.4"},detectShake:{ios:"2.6.7",android:"2.1.6"},detectAcceleration:{ios:"2.6.7",android:"2.1.3"},disableRotations:{ios:"2.6.8",android:"2.1.3"},enableRotations:{ios:"2.6.8",android:"2.1.3"},detectHeading:{ios:"2.8.3",android:"2.1.3"},detectVisibilityChange:{ios:"2.8.3",android:"2.1.4"},queryBannerVisibility:{ios:"2.8.3",android:"2.1.4"},setContainerBackgroundColor:{ios:"2.8.1",android:"2.1.3"},InitialLoadingCheck:{ios:"2.8.1",android:"2.1.3"},createCalendarEvent:{ios:"2.8.3",android:"2.1.3"},detectKeyboardVisibility:{ios:"2.8.3",android:""},detectError:{ios:"2.8.3",android:""},sdkCloseButton:{ios:"2.9.0",android:"2.3.0"},checkVisible:{ios:"2.8.3",android:"2.1.4"},disableToolbarUntilEnabled:{ios:"2.8.1",android:""},checkFrameValues:{ios:"2.9.2",android:"2.3.8"},autoInteractionDetection:{ios:"2.9.1",android:"2.3.1"},storePicture:{ios:"2.9.2",android:"2.3.7"},getDeviceIds:{ios:"3.0",android:""},notifyInAppBrowserCloseAction:{ios:"3.0",android:""},launchMapApp:{ios:"2.9.4",android:""},inlineVideo:{ios:"2.8.1",android:""},createReminder:{ios:"3.0.2",android:""},getLocation:{ios:"2.8.3",android:""},notifyInAppBrowserCloseAction:{ios:"3.0.0",android:""},checkForApplicationSupportedOrientations:{ios:"3.0",android:"2.3.7"},displayAlert:{ios:"3.0.2",android:""},admarvelSocial:{ios:"3.0.2",android:""},isServiceTypeAvailable:{ios:"3.0.2",android:""},listenModalViewCloseNotification:{ios:"3.0.2",android:""},fullscreenViewDidAppear:{ios:"3.0.4",android:""},fullscreenViewDidDisappear:{ios:"3.0.4",android:""},fullscreenViewWillAppear:{ios:"3.0.4",android:""},fullscreenViewWillDisappear:{ios:"3.0.4",android:""},applicationWillResignActive:{ios:"3.0.4",android:""},applicationDidEnterBackground:{ios:"3.0.4",android:""},applicationWillEnterForeground:{ios:"3.0.4",android:""},applicationDidBecomeActive:{ios:"3.0.4",android:""},startAudioRecording:{ios:"3.0.4",android:""},pauseAudioRecording:{ios:"3.0.4",android:""},resumeAudioRecording:{ios:"3.0.4",android:""},stopAudioRecording:{ios:"3.0.4",android:""},deleteAudioRecording:{ios:"3.0.4",android:""},startVideoRecording:{ios:"3.0.4",android:""},enableAutoDetection:{ios:"2.9.1",android:""},disableAutoDetection:{ios:"2.9.1",android:""}};function getAdMarvelSDKVersion(){return admarvelSDKVersion}function admarvelIsSupportedBySDK(c){if(!getAdMarvelSDKVersion()){return false}var a=(isIOS())?"ios":"android";var b=admarvelSDKFeatures[c][a];return((b!=undefined)&&getAdMarvelSDKVersion()>=parseInt(getNumericVersion(b)))}function admarvelIsSupportedByDevice(b){if(!admarvelSDKVersion){return}var a=admarvelSDKInfo.supportedFeatures[b];return((a!=undefined)&&a)}function admarvelInit(b){admarvelSDKInitCallback=b;var a="handleInit";if(isIOS()){initAdMarvel(a)}else{if(isAndroid()){window.ADMARVEL.initAdMarvel(a)}}}function admarvelRegisterSizeChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectSizeChange",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectsizechange(a)}}}}function admarvelConfigureSDKCloseButton(b){if(isIOS()){var a="show="+b;if(arguments.length>1){a+="|"+arguments[1]}callAdMarvelFunction("sdkCloseButton?"+a)}else{if(isAndroid()){var c="true";var e="top-right";if(arguments.length>1){var d=arguments[1].split("|");for(i=0;i<d.length;i++){if(d[i].split(":")[0]=="showArea"){c=d[i].split(":")[1]}else{if(d[i].split(":")[0]=="customClosePosition"){e=d[i].split(":")[1]}}}}if(getAdMarvelSDKVersion()>=237&&!isInterstitial()){window.ADMARVEL.sdkclosebutton(b,c,e)}else{window.ADMARVEL.sdkclosebutton(b,c)}}}}function admarvelRegisterLocationEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectLocation",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectlocation(a)}}}}function admarvelRegisterNetworkChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectNetworkChange",a)}else{if(isAndroid()){window.ADMARVEL.registernetworkchangeevent(a)}}}function admarvelRegisterVisibilityChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectVisibility",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectvisibility(a)}}}}function admarvelRegisterShakeEvent(d,a,b){if(isIOS()){var c={callbackFn:d,threshold:a,minTimeBetween:b};callAdMarvelFunctionWithParameters("detectShake",c)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>214){window.ADMARVEL.registershakeevent(d,a,b)}else{window.ADMARVEL.registershakeevent(d)}}}}function admarvelRegisterAccelerationEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectAcceleration",a)}else{if(isAndroid()){window.ADMARVEL.registeraccelerationevent(a)}}}function admarvelRegisterHeadingChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectHeading",a)}else{if(isAndroid()){window.ADMARVEL.registerheadingevent(a)}}}function admarvelExpandToFullScreen(c,a){if(isIOS()&&(admarvelSDKVersion==null||(getAdMarvelSDKVersion()>290&&c!=undefined))){var b={minimizeCallbackFn:c,URL:a};callAdMarvelFunctionWithParameters("maximize",b)}else{if(isAndroid()){if(!isInterstitial()){if(getAdMarvelSDKVersion()>236&&c!=undefined&&a!=undefined){window.ADMARVEL.expandtofullscreen(c,a)}else{if(getAdMarvelSDKVersion()>232&&c!=undefined){window.ADMARVEL.expandtofullscreen(c)}else{window.ADMARVEL.expandtofullscreen()}}}}}}function admarvelExpandTo(c,n,j,g,m,f,a){if(isIOS()){var h={x:j,y:g,width:c,height:n,collapseFn:m,URL:f,forceYValue:a};callAdMarvelFunctionWithParameters("expandTo",h)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>231){var d=(f)?f:"";var b=c;var e=n;var l=j;var k=g;if(admarvelSDKInfo!=null){b=Math.round(c)*window.devicePixelRatio;e=Math.round(n)*window.devicePixelRatio;l=Math.round(j)*window.devicePixelRatio;k=Math.round(g)*window.devicePixelRatio}window.ADMARVEL.expandto(Math.round(l),Math.round(k),Math.round(b),Math.round(e),m,d)}else{if(getAdMarvelSDKVersion()>221){var d=(f)?f:"";window.ADMARVEL.expandto(c,n,m,d)}else{window.ADMARVEL.expandto(c,n)}}}}}function admarvelDisableToolbar(a){if(isIOS()){var b={closeButton:a};callAdMarvelFunctionWithParameters("disableToolbar",b)}else{if(isAndroid()){window.ADMARVEL.disableclosebutton("true")}}}function admarvelCollapse(){if(isIOS()){if(admarvelSDKInfo!=null&&admarvelSDKInfo.adType!==undefined&&admarvelSDKInfo.adType=="Interstitial"){admarvelClose()}else{callAdMarvelFunction("collapse")}}else{if(isAndroid()){if(!isInterstitial()){window.ADMARVEL.close()}else{window.ADMARVEL.closeinterstitialad()}}}}function admarvelClose(){if(isIOS()){callAdMarvelFunction("minimize")}else{if(isAndroid()){if(isInterstitial()){window.ADMARVEL.closeinterstitialad()}}}}function admarvelDisableRotation(b){if(b!=undefined){b=b.toLowerCase();if(b==="portrait"){b="Portrait"}else{if(b==="portraitupsidedown"){b="PortraitUpSideDown"}else{if(b==="landscapeleft"){b="LandscapeLeft"}else{if(b==="landscaperight"){b="LandscapeRight"}}}}}if(isIOS()){var a={lockedOrientation:b};callAdMarvelFunctionWithParameters("disableRotations",a)}else{if(isAndroid()){if(isInterstitial()){if((getAdMarvelSDKVersion()>=233)&&(b!=undefined)){window.ADMARVEL.disablerotations(b)}else{window.ADMARVEL.disablerotations()}}else{if(getAdMarvelSDKVersion()>=237){if(b!=undefined){window.ADMARVEL.disableRotationForExpand(b)}else{window.ADMARVEL.disableRotationForExpand()}}}}}}function admarvelEnableRotation(){if(isIOS()){callAdMarvelFunction("enableRotations")}else{if(isAndroid()){if(isInterstitial()||getAdMarvelSDKVersion()>=237){window.ADMARVEL.enablerotations()}}}}function admarvelSetBackgroundColor(f,e,d,a){if(isIOS()){var c={red:e,green:d,blue:a,alpha:f};callAdMarvelFunctionWithParameters("setBackgroundColor",c)}else{if(isAndroid()){var b="#"+fillZero((f*255).toString(16))+fillZero((e*255).toString(16))+fillZero((d*255).toString(16))+fillZero((a*255).toString(16));window.ADMARVEL.setbackgroundcolor(b)}}}function admarvelRegisterKeyboardChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectKeyboard",a)}else{if(isAndroid()){}}}function admarvelCreateCalendarEvent(c,e,a,b){if(isIOS()){var d={date:c,title:e,body:a,callbackFn:b};callAdMarvelFunctionWithParameters("createCalendarEvent",d)}else{if(isAndroid()){window.ADMARVEL.createcalendarevent(c,e,a)}}}function admarvelCreateCalendarEventWithFullDetails(w,x,n,a,p,u,k,q,f,b,s,c,l){if(isIOS()){var d={date:w,title:x,body:n,allDay:p,location:a,endDate:u,timezone:q,url:f,recurrence:b,status:s,freebusy:c,callbackFn:l};if(k!=null&&typeof k!="undefined"){var h=k.split(",");var v="";for(var t=0;t<h.length;t++){var g=h[t];if(g<0){v=v+g+","}}v=v.slice(0,v.length-1);if(v!==null&&typeof v!="undefined"&&v!=""){d.alarmOffset=v}}callAdMarvelFunctionWithParameters("createCalendarEvent",d)}else{if(isAndroid()){var m=parseInt(k);var r=null;var e=null;var o=0;var j=0;if(b!=null&&typeof b!="undefined"){e=parseCalendarRecurrenceString(b)}if(b!=null&&typeof b!="undefined"){if(b.exceptionDates!=undefined&&b.exceptionDates!=null){r=b.exceptionDates}}if(s!=null&&typeof s!="undefined"){if((s=="pending")||(s=="tentative")){j=0}else{if(s=="confirmed"){j=1}else{if(s=="cancelled"){j=2}}}}if(c!=null&&typeof s!="undefined"){if(c=="opaque"){o=0}else{if(c=="transparent"){o=1}}}if(getAdMarvelSDKVersion()>=237){window.ADMARVEL.createcalendarevent(w,x,n,a,p,u,m,q,f,e,r,j,o,l)}else{if(getAdMarvelSDKVersion()>231){window.ADMARVEL.createcalendarevent(w,x,n,a,p,u,k)}else{window.ADMARVEL.createcalendarevent(w,x,n)}}}}}function parseCalendarRecurrenceString(a){if(a==undefined||a==null){return null}var e="";if(a.frequency!=undefined&&a.frequency!=null){var c=a.frequency.toString().toString().toUpperCase();e=e+"FREQ="+c+";"}if(a.interval!=undefined&&a.interval!=null){e=e+"INTERVAL="+a.interval.toString()+";"}if(a.expires!=undefined&&a.expires!=null){var d=dateObjectFromTimeString(a.expires);e=e+"UNTIL="+dateStringFromDateInUTC(d)+";"}if(a.daysInWeek!=undefined&&a.daysInWeek!=null){var b=parseDaysInWeekString(a.daysInWeek);e=e+"BYDAY="+b+";"}if(a.daysInMonth!=undefined&&a.daysInMonth!=null){e=e+"BYMONTHDAY="+a.daysInMonth+";"}if(a.daysInYear!=undefined&&a.daysInYear!=null){e=e+"BYYEARDAY="+a.daysInYear+";"}if(a.weeksInMonth!=undefined&&a.weeksInMonth!=null){e=e+"BYWEEKNO="+a.weeksInMonth+";"}if(a.monthsInYear!=undefined&&a.monthsInYear!=null){e=e+"BYMONTH="+a.monthsInYear+";"}return e}function parseDaysInWeekString(a){var c="";var d=a.toString().split(",");for(var b=0;b<d.length;b++){if(d[b]=="0"){c=c+"SU,"}else{if(d[b]=="1"){c=c+"MO,"}else{if(d[b]=="2"){c=c+"TU,"}else{if(d[b]=="3"){c=c+"WE,"}else{if(d[b]=="4"){c=c+"TH,"}else{if(d[b]=="5"){c=c+"FR,"}else{if(d[b]=="6"){c=c+"SA,"}}}}}}}}if(c.length>0){return c.slice(0,c.length-1)}}function admarvelIsInitialLoad(){if(isIOS()){return adMarvelIsInitialLoad}else{if(isAndroid()){return window.ADMARVEL.isinitialload()}}}function admarvelAutoInteractionDetection(a){if(admarvelIsSupportedBySDK("autoInteractionDetection")){if(isIOS()){if(a){callAdMarvelFunction("enableAutoDetection")}else{callAdMarvelFunction("disableAutoDetection")}}else{if(isAndroid()){if(a){window.ADMARVEL.enableautodetect()}else{window.ADMARVEL.disableautodetect()}}}}}function admarvelCheckFrameValues(a){if(admarvelIsSupportedBySDK("checkFrameValues")){if(isIOS()){callAdMarvelFunctionWithCallback("checkFrameValues",a)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>=238&&!isInterstitial()){window.ADMARVEL.checkFrameValues(a)}else{admarvelInit(a)}}}}else{admarvelInit(a)}}function admarvelURLRedirect(a){if((a!=null)&&(a.indexOf("webcal://")==0)){admarvelOpenExternalURL(a)}else{if(isIOS()){if(getAdMarvelSDKVersion()<=290){document.location=a}else{callURLInIFRAME(a)}}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.redirect(a)}else{document.location=a}}}}}function admarvelURLRedirectWithAutoInteractionDetection(a){admarvelAutoInteractionDetection(true);admarvelURLRedirect(a);admarvelAutoInteractionDetection(false)}function admarvelSetOrientationListener(a){if(isIOS()){window.onorientationchange=a}else{if(isAndroid()){var b="onorientationchange" in window;var c=(b)?"orientationchange":"resize";window.addEventListener(c,a)}}}function admarvelCheckOrientation(){if(isIOS()){callAdMarvelFunction("checkOrientation")}else{if(isAndroid()){}}}function admarvelDetectDisplay(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectDisplay",a)}else{if(isAndroid()){}}}function admarvelDetectHidden(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectHidden",a)}else{if(isAndroid()){}}}function admarvelUpdateState(a){if(isIOS()){}else{if(isAndroid()){if(!isInterstitial()){window.ADMARVEL.updatestate(a)}}}}function admarvelNotifyPlayingAudio(){callURLInIFRAME("admarvelsdk://playingAudio")}function admarvelLaunchAdJitsu(a,b){if(isIOS()){var c={url:a,expandCallbackFn:b};callAdMarvelFunctionWithParameters("displayAdJitsu",c)}else{if(isAndroid()){}}}function admarvelLaunchCameraOverlay(a){if(isIOS()){var b={imageURL:a};callAdMarvelFunctionWithParameters("displayCameraOverlay",b)}else{if(isAndroid()){}}}function admarvelOpenExternalURL(a){if(isIOS()&&getAdMarvelSDKVersion()>283){admarvelURLRedirectWithAutoInteractionDetection("admarvelexternal"+a)}else{if(isIOS()&&getAdMarvelSDKVersion()<=283){admarvelURLRedirectWithAutoInteractionDetection("admarvelsafari"+a)}else{if(isAndroid()&&getAdMarvelSDKVersion()>214){admarvelURLRedirect("admarvelexternal"+a)}}}}function admarvelStopEventListener(a){var c=a.replace("Change","");if(isIOS()){var b={forEvent:c};callAdMarvelFunctionWithParameters("stopEventListener",b)}else{if(isAndroid()){}}}function admarvelOpenMapApplication(b,a){if(isIOS()){if((b!=null)){if((b.indexOf("?")>=0)){parameterString=b.substring(b.indexOf("?")+1)}else{if((b.indexOf("maps:")>=0)){parameterString=b.substring(b.indexOf("maps:")+5)}else{if(b.indexOf("maps.google.com")>=0){parameterString=b.substring(b.indexOf("maps.google.com")+15);parameterString=parameterString.substring(parameterString.lastIndexOf("/")+1)}else{parameterString=b}}}b="maps:"+parameterString;if(getAdMarvelSDKVersion()<=294){b="admarvelexternal"+b}}}admarvelURLRedirectWithAutoInteractionDetection(b)}function admarvelPlayAudio(a,b){if(isIOS()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}else{if(isAndroid()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}}}function admarvelPlayVideo(a,b){if(isIOS()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}else{if(isAndroid()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}}}function admarvelMakeCall(b){var a="tel:"+b;admarvelURLRedirectWithAutoInteractionDetection(a)}function admarvelSendSMS(c,a){var b="sms:"+c;if(isIOS()){if(getAdMarvelSDKVersion()>283){b+="?body="+encodeURIComponent(a)}admarvelURLRedirectWithAutoInteractionDetection(b)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>214){b+="?body="+encodeURIComponent(a)}admarvelURLRedirectWithAutoInteractionDetection(b)}}}function admarvelSendEmail(c,b,a){var d="mailto:"+c+"?subject="+encodeURIComponent(b)+"&body="+encodeURIComponent(a);admarvelURLRedirectWithAutoInteractionDetection(d)}function admarvelSetLayerTypeSoftware(){if(isIOS()){}else{if(isAndroid()){if(getAdMarvelSDKVersion()>233){window.ADMARVEL.setsoftwarelayer()}}}}function isIPhoneOrIPod(){if(detectDevice("iphone os")||detectDevice("iphoneos")){return true}else{return false}}function isIOS(){return(isIPhoneOrIPod()||detectDevice("ipad"))}function isAndroid(){return detectDevice("android")}function detectDevice(b){var c=navigator.userAgent.toLowerCase();var a=c.indexOf(b);return(a>-1)}function fillZero(a){if(a.length==1){return"0"+a}else{return a}}function isInterstitial(){if(typeof window.ADMARVEL.closeinterstitialad=="function"){return true}return false}function callAdMarvelFunctionWithParameters(c,b){if(b!=null&&b!=undefined){var a=new Array();for(var d in b){if(b.hasOwnProperty(d)&&b[d]!=null&&b[d]!=undefined){a[a.length]=encodeURIComponent(d)+"="+encodeURIComponent(b[d])}}if(a.length!=0){c=c+"?"+a.join("&")}}callAdMarvelFunction(c)}function initAdMarvel(a){callAdMarvelFunctionWithCallback("init",a)}function callAdMarvelFunctionWithCallback(c,a){var b={callbackFn:a};callAdMarvelFunctionWithParameters(c,b)}function callAdMarvelFunction(a){callURLInIFRAME("admarveljavascript:"+a)}function callURLInIFRAME(b){var a=document.createElement("IFRAME");a.setAttribute("src",b);a.width=0;a.height=0;if(document.body!=null){document.body.appendChild(a)}else{if(document.firstChild!=null){document.firstChild.appendChild(a)}}a.parentNode.removeChild(a);a=null}function handleInit(parameters){if(isIOS()){admarvelSDKInfo=eval("("+parameters+")");var featureSupported=admarvelSDKInfo.supportedFeatures.storePicture;if((featureSupported!=undefined)&&!featureSupported){var featureInfo=admarvelSDKFeatures.storePicture["ios"];if(featureInfo!=undefined){delete admarvelSDKFeatures.storePicture["ios"]}}}else{if(isAndroid()){admarvelSDKInfo=eval(parameters)}}adMarvelUpdateSDKVersion();adMarvelUpdateDimensions();if(admarvelSDKInitCallback!=null&&("function"==typeof eval(admarvelSDKInitCallback))){eval(admarvelSDKInitCallback)()}}function getNumericVersion(a){var e=0;var d=a.split(".");var c=100;for(var b=0,g=d.length;b<g;b++){var f=parseInt(d[b]);if(c<1){break}if(f>0){e+=f*c}c/=10}return e}function adMarvelUpdateSDKVersion(){if(admarvelSDKInfo!=null&&admarvelSDKInfo.sdkVersion!==undefined){admarvelSDKVersion=parseInt(getNumericVersion(admarvelSDKInfo.sdkVersion))}else{if(isIOS()&&admarvelSDKInfo.sdkVersion===undefined){admarvelSDKVersion=(undefined===admarvelSDKInfo.supportedFeatures)?282:283}if(isAndroid()&&admarvelSDKInfo.sdkVersion===undefined){admarvelSDKVersion=213}}}function adMarvelUpdateDimensions(){if(admarvelSDKInfo!=null&&isAndroid()){if(getAdMarvelSDKVersion()>231){var a=window.devicePixelRatio;admarvelSDKInfo.x=Math.round(admarvelSDKInfo.x/a);admarvelSDKInfo.y=Math.round(admarvelSDKInfo.y/a);admarvelSDKInfo.width=Math.round(admarvelSDKInfo.width/a);admarvelSDKInfo.height=Math.round(admarvelSDKInfo.height/a);admarvelSDKInfo.appX=Math.round(admarvelSDKInfo.appX/a);admarvelSDKInfo.appY=Math.round(admarvelSDKInfo.appY/a);admarvelSDKInfo.appWidth=Math.round(admarvelSDKInfo.appWidth/a);admarvelSDKInfo.appHeight=Math.round(admarvelSDKInfo.appHeight/a);admarvelSDKInfo.screenWidth=Math.round(admarvelSDKInfo.screenWidth/a);admarvelSDKInfo.screenHeight=Math.round(admarvelSDKInfo.screenHeight/a)}}}function admarvelReturnIndexOfObjectInArray(a,c){if(a!=null&&a!=undefined){for(var b=0;b<a.length;b++){if(a[b]==c){return b}}}return -1}function admarvelRemoveObject(b,c){var a=admarvelReturnIndexOfObjectInArray(b,c);if(a!=-1){b.splice(a,1)}}function admarvelGetParsedObj(){return admarvelSDKInfo}function getAndroidScreenSize(a){return{width:320,height:480}}function admarvelGetAdUnitSize(){var a={width:320,height:50};if(admarvelSDKInfo!=null){a={width:admarvelSDKInfo.width,height:admarvelSDKInfo.height}}return a}function admarvelGetMaxAdUnitSize(){var a={width:320,height:460};if(admarvelSDKInfo!=null){if(isIOS()&&getAdMarvelSDKVersion()>=291&&typeof mraid==="object"){if(getAdMarvelSDKVersion()>=302){a={width:admarvelSDKInfo.expandWidth,height:admarvelSDKInfo.expandHeight};return a}a={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight};if(window.orientation==90||window.orientation==-90){a={width:a.height,height:a.width}}return a}if(isAndroid()&&getAdMarvelSDKVersion()>=233&&typeof mraid==="object"){a={width:admarvelSDKInfo.appWidth,height:admarvelSDKInfo.appHeight};return a}if(isIOS()&&getAdMarvelSDKVersion()>=292){a.width=admarvelSDKInfo.expandWidth;a.height=admarvelSDKInfo.expandHeight}else{if(window.orientation==0||window.orientation==180){a.width=admarvelSDKInfo.appWidth;a.height=admarvelSDKInfo.appHeight;if(admarvelSDKInfo.appX>0){a.width=admarvelSDKInfo.appWidth+admarvelSDKInfo.appX;a.height=admarvelSDKInfo.appHeight-admarvelSDKInfo.appX}}else{if(window.orientation==90||window.orientation==-90){a.width=admarvelSDKInfo.appHeight;a.height=admarvelSDKInfo.appWidth;if(admarvelSDKInfo.appY>0){a.width=admarvelSDKInfo.appHeight+admarvelSDKInfo.appY;a.height=admarvelSDKInfo.appWidth-admarvelSDKInfo.appY}}}}}return a}function admarvelGetAdDefaultPosition(){var a={x:0,y:0,width:320,height:50};if(admarvelSDKInfo!=null){if(isIOS()&&getAdMarvelSDKVersion()>=302){var a={x:(admarvelSDKInfo.defaultX==undefined)?admarvelSDKInfo.x:admarvelSDKInfo.defaultX,y:(admarvelSDKInfo.defaultY==undefined)?admarvelSDKInfo.y:admarvelSDKInfo.defaultY,width:(admarvelSDKInfo.defaultWidth==undefined)?admarvelSDKInfo.width:admarvelSDKInfo.defaultWidth,height:(admarvelSDKInfo.defaultHeight==undefined)?admarvelSDKInfo.height:admarvelSDKInfo.defaultHeight};return a}a={x:admarvelSDKInfo.x,y:admarvelSDKInfo.y,width:admarvelSDKInfo.width,height:admarvelSDKInfo.height}}return a}function admarvelGetNetwork(){var a="unknown";if(admarvelSDKInfo!=null){a=(admarvelSDKInfo.network=="YES")?"cell":"offline";if(admarvelSDKInfo.networkType){a=admarvelSDKInfo.networkType}}return a}function admarvelGetOrientation(){var a=null;if(admarvelSDKInfo!=null){a=admarvelSDKInfo.orientation}return a}function admarvelGetDeviceScreenSize(){var b=null;if(undefined!==admarvelSDKInfo.supportedFeatures){if(admarvelSDKInfo.screenWidth>0&&admarvelSDKInfo.screenHeight>0){var a=admarvelSDKInfo.orientation;if(isAndroid()){b={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight}}else{if(a==0||a==180){b={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight}}else{b={width:admarvelSDKInfo.screenHeight,height:admarvelSDKInfo.screenWidth}}}}}else{if(isIOS()){var a=admarvelSDKInfo.orientation;if(isIPhoneOrIPod()){if(a==0||a==180){b={width:320,height:480}}else{b={width:480,height:320}}}else{if(a==0||a==180){b={width:768,height:1024}}else{b={width:1024,height:768}}}}else{b={width:320,height:480}}}return b}function admarvelStorePicture(b,a){if(b==undefined||!admarvelIsSupportedBySDK("storePicture")){return}if(isIOS()){var c={callbackFn:a,askforpermission:"true"};if(isFilePath(b)){c.imagePath=b}else{c.imageURL=b}callAdMarvelFunctionWithParameters("storePicture",c)}else{if(isAndroid()){window.ADMARVEL.storepicture(b,a)}}}function admarvelCheckForApplicationSupportedOrientations(a){if(!admarvelIsSupportedBySDK("checkForApplicationSupportedOrientations")){return}if(isIOS()){callAdMarvelFunctionWithCallback("checkForApplicationSupportedOrientations",a)}else{if(isAndroid()){window.ADMARVEL.checkForApplicationSupportedOrientations(a)}}}function admarvelGetLocation(a){if(!admarvelIsSupportedBySDK("getLocation")){return}if(isIOS()){callAdMarvelFunctionWithCallback("getLocation",a)}else{if(isAndroid()){window.ADMARVEL.getLocation(a)}}}function admarvelCreateReminder(a){if(!admarvelIsSupportedBySDK("createReminder")){return}if(isIOS()){var c="createReminder?";var b={title:a.title,startdate:a.startdate,duedate:a.duedate,timezone:a.timezone,notes:a.notes,recurrence:returnIOSSDKCompatibleRecurrenceString(a.recurrence),alarm:serializeAlarmObject(a.alarm),callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("createReminder",b)}else{if(isAndroid()){}}}function admarvelNotifyInAppBrowserCloseAction(a){if(!admarvelIsSupportedBySDK("notifyInAppBrowserCloseAction")){return}if(isIOS()){callAdMarvelFunctionWithCallback("notifyInAppBrowserCloseAction",a)}else{if(isAndroid()){window.ADMARVEL.notifyInAppBrowserCloseAction(a)}}}function admarvelListenModalViewCloseNotification(a){if(!admarvelIsSupportedBySDK("listenModalViewCloseNotification")){return}if(isIOS()){callAdMarvelFunctionWithCallback("listenModalViewCloseNotification",a)}else{if(isAndroid()){}}}function admarvelSocial(a){if(!admarvelIsSupportedBySDK("admarvelSocial")){return}if(isIOS()){var b={serviceType:a.serviceType,action:a.action,status:a.status,photoPath:a.photoPath,photoURL:a.photoURL,URL:a.URL,screen_name:a.screen_name,follow:a.follow,owner_screen_name:a.owner_screen_name,owner_id:a.owner_id,list_id:a.list_id,slug:a.slug,id:a.id,include_entities:a.include_entities,favorite:a.favorite,trim_user:a.trim_user,callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("admarvelSocial",b)}else{if(isAndroid()){}}}function admarvelIsServiceTypeAvailable(c,a){if(!admarvelIsSupportedBySDK("isServiceTypeAvailable")){return}if(isIOS()){var b={serviceType:c,callbackFn:a};callAdMarvelFunctionWithParameters("isServiceTypeAvailable",b)}else{if(isAndroid()){}}}function admarvelDisplayAlert(a){if(!admarvelIsSupportedBySDK("displayAlert")){return}if(isIOS()){var c="displayAlert?";var b={title:a.title,message:a.message,okButtonTitle:a.okButtonTitle,cancelButtonTitle:a.cancelButtonTitle,callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("displayAlert",b)}else{if(isAndroid()){}}}function getSupportedInterfaceOrientation(){var a=admarvelGetParsedObj();return a.applicationSupportedOrientations.split(",")}function admarvelRegisterForFullscreenViewDidAppearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewDidAppear",a)}}function admarvelRegisterForFullscreenViewDidDisappearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewDidDisappear",a)}}function admarvelRegisterForFullscreenViewWillAppearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewWillAppear",a)}}function admarvelRegisterForFullscreenViewWillDisappearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewWillDisappear",a)}}function admarvelRegisterForApplicationWillResignActiveNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationWillResignActive",a)}}function admarvelRegisterForApplicationDidEnterBackgroundNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationDidEnterBackground",a)}}function admarvelRegisterForApplicationWillEnterForegroundNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationWillEnterForeground",a)}}function admarvelRegisterForApplicationDidBecomeActiveNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationDidBecomeActive",a)}}function admarvelStartAudioRecording(a){if(isIOS()){var b="startAudioRecording";callAdMarvelFunctionWithParameters(b,a)}}function admarvelPauseAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("pauseAudioRecording",a)}}function admarvelResumeAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("resumeAudioRecording",a)}}function admarvelStopAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("stopAudioRecording",a)}}function admarvelDeleteAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("deleteAudioRecording",a)}}function admarvelStartVideoRecording(b){if(isIOS()){var a="startVideoRecording";callAdMarvelFunctionWithParameters(a,b)}}function isFilePath(a){return a.indexOf("/")===0}function dateStringFromDate(c){if(c==null||c==undefined){return null}var e=c.getFullYear();var g=c.getMonth()+1;var b=c.getDate();var a=c.getHours();var d=c.getMinutes();var f=e+zeroPad(g)+zeroPad(b)+zeroPad(a)+zeroPad(d);return f}function dateStringFromDateInUTC(c){if(c==null||c==undefined){return null}var e=c.getFullYear();var g=c.getMonth()+1;var b=c.getDate();var a=c.getHours();var d=c.getMinutes();var h=c.getSeconds();var f=e+zeroPad(g)+zeroPad(b)+"T"+zeroPad(a)+zeroPad(d)+zeroPad(h);return f}function zeroPad(a){var b="";if(a<10){b+="0"}b+=a;return b}function checkIfIosVersionIsFiveOrNewer(){if(/(iPhone|iPod|iPad)/i.test(navigator.userAgent)){if(/OS [2-4]_\d(_\d)? like Mac OS X/i.test(navigator.userAgent)){return false}else{if(/CPU like Mac OS X/i.test(navigator.userAgent)){return false}else{return true}}}}function checkIfAndroidOSVersionIsFourOrNewer(){if(/(android)/i.test(navigator.userAgent)){if(/Android [0-3]/i.test(navigator.userAgent)){return false}else{return true}}return false}function parseTime(a){if(a==null||a==undefined||a.length==0){return null}a=a.toLowerCase();var b=null;if(a.lastIndexOf("z")===a.length-1){b="+00:00";a=a.substr(0,a.length-1);a=a.replace(/[a-z]/g,"");a=a.replace(/:/g,"");a=a.replace(/-/g,"")}else{if(a.lastIndexOf("+")===a.length-6||a.lastIndexOf("-")===a.length-6){b=a.substr(a.length-6,a.length);a=a.substr(0,a.length-6);a=a.replace(/[a-z]/g,"");a=a.replace(/:/g,"");a=a.replace(/-/g,"")}else{return null}}return{time:a,timezone:b}}function getMilisecondsFromHours(b){if(b==null||b==undefined||b.length==0){return null}var e=b.split(":");var d=Math.abs(parseInt(e[0]));var f=parseInt(e[1]);var a=e[0].slice(0,1);var c=null;if(a=="-"){c=((d*60*60)+(f*60))*-1000}else{c=((d*60*60)+(f*60))*1000}return c}function returnDateComponentsFromTimeString(a){if(a==null||a==undefined||a.length==0){return null}var b=a.split("t");var h=b[0].split("-");var c=b[1].split(":");var f=h[0];var e=(parseInt(h[1])-1).toString();var g=h[2];var j=c[0];var d=c[1];var k=c[2];return{year:f,month:e,day:g,hours:j,minutes:d,seconds:k}}function dateObjectFromTimeString(b){if(b==undefined||b.length==0||b==null){return -1}if((isIOS()&&!checkIfIosVersionIsFiveOrNewer())||(isAndroid()&&!checkIfAndroidOSVersionIsFourOrNewer())){b=b.toLowerCase();var d=null;if(b.lastIndexOf("z")===b.length-1){d="+00:00";b=b.substr(0,b.length-1)}else{if(b.lastIndexOf("+")===b.length-6||b.lastIndexOf("-")===b.length-6){d=b.substr(b.length-6,b.length);b=b.substr(0,b.length-6)}else{return -1}}var a=returnDateComponentsFromTimeString(b);var c=new Date(a.year,a.month,a.day,a.hours,a.minutes,a.seconds);var e=c.getTime()-getMilisecondsFromHours(d)+Math.abs(c.getTimezoneOffset()*60*1000);return new Date(e)}else{return new Date(b)}}function returnIOSSDKCompatibleRecurrenceString(a){if(a==null||a==undefined){return null}var b="";if(a.frequency!=undefined&&a.frequency!=null){b=b+"frequency:"+a.frequency+";"}if(a.interval!=undefined&&a.interval!=null){b=b+"interval:"+a.interval.toString()+";"}if(a.expires!=undefined&&a.expires!=null){b=b+"expires:"+a.expires+";"}if(a.daysInWeek!=undefined&&a.daysInWeek!=null){b=b+"daysInWeek:"+a.daysInWeek.join()+";"}if(a.daysInMonth!=undefined&&a.daysInMonth!=null){b=b+"daysInMonth:"+a.daysInMonth.join()+";"}if(a.daysInYear!=undefined&&a.daysInYear!=null){b=b+"daysInYear:"+a.daysInYear.join()+";"}if(a.weeksInMonth!=undefined&&a.weeksInMonth!=null){b=b+"weeksInMonth:"+a.weeksInMonth.join()+";"}if(a.monthsInYear!=undefined&&a.monthsInYear!=null){b=b+"monthsInYear:"+a.monthsInYear.join()+";"}return b}function serializeAlarmObject(a){if(a==null||a==undefined){return null}var b="";if(a.date!=undefined&&a.date!=null){b=b+"date:"+a.date+";"}if(a.location_title!=undefined&&a.location_title!=null){b=b+"location_title:"+a.location_title+";"}if(a.location_latitude!=undefined&&a.location_latitude!=null){b=b+"location_latitude:"+a.location_latitude+";"}if(a.location_longitude!=undefined&&a.location_longitude!=null){b=b+"location_longitude:"+a.location_longitude+";"}if(a.proximity!=undefined&&a.proximity!=null){b=b+"proximity:"+a.proximity+";"}return b}var ORMMA_INITIAL_VERSION=1;var ORMMA_FIRST_UPDATE=1.1;var ORMMA_SECOND_UPDATE=1.2;var ORMMA_THIRD_UPDATE=1.3;var callExpandAfterCheckFrameValues=null;var admarvelORMMAComplianceVersion=ORMMA_INITIAL_VERSION;var ormma=(function(){var pub={};function setDefaultListeners(){admarvelSetOrientationListener(pub.orientationListenerPrivate);if(admarvelORMMAComplianceVersion==ORMMA_INITIAL_VERSION||(admarvelORMMAComplianceVersion==ORMMA_FIRST_UPDATE&&pub.placementType=="interstitial")){admarvelDetectDisplay("ormma.displayListenerPrivate");admarvelDetectHidden("ormma.hiddenListenerPrivate");return}if(admarvelORMMAComplianceVersion>=ORMMA_FIRST_UPDATE){admarvelRegisterVisibilityChangeEvent("ormma.visibilityListenerPrivate");admarvelRegisterSizeChangeEvent("ormma.sizeChangeListenerPrivate");return}}function bindEvent(eventName,listenerFn){if(eventName=="tiltChange"){admarvelRegisterAccelerationEvent("ormma.accelerationListenerPrivate")}else{if(eventName=="shake"){admarvelRegisterShakeEvent("ormma.shakeListenerPrivate",pub.shakeProperties.intensity,pub.shakeProperties.interval)}else{if(eventName=="networkChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterNetworkChangeEvent("ormma.networkListenerPrivate")}else{pub.fireEventListeners("error",["Event networkChange not supported",null]);return}}else{if(eventName=="headingChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterHeadingChangeEvent("ormma.headingListenerPrivate")}else{pub.fireEventListeners("error",["Event headingChange not supported",null]);return}}else{if(eventName=="keyboardChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterKeyboardChangeEvent("ormma.keyboardListenerPrivate")}else{pub.fireEventListeners("error",["Event keyboardChange not supported",null]);return}}else{if(eventName=="locationChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterLocationEvent("ormma.locationListenerPrivate")}else{pub.fireEventListeners("error",["Event locationChange not supported",null]);return}}}}}}}var handlers=pub.listeners[eventName+"EventListener"];if(handlers==null){pub.listeners[eventName+"EventListener"]=[];handlers=pub.listeners[eventName+"EventListener"]}if(admarvelReturnIndexOfObjectInArray(handlers,listenerFn)==-1){handlers.push(listenerFn)}}function unbindEvent(eventName,listenerFn){var handlers=pub.listeners[eventName+"EventListener"];if(!listenerFn){handlers.splice(0,pub.listeners[eventName+"EventListener"].length)}else{handlers=pub.listeners[eventName+"EventListener"];admarvelRemoveObject(handlers,listenerFn)}}function updateFeatureSet(){if(detectDevice("ipod")||detectDevice("ipad")){pub.supportedFeatures.sms=false;pub.supportedFeatures.phone=false}}function determinePlacementType(obj){var placementType=null;if(admarvelORMMAComplianceVersion>=ORMMA_THIRD_UPDATE){placementType=(obj.adType=="Interstitial")?"interstitial":"inline"}else{if(isIOS()&&(typeof obj.screenWidth)!="undefined"&&(typeof obj.screenHeight)!="undefined"){placementType=((typeof adMarvelIsInitialLoad)=="undefined"&&pub.size.width==pub.screenSize.width&&pub.size.height==pub.screenSize.height)?"interstitial":"inline"}else{if(isAndroid()){placementType=(!isInterstitial())?"inline":"interstitial"}else{placementType=(isIOS()&&(typeof adMarvelIsInitialLoad)!="undefined")?"inline":"interstitial"}}}return placementType}pub.fireEventListeners=function(eventName,args){var handlers=pub.listeners[eventName+"EventListener"];if(handlers!=null){for(var i=0;i<handlers.length;i++){handlers[i].apply(null,args)}}};pub.keyboardListenerPrivate=function(open){pub.keyboard=open;pub.fireEventListeners("keyboardChange",[open])};pub.headingListenerPrivate=function(headingValue){pub.heading=headingValue;pub.fireEventListeners("headingChange",[headingValue])};pub.accelerationListenerPrivate=function(rawX,rawY,rawZ,filteredX,filteredY,filteredZ,deltaX,deltaY,deltaZ){pub.tilt={x:filteredX,y:filteredY,z:filteredZ};pub.fireEventListeners("tiltChange",[filteredX,filteredY,filteredZ])};pub.shakeListenerPrivate=function(){pub.fireEventListeners("shake",null)};pub.networkListenerPrivate=function(isAvailable,connectionType){pub.network=connectionType;pub.fireEventListeners("networkChange",[isAvailable,connectionType])};pub.orientationListenerPrivate=function(){var newOrientation=pub.getORMMACompatibleOrientations(window.orientation);if(pub.orientation!=newOrientation){if(Math.abs(pub.orientation-newOrientation)!=180){if(isIOS()&&getAdMarvelSDKVersion()>=292){admarvelCheckFrameValues("ormma.updateFrames")}else{var temp=pub.screenSize.width;pub.screenSize.width=pub.screenSize.height;pub.screenSize.height=temp;temp=pub.maxSize.width;pub.maxSize.width=pub.maxSize.height;pub.maxSize.height=temp}}}pub.orientation=pub.getORMMACompatibleOrientations(window.orientation);pub.fireEventListeners("orientationChange",[pub.orientation]);pub.fireEventListeners("screenChange",[pub.screenSize.width,pub.screenSize.height])};pub.sizeChangeListenerPrivate=function(newWidth,newHeight){pub.size={width:newWidth,height:newHeight};pub.fireEventListeners("sizeChange",[newWidth,newHeight])};pub.locationListenerPrivate=function(latitude,longitude,accuracy){pub.location={lat:latitude,lon:longitude,acc:accuracy};pub.fireEventListeners("locationChange",[latitude,longitude,accuracy])};pub.updateFrames=function(params){if(params!=undefined){var parsedObj=admarvelGetParsedObj();if(isAndroid()&&getAdMarvelSDKVersion()>=238){var density=window.devicePixelRatio;parsedObj.x=Math.round(params.x/density);parsedObj.y=Math.round(params.y/density);parsedObj.width=Math.round(params.width/density);parsedObj.height=Math.round(params.height/density);parsedObj.expandX=Math.round(params.expandX/density);parsedObj.expandY=Math.round(params.expandY/density);parsedObj.expandWidth=Math.round(params.expandWidth/density);parsedObj.expandHeight=Math.round(params.expandHeight/density);parsedObj.appX=Math.round(params.appX/density);parsedObj.appY=Math.round(params.appY/density);parsedObj.appWidth=Math.round(params.appWidth/density);parsedObj.appHeight=Math.round(params.appHeight/density)}else{parsedObj.x=params.x;parsedObj.y=params.y;parsedObj.width=params.width;parsedObj.height=params.height;parsedObj.expandX=params.expandX;parsedObj.expandY=params.expandY;parsedObj.expandWidth=params.expandWidth;parsedObj.expandHeight=params.expandHeight;parsedObj.appX=params.appX;parsedObj.appY=params.appY;parsedObj.appWidth=params.appWidth;parsedObj.appHeight=params.appHeight;parsedObj.defaultX=params.defaultX;parsedObj.defaultY=params.defaultY;parsedObj.viewInWindow=params.viewInWindow}}pub.defaultPosition=admarvelGetAdDefaultPosition();pub.size=admarvelGetAdUnitSize();pub.maxSize=admarvelGetMaxAdUnitSize();if(callExpandAfterCheckFrameValues!=null){eval(callExpandAfterCheckFrameValues)}};pub.visibilityListenerPrivate=function(visible){if(visible){admarvelCheckFrameValues("ormma.updateFrames")}pub.viewable=visible;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.displayListenerPrivate=function(){pub.viewable=true;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.hiddenListenerPrivate=function(){pub.viewable=false;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.useCustomClose=function(usingOwnCloseGraphic){if(usingOwnCloseGraphic!==pub.expandProperties.useCustomClose){pub.expandProperties.useCustomClose=usingOwnCloseGraphic;admarvelConfigureSDKCloseButton(!usingOwnCloseGraphic,"showArea:true")}};pub.init=function(){admarvelInit("ormma.initCB")};pub.intervalId=null;pub.waitDuration=100;pub.totalWaitTime=0;pub.timeOutThreshold=10000;pub.expandProperties={};if(ORMMA_CURRENT_VERSION==1){var expandProps={useBackground:false,backgroundColor:"#ffffff",backgroundOpacity:"1.0",lockOrientation:false};pub.expandProperties=expandProps}else{if(ORMMA_CURRENT_VERSION==1.1){var expandProps={isModal:true,useBackground:false,backgroundColor:"#ffffff",backgroundOpacity:"1.0",lockOrientation:false};pub.expandProperties=expandProps}}pub.viewable=false;pub.size={};pub.maxSize={};pub.state=null;pub.lastState=null;pub.defaultPosition={};pub.orientation=null;pub.location=null;pub.network=null;pub.heading=null;pub.screenSize=null;pub.tilt=null;pub.keyboard=false;pub.placementType=null;pub.shakeProperties={intensity:2,interval:1};pub.listeners={readyEventListener:null,networkChangeEventListener:null,keyboardChangeEventListener:null,orientationChangeEventListener:null,headingChangeEventListener:null,screenChangeEventListener:null,shakeEventListener:null,sizeChangeEventListener:null,stateChangeEventListener:null,tiltChangeEventListener:null,viewableChangeEventListener:null,errorEventListener:null,locationChangeEventListener:null,adJitsuExpandedEventListener:null};var dimensionValidators={x:function(value){return !isNaN(value)},y:function(value){return !isNaN(value)},width:function(value){return !isNaN(value)&&value>=0},height:function(value){return !isNaN(value)&&value>=0}};var sizeValidators={width:function(value){return !isNaN(value)&&value>=0&&value<=pub.maxSize.width},height:function(value){return !isNaN(value)&&value>=0&&value<=pub.maxSize.height}};var expandPropertyValidators={width:function(value){return !isNaN(value)&&value>=0},height:function(value){return !isNaN(value)&&value>=0},isModal:function(value){return(value===true||value===false)},useCustomClose:function(value){return(value===true||value===false)},useBackground:function(value){return(value===true||value===false)},backgroundColor:function(value){return(typeof value=="string"&&value.substr(0,1)=="#"&&!isNaN(parseInt(value.substr(1),16)))},backgroundOpacity:function(value){return !isNaN(value)&&value>=0&&value<=1},lockOrientation:function(value){return(value===true||value===false)}};var shakePropertyValidators={intensity:function(value){return !isNaN(value)},interval:function(value){return !isNaN(value)}};pub.valid=function(obj,validators,action,flag){if(obj===undefined){pub.fireEventListeners("error",["Required object missing.",action]);return false}var propertiesToCheckInObj=(flag==true)?validators:obj;for(var i in propertiesToCheckInObj){if(flag==true&&obj[i]===undefined){pub.fireEventListeners("error",["Missing property - "+i+".",action]);return false}else{if(!validators[i]){pub.fireEventListeners("error",["Invalid property specified - "+i+".",action]);return false}}if(!(validators[i])(obj[i])){pub.fireEventListeners("error",["Value of property "+i+" is not valid type.",action]);return false}}return true};pub.supportedFeatures={screen:true,orientation:true,heading:false,location:false,shake:true,tilt:true,network:true,sms:true,phone:true,email:true,calendar:false,camera:true,map:true,audio:true,video:true,"level-1":true,"level-2":true,"level-3":false};pub.getSize=function(){return pub.size};pub.getMaxSize=function(){return pub.maxSize};pub.getViewable=function(){if(isAndroid()){return true}return pub.viewable};pub.getState=function(){return pub.state};pub.getDefaultPosition=function(){return pub.defaultPosition};pub.getExpandProperties=function(){if(ORMMA_CURRENT_VERSION==1){return pub.expandProperties}else{if(ORMMA_CURRENT_VERSION==1.1){var temp=pub.expandProperties;temp.width=(pub.expandProperties.width==undefined)?pub.maxSize.width:pub.expandProperties.width;temp.height=(pub.expandProperties.height==undefined)?pub.maxSize.height:pub.expandProperties.height;return temp}}};pub.getPlacementType=function(){return pub.placementType};pub.setExpandProperties=function(props){if(!pub.valid(props,expandPropertyValidators,"setExpandProperties")){return}if(props.lockOrientation){pub.expandProperties.lockOrientation=props.lockOrientation;admarvelDisableRotation()}if(props.useCustomClose!==undefined){pub.useCustomClose(props.useCustomClose)}if(props.width!==undefined){pub.expandProperties.width=props.width}if(props.height!==undefined){pub.expandProperties.height=props.height}if(pub.expandProperties.useBackground==true){var redHex=props.backgroundColor.substr(1,2);var greenHex=props.backgroundColor.substr(3,2);var blueHex=props.backgroundColor.substr(5,2);var red=(parseInt(redHex,16)/255).toFixed(2);var green=(parseInt(greenHex,16)/255).toFixed(2);var blue=(parseInt(blueHex,16)/255).toFixed(2);admarvelSetBackgroundColor(props.backgroundOpacity,red,green,blue)}};pub.supports=function(featureName){return pub.supportedFeatures[featureName]};pub.addEventListener=function(eventName,listenerFn){if(!eventName||!listenerFn){pub.fireEventListeners("error",["Both event and listener are required.","addEventListener"])}else{if(pub.listeners[eventName+"EventListener"]===undefined){pub.fireEventListeners("error",["Unknown event: "+eventName,"addEventListener"])}else{bindEvent(eventName,listenerFn)}}};pub.removeEventListener=function(eventName,listenerFn){if(!eventName){pub.fireEventListeners("error",["Must specify an event.","removeEventListener"])}else{var handlers=pub.listeners[eventName+"EventListener"];if(listenerFn!==undefined&&admarvelReturnIndexOfObjectInArray(handlers,listenerFn)==-1){pub.fireEventListeners("error",["Listener not currently registered for event","removeEventListener"])}else{if(admarvelORMMAComplianceVersion>ORMMA_FIRST_UPDATE){admarvelStopEventListener(eventName)}unbindEvent(eventName,listenerFn)}}};pub.calculateSize=function(newWidth,newHeight){var newWidth=(newWidth>pub.maxSize.width)?pub.maxSize.width:newWidth;var newHeight=(newHeight>pub.maxSize.height)?pub.maxSize.height:newHeight;var availableWidth=pub.maxSize.width-pub.defaultPosition.x;var availableHeight=pub.maxSize.height-pub.defaultPosition.y;var centerX=pub.defaultPosition.x+0.5*pub.size.width;var centerY=pub.defaultPosition.y+0.5*pub.size.height;var newX=null;var newY=null;if(newWidth<=availableWidth&&newHeight<=availableHeight){newX=pub.defaultPosition.x;newY=pub.defaultPosition.y}else{if((newWidth<=(pub.defaultPosition.x+pub.size.width))&&newHeight<=(pub.defaultPosition.y+pub.size.height)){var deltaX=newWidth-pub.size.width;var deltaY=newHeight-pub.size.height;newX=Math.max(pub.defaultPosition.x-deltaX,0);newY=Math.max(pub.defaultPosition.y-deltaY,0)}else{if((0.5*pub.maxSize.width>=centerX+0.5*newWidth)&&(0.5*pub.maxSize.height>=centerY+0.5*newHeight)){newX=centerX-0.5*newWidth;newY=centerY-0.5*newHeight}else{newX=0;if(isIOS()){var parsedObj=admarvelGetParsedObj();newY=parsedObj.appY}else{newY=pub.defaultPosition.y}}}}var calculatedSize={width:newWidth,height:newHeight,x:newX,y:newY};return calculatedSize};pub.resize=function(newWidth,newHeight){if(newWidth==null||newHeight==null||isNaN(newWidth)||isNaN(newHeight)||newWidth<0||newHeight<0){pub.fireEventListeners("error",["Requested size must be numeric values between 0 and maxSize.","resize"]);return}else{if((newWidth>pub.maxSize.width)||(newHeight>pub.maxSize.height)){pub.fireEventListeners("error",["Request ("+newWidth+" x "+newHeight+") exceeds maximum allowable size of ("+pub.maxSize.width+" x "+pub.maxSize.height+")","resize"]);return}else{if((newWidth==pub.size.width)&&(newHeight==pub.size.height)){pub.fireEventListeners("error",["Requested size equals current size.","resize"]);return}}}var calculatedSize=pub.calculateSize(newWidth,newHeight);admarvelExpandTo(calculatedSize.width,calculatedSize.height,calculatedSize.x,calculatedSize.y,"ormma.closeHandler");pub.lastState=pub.state;pub.state="resized";pub.size={width:newWidth,height:newHeight};pub.fireEventListeners("stateChange",[pub.state]);pub.fireEventListeners("sizeChange",[newWidth,newHeight])};pub.expand=function(params){if(ORMMA_CURRENT_VERSION==1.1){if(!(typeof params=="string"||params==null||params==undefined)){pub.fireEventListeners("error",["Invalid parameter type","expand"]);return}if(pub.state=="expanded"){return}if(callExpandAfterCheckFrameValues==null&&isIOS()){callExpandAfterCheckFrameValues=(params!=undefined)?"pub.expand('"+params+"');":"pub.expand();";admarvelCheckFrameValues("ormma.updateFrames");return}callExpandAfterCheckFrameValues=null;var defaultExpandProperties={};if(pub.expandProperties.width==undefined){defaultExpandProperties.width=pub.maxSize.width}if(pub.expandProperties.height==undefined){defaultExpandProperties.height=pub.maxSize.height}if(pub.expandProperties.useCustomClose==undefined){defaultExpandProperties.useCustomClose=false}pub.setExpandProperties(defaultExpandProperties);var newWidth=pub.expandProperties.width;var newHeight=pub.expandProperties.height;var calculatedSize=pub.calculateSize(newWidth,newHeight);var URLParam=(params)?params:null;admarvelExpandTo(calculatedSize.width,calculatedSize.height,calculatedSize.x,calculatedSize.y,"ormma.closeHandler",URLParam);pub.lastState=pub.state;pub.state="expanded";pub.size={width:newWidth,height:newHeight}}else{if(ORMMA_CURRENT_VERSION==1){if(!pub.valid(params,dimensionValidators,"expand",true)){return}if(callExpandAfterCheckFrameValues==null&&isIOS()){callExpandAfterCheckFrameValues="pub.expand({x:"+params.x+",y:"+params.y+",width:"+params.width+",height:"+params.height+"});";admarvelCheckFrameValues("ormma.updateFrames");return}callExpandAfterCheckFrameValues=null;var parsedObj=admarvelGetParsedObj();if(isIOS()&&params.y<parsedObj.appY){if(getAdMarvelSDKVersion()>291){if(parsedObj.expandHeight>parsedObj.appHeight){params.y=parsedObj.appY}}}admarvelExpandTo(params.width,params.height,params.x,params.y,"ormma.closeHandler");pub.lastState=pub.state;pub.state="expanded";pub.size={width:params.width,height:params.height}}}pub.fireEventListeners("stateChange",[pub.state])};pub.open=function(URL){if(!URL){pub.fireEventListeners("error",["URL is required.","open"])}else{admarvelURLRedirectWithAutoInteractionDetection(URL)}};pub.openMap=function(poi,fullscreen){if(!pub.supportedFeatures.map){pub.fireEventListeners("error",["Method not supported by this client.","openMap"])}else{admarvelOpenMapApplication(poi,fullscreen)}};pub.playAudio=function(URL,props){if(!pub.supports("audio")){pub.fireEventListeners("error",["Method not supported by this client.","playAudio"])}else{if(!URL){pub.fireEventListeners("error",["URL is required.","playAudio"])}else{admarvelNotifyPlayingAudio();admarvelPlayAudio(URL,props)}}};pub.playVideo=function(URL,props){if(!pub.supports("video")){pub.fireEventListeners("error",["Method not supported by this client.","playVideo"])}else{if(!URL){pub.fireEventListeners("error",["URL is required.","playVideo"])}else{admarvelPlayVideo(URL,props)}}};pub.show=function(){if(pub.state=="hidden"){pub.state="default";pub.fireEventListeners("stateChange",null)}};pub.closeHandler=function(){pub.size=admarvelGetAdUnitSize();pub.defaultPosition=admarvelGetAdDefaultPosition();pub.state=pub.lastState;if(pub.expandProperties.lockOrientation){admarvelEnableRotation()}pub.fireEventListeners("stateChange",[pub.state])};pub.close=function(){admarvelCollapse();pub.closeHandler()};pub.hide=function(){admarvelClose();if(pub.state=="default"){pub.state="hidden";pub.fireEventListeners("stateChange",[pub.state])}};pub.getOrientation=function(){if(!pub.supports("orientation")){pub.fireEventListeners("error",["Method not supported by this client.","getOrientation"])}return pub.orientation};pub.makeCall=function(numberToCall){if(!pub.supports("phone")){pub.fireEventListeners("error",["Method not supported by this client.","makeCall"])}else{if(!numberToCall||typeof numberToCall!="string"){pub.fireEventListeners("error",["Request must provide a number to call.","makeCall"])}else{admarvelMakeCall(numberToCall)}}};pub.triggerOrmmaReady=function(){if(pub.totalWaitTime==0){setDefaultListeners();pub.state="default";pub.fireEventListeners("ready",null)}if(typeof ORMMAReady=="function"){window.clearInterval(pub.intervalId);pub.intervalId=null;ORMMAReady()}else{pub.totalWaitTime+=pub.waitDuration;if(pub.totalWaitTime>=pub.timeOutThreshold){window.clearInterval(pub.intervalId);pub.intervalId=null}}};pub.getKeyboard=function(){return pub.keyboard};pub.sendSMS=function(recipient,body){if(!pub.supports("sms")){pub.fireEventListeners("error",["Method not supported by this client.","sendSMS"])}else{if(!recipient||typeof recipient!="string"){pub.fireEventListeners("error",["Request must specify a recipient.","sendSMS"])}else{admarvelSendSMS(recipient,body)}}};function zeroPad(number){var text="";if(number<10){text+="0"}text+=number;return text}pub.createEvent=function(date,title,body){if(!pub.supports("calendar")){pub.fireEventListeners("error",["Method not supported by this client.","createEvent"])}else{if(typeof date=="undefined"||date==null){pub.fireEventListeners("error",["Date parameter not provided.","createEvent"]);return}if(typeof title=="undefined"||title==null){pub.fireEventListeners("error",["Title parameter not provided.","createEvent"]);return}var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();var hours=date.getHours();var minutes=date.getMinutes();var dateString=year+zeroPad(month)+zeroPad(day)+zeroPad(hours)+zeroPad(minutes);admarvelCreateCalendarEvent(dateString,title,body)}};pub.sendMail=function(recipient,subject,body){if(!pub.supports("email")){pub.fireEventListeners("error",["Method not supported by this client.","sendMail"])}else{if(!recipient||typeof recipient!="string"){pub.fireEventListeners("error",["Request must specify a recipient.","sendMail"])}else{admarvelSendEmail(recipient,subject,body)}}};pub.setShakeProperties=function(props){if(!pub.supports("shake")){pub.fireEventListeners("error",["Method not supported by this client.","setShakeProperties"])}else{if(pub.valid(props,shakePropertyValidators,"setShakeProperties")){pub.shakeProperties=props}}};pub.getShakeProperties=function(){if(!pub.supports("shake")){pub.fireEventListeners("error",["Method not supported by this client.","getShakeProperties"])}return pub.shakeProperties};pub.getNetwork=function(){if(!pub.supports("network")){pub.fireEventListeners("error",["Method not supported by this client.","getNetwork"])}return pub.network};pub.getTilt=function(){if(!pub.supports("tilt")){pub.fireEventListeners("error",["Method not supported by this client.","getTilt"])}return pub.tilt};pub.getHeading=function(){if(!pub.supports("heading")){pub.fireEventListeners("error",["Method not supported by this client.","getHeading"])}return pub.heading};pub.getLocation=function(){if(!pub.supports("location")){pub.fireEventListeners("error",["Method not supported by this client.","getLocation"])}return pub.location};pub.getScreenSize=function(){if(!pub.supports("screen")){pub.fireEventListeners("error",["Method not supported by this client.","getScreenSize"])}return pub.screenSize};pub.getORMMAComplianceVersion=function(parsedObj){var complianceVersion=ORMMA_INITIAL_VERSION;if(isIOS()){if(undefined!==parsedObj.sdkVersion){if(getAdMarvelSDKVersion()>290){complianceVersion=ORMMA_THIRD_UPDATE}else{if(getAdMarvelSDKVersion()>284){complianceVersion=ORMMA_SECOND_UPDATE}}}else{complianceVersion=(undefined===parsedObj.supportedFeatures)?ORMMA_INITIAL_VERSION:ORMMA_FIRST_UPDATE}}else{if(isAndroid()){if(undefined===parsedObj.sdkVersion){complianceVersion=ORMMA_FIRST_UPDATE}else{complianceVersion=ORMMA_SECOND_UPDATE}}}return complianceVersion};pub.getORMMACompatibleOrientations=function(sdkReportedOrientation){var orientationNumeric=parseInt(sdkReportedOrientation,10);if(orientationNumeric!=0&&orientationNumeric!=180){orientationNumeric+=180}return orientationNumeric};pub.isViewable=function(){if(isAndroid()){return true}return pub.viewable};pub.getVersion=function(){return ORMMA_CURRENT_VERSION};pub.createDelegate=function(fn,obj,args){return function(){var callArgs=args||arguments;return fn.apply(obj||window,callArgs)}};pub.setTimer=function(fn,millis,obj,args){fn=pub.createDelegate(fn,obj,args);return setTimeout(fn,millis)};pub.initCB=function(){admarvelAutoInteractionDetection(false);var parsedObj=admarvelGetParsedObj();admarvelORMMAComplianceVersion=pub.getORMMAComplianceVersion(parsedObj);if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){pub.supportedFeatures=parsedObj.supportedFeatures}pub.state="loading";pub.size=admarvelGetAdUnitSize();pub.maxSize=admarvelGetMaxAdUnitSize();pub.defaultPosition=admarvelGetAdDefaultPosition();pub.network=admarvelGetNetwork();pub.orientation=pub.getORMMACompatibleOrientations(parsedObj.orientation);pub.screenSize=admarvelGetDeviceScreenSize();pub.placementType=determinePlacementType(parsedObj);if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){pub.location=(typeof parsedObj.location=="string")?eval("("+parsedObj.location+")"):parsedObj.location}if(admarvelORMMAComplianceVersion==ORMMA_INITIAL_VERSION){updateFeatureSet()}pub.intervalId=window.setInterval(pub.triggerOrmmaReady,pub.waitDuration)};pub.clickToApp=function(URL){if(!URL){pub.fireEventListeners("error",["URL is required.","clickToApp"])}else{admarvelOpenExternalURL(URL)}};pub.createEventWithFullDetails=function(date,title,body,location,allDay,endDate,reminderDate){if(!pub.supports("calendar")){pub.fireEventListeners("error",["Method not supported by this client.","createEventWithFullDetails"])}else{if(typeof date=="undefined"||date==null){pub.fireEventListeners("error",["Date parameter not provided.","createEvent"]);return}if(typeof title=="undefined"||title==null){pub.fireEventListeners("error",["Title parameter not provided.","createEvent"]);return}var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();var hours=date.getHours();var minutes=date.getMinutes();var dateString=year+zeroPad(month)+zeroPad(day)+zeroPad(hours)+zeroPad(minutes);var endDateString=null;if(endDate!=null&&typeof endDate!="undefined"){var endYear=endDate.getFullYear();var endMonth=endDate.getMonth()+1;var endDay=endDate.getDate();var endHours=endDate.getHours();var endMinutes=endDate.getMinutes();endDateString=endYear+zeroPad(endMonth)+zeroPad(endDay)+zeroPad(endHours)+zeroPad(endMinutes)}var reminderOffsetInSeconds=1;if(reminderDate!=null&&typeof reminderDate!="undefined"){reminderOffsetInSeconds=Math.round((reminderDate.getTime()-date.getTime())/1000);if(reminderOffsetInSeconds>0){reminderOffsetInSeconds=0}}var allDayString="NO";if((allDay=="YES")||(allDay=="yes")||(allDay=="Y")||(allDay=="y")){allDayString="YES"}admarvelCreateCalendarEventWithFullDetails(dateString,title,body,location,allDayString,endDateString,reminderOffsetInSeconds.toString())}};pub.playVideoContainingAudioContent=function(URL,properties){admarvelNotifyPlayingAudio();pub.playVideo(URL,properties)};pub.openContainingAudioContent=function(URL,controls){admarvelNotifyPlayingAudio();pub.open(URL,controls)};pub.adJitsu=function(URL){if(!URL||typeof URL!="string"){pub.fireEventListeners("error",["Valid URL required.","adJitsu"])}else{admarvelLaunchAdJitsu(URL,"ormma.adJitsuExpandedListenerPrivate")}};pub.adJitsuExpandedListenerPrivate=function(){pub.fireEventListeners("adJitsuExpanded",null)};pub.cameraOverlay=function(imageURL){if(!imageURL||typeof imageURL!="string"){pub.fireEventListeners("error",["Valid imageURL required.","cameraOverlay"])}else{admarvelLaunchCameraOverlay(imageURL)}};return pub}());ormma.init();var ORMMA_CURRENT_VERSION=1;var admarvelSDKInfo=null;var admarvelSDKVersion=null;var admarvelSDKInitCallback=null;var admarvelSDKFeatures={checkNetworkAvailability:{ios:"2.6.8",android:"2.1.3"},detectNetworkChange:{ios:"2.8.3",android:"2.1.3"},expandToFullscreen:{ios:"2.9.1",android:"2.1.3"},expandToCustomSize:{ios:"2.5.7",android:"2.1.3"},disableToolbar:{ios:"2.8.1",android:""},enableToolbar:{ios:"2.8.1",android:""},queryLocation:{ios:"2.8.3",android:"2.3.7"},detectLocationChange:{ios:"2.8.3",android:"2.1.3"},minimize:{ios:"2.4.4",android:"2.1.3"},collapse:{ios:"2.5.7",android:"2.1.3"},checkOrientation:{ios:"2.6.8",android:""},detectSizeChange:{ios:"2.8.3",android:"2.1.4"},detectShake:{ios:"2.6.7",android:"2.1.6"},detectAcceleration:{ios:"2.6.7",android:"2.1.3"},disableRotations:{ios:"2.6.8",android:"2.1.3"},enableRotations:{ios:"2.6.8",android:"2.1.3"},detectHeading:{ios:"2.8.3",android:"2.1.3"},detectVisibilityChange:{ios:"2.8.3",android:"2.1.4"},queryBannerVisibility:{ios:"2.8.3",android:"2.1.4"},setContainerBackgroundColor:{ios:"2.8.1",android:"2.1.3"},InitialLoadingCheck:{ios:"2.8.1",android:"2.1.3"},createCalendarEvent:{ios:"2.8.3",android:"2.1.3"},detectKeyboardVisibility:{ios:"2.8.3",android:""},detectError:{ios:"2.8.3",android:""},sdkCloseButton:{ios:"2.9.0",android:"2.3.0"},checkVisible:{ios:"2.8.3",android:"2.1.4"},disableToolbarUntilEnabled:{ios:"2.8.1",android:""},checkFrameValues:{ios:"2.9.2",android:"2.3.8"},autoInteractionDetection:{ios:"2.9.1",android:"2.3.1"},storePicture:{ios:"2.9.2",android:"2.3.7"},getDeviceIds:{ios:"3.0",android:""},notifyInAppBrowserCloseAction:{ios:"3.0",android:""},launchMapApp:{ios:"2.9.4",android:""},inlineVideo:{ios:"2.8.1",android:""},createReminder:{ios:"3.0.2",android:""},getLocation:{ios:"2.8.3",android:""},notifyInAppBrowserCloseAction:{ios:"3.0.0",android:""},checkForApplicationSupportedOrientations:{ios:"3.0",android:"2.3.7"},displayAlert:{ios:"3.0.2",android:""},admarvelSocial:{ios:"3.0.2",android:""},isServiceTypeAvailable:{ios:"3.0.2",android:""},listenModalViewCloseNotification:{ios:"3.0.2",android:""},fullscreenViewDidAppear:{ios:"3.0.4",android:""},fullscreenViewDidDisappear:{ios:"3.0.4",android:""},fullscreenViewWillAppear:{ios:"3.0.4",android:""},fullscreenViewWillDisappear:{ios:"3.0.4",android:""},applicationWillResignActive:{ios:"3.0.4",android:""},applicationDidEnterBackground:{ios:"3.0.4",android:""},applicationWillEnterForeground:{ios:"3.0.4",android:""},applicationDidBecomeActive:{ios:"3.0.4",android:""},startAudioRecording:{ios:"3.0.4",android:""},pauseAudioRecording:{ios:"3.0.4",android:""},resumeAudioRecording:{ios:"3.0.4",android:""},stopAudioRecording:{ios:"3.0.4",android:""},deleteAudioRecording:{ios:"3.0.4",android:""},startVideoRecording:{ios:"3.0.4",android:""},enableAutoDetection:{ios:"2.9.1",android:""},disableAutoDetection:{ios:"2.9.1",android:""}};function getAdMarvelSDKVersion(){return admarvelSDKVersion}function admarvelIsSupportedBySDK(c){if(!getAdMarvelSDKVersion()){return false}var a=(isIOS())?"ios":"android";var b=admarvelSDKFeatures[c][a];return((b!=undefined)&&getAdMarvelSDKVersion()>=parseInt(getNumericVersion(b)))}function admarvelIsSupportedByDevice(b){if(!admarvelSDKVersion){return}var a=admarvelSDKInfo.supportedFeatures[b];return((a!=undefined)&&a)}function admarvelInit(b){admarvelSDKInitCallback=b;var a="handleInit";if(isIOS()){initAdMarvel(a)}else{if(isAndroid()){window.ADMARVEL.initAdMarvel(a)}}}function admarvelRegisterSizeChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectSizeChange",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectsizechange(a)}}}}function admarvelConfigureSDKCloseButton(b){if(isIOS()){var a="show="+b;if(arguments.length>1){a+="|"+arguments[1]}callAdMarvelFunction("sdkCloseButton?"+a)}else{if(isAndroid()){var c="true";var e="top-right";if(arguments.length>1){var d=arguments[1].split("|");for(i=0;i<d.length;i++){if(d[i].split(":")[0]=="showArea"){c=d[i].split(":")[1]}else{if(d[i].split(":")[0]=="customClosePosition"){e=d[i].split(":")[1]}}}}if(getAdMarvelSDKVersion()>=237&&!isInterstitial()){window.ADMARVEL.sdkclosebutton(b,c,e)}else{window.ADMARVEL.sdkclosebutton(b,c)}}}}function admarvelRegisterLocationEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectLocation",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectlocation(a)}}}}function admarvelRegisterNetworkChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectNetworkChange",a)}else{if(isAndroid()){window.ADMARVEL.registernetworkchangeevent(a)}}}function admarvelRegisterVisibilityChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectVisibility",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectvisibility(a)}}}}function admarvelRegisterShakeEvent(d,a,b){if(isIOS()){var c={callbackFn:d,threshold:a,minTimeBetween:b};callAdMarvelFunctionWithParameters("detectShake",c)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>214){window.ADMARVEL.registershakeevent(d,a,b)}else{window.ADMARVEL.registershakeevent(d)}}}}function admarvelRegisterAccelerationEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectAcceleration",a)}else{if(isAndroid()){window.ADMARVEL.registeraccelerationevent(a)}}}function admarvelRegisterHeadingChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectHeading",a)}else{if(isAndroid()){window.ADMARVEL.registerheadingevent(a)}}}function admarvelExpandToFullScreen(c,a){if(isIOS()&&(admarvelSDKVersion==null||(getAdMarvelSDKVersion()>290&&c!=undefined))){var b={minimizeCallbackFn:c,URL:a};callAdMarvelFunctionWithParameters("maximize",b)}else{if(isAndroid()){if(!isInterstitial()){if(getAdMarvelSDKVersion()>236&&c!=undefined&&a!=undefined){window.ADMARVEL.expandtofullscreen(c,a)}else{if(getAdMarvelSDKVersion()>232&&c!=undefined){window.ADMARVEL.expandtofullscreen(c)}else{window.ADMARVEL.expandtofullscreen()}}}}}}function admarvelExpandTo(c,n,j,g,m,f,a){if(isIOS()){var h={x:j,y:g,width:c,height:n,collapseFn:m,URL:f,forceYValue:a};callAdMarvelFunctionWithParameters("expandTo",h)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>231){var d=(f)?f:"";var b=c;var e=n;var l=j;var k=g;if(admarvelSDKInfo!=null){b=Math.round(c)*window.devicePixelRatio;e=Math.round(n)*window.devicePixelRatio;l=Math.round(j)*window.devicePixelRatio;k=Math.round(g)*window.devicePixelRatio}window.ADMARVEL.expandto(Math.round(l),Math.round(k),Math.round(b),Math.round(e),m,d)}else{if(getAdMarvelSDKVersion()>221){var d=(f)?f:"";window.ADMARVEL.expandto(c,n,m,d)}else{window.ADMARVEL.expandto(c,n)}}}}}function admarvelDisableToolbar(a){if(isIOS()){var b={closeButton:a};callAdMarvelFunctionWithParameters("disableToolbar",b)}else{if(isAndroid()){window.ADMARVEL.disableclosebutton("true")}}}function admarvelCollapse(){if(isIOS()){if(admarvelSDKInfo!=null&&admarvelSDKInfo.adType!==undefined&&admarvelSDKInfo.adType=="Interstitial"){admarvelClose()}else{callAdMarvelFunction("collapse")}}else{if(isAndroid()){if(!isInterstitial()){window.ADMARVEL.close()}else{window.ADMARVEL.closeinterstitialad()}}}}function admarvelClose(){if(isIOS()){callAdMarvelFunction("minimize")}else{if(isAndroid()){if(isInterstitial()){window.ADMARVEL.closeinterstitialad()}}}}function admarvelDisableRotation(b){if(b!=undefined){b=b.toLowerCase();if(b==="portrait"){b="Portrait"}else{if(b==="portraitupsidedown"){b="PortraitUpSideDown"}else{if(b==="landscapeleft"){b="LandscapeLeft"}else{if(b==="landscaperight"){b="LandscapeRight"}}}}}if(isIOS()){var a={lockedOrientation:b};callAdMarvelFunctionWithParameters("disableRotations",a)}else{if(isAndroid()){if(isInterstitial()){if((getAdMarvelSDKVersion()>=233)&&(b!=undefined)){window.ADMARVEL.disablerotations(b)}else{window.ADMARVEL.disablerotations()}}else{if(getAdMarvelSDKVersion()>=237){if(b!=undefined){window.ADMARVEL.disableRotationForExpand(b)}else{window.ADMARVEL.disableRotationForExpand()}}}}}}function admarvelEnableRotation(){if(isIOS()){callAdMarvelFunction("enableRotations")}else{if(isAndroid()){if(isInterstitial()||getAdMarvelSDKVersion()>=237){window.ADMARVEL.enablerotations()}}}}function admarvelSetBackgroundColor(f,e,d,a){if(isIOS()){var c={red:e,green:d,blue:a,alpha:f};callAdMarvelFunctionWithParameters("setBackgroundColor",c)}else{if(isAndroid()){var b="#"+fillZero((f*255).toString(16))+fillZero((e*255).toString(16))+fillZero((d*255).toString(16))+fillZero((a*255).toString(16));window.ADMARVEL.setbackgroundcolor(b)}}}function admarvelRegisterKeyboardChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectKeyboard",a)}else{if(isAndroid()){}}}function admarvelCreateCalendarEvent(c,e,a,b){if(isIOS()){var d={date:c,title:e,body:a,callbackFn:b};callAdMarvelFunctionWithParameters("createCalendarEvent",d)}else{if(isAndroid()){window.ADMARVEL.createcalendarevent(c,e,a)}}}function admarvelCreateCalendarEventWithFullDetails(w,x,n,a,p,u,k,q,f,b,s,c,l){if(isIOS()){var d={date:w,title:x,body:n,allDay:p,location:a,endDate:u,timezone:q,url:f,recurrence:b,status:s,freebusy:c,callbackFn:l};if(k!=null&&typeof k!="undefined"){var h=k.split(",");var v="";for(var t=0;t<h.length;t++){var g=h[t];if(g<0){v=v+g+","}}v=v.slice(0,v.length-1);if(v!==null&&typeof v!="undefined"&&v!=""){d.alarmOffset=v}}callAdMarvelFunctionWithParameters("createCalendarEvent",d)}else{if(isAndroid()){var m=parseInt(k);var r=null;var e=null;var o=0;var j=0;if(b!=null&&typeof b!="undefined"){e=parseCalendarRecurrenceString(b)}if(b!=null&&typeof b!="undefined"){if(b.exceptionDates!=undefined&&b.exceptionDates!=null){r=b.exceptionDates}}if(s!=null&&typeof s!="undefined"){if((s=="pending")||(s=="tentative")){j=0}else{if(s=="confirmed"){j=1}else{if(s=="cancelled"){j=2}}}}if(c!=null&&typeof s!="undefined"){if(c=="opaque"){o=0}else{if(c=="transparent"){o=1}}}if(getAdMarvelSDKVersion()>=237){window.ADMARVEL.createcalendarevent(w,x,n,a,p,u,m,q,f,e,r,j,o,l)}else{if(getAdMarvelSDKVersion()>231){window.ADMARVEL.createcalendarevent(w,x,n,a,p,u,k)}else{window.ADMARVEL.createcalendarevent(w,x,n)}}}}}function parseCalendarRecurrenceString(a){if(a==undefined||a==null){return null}var e="";if(a.frequency!=undefined&&a.frequency!=null){var c=a.frequency.toString().toString().toUpperCase();e=e+"FREQ="+c+";"}if(a.interval!=undefined&&a.interval!=null){e=e+"INTERVAL="+a.interval.toString()+";"}if(a.expires!=undefined&&a.expires!=null){var d=dateObjectFromTimeString(a.expires);e=e+"UNTIL="+dateStringFromDateInUTC(d)+";"}if(a.daysInWeek!=undefined&&a.daysInWeek!=null){var b=parseDaysInWeekString(a.daysInWeek);e=e+"BYDAY="+b+";"}if(a.daysInMonth!=undefined&&a.daysInMonth!=null){e=e+"BYMONTHDAY="+a.daysInMonth+";"}if(a.daysInYear!=undefined&&a.daysInYear!=null){e=e+"BYYEARDAY="+a.daysInYear+";"}if(a.weeksInMonth!=undefined&&a.weeksInMonth!=null){e=e+"BYWEEKNO="+a.weeksInMonth+";"}if(a.monthsInYear!=undefined&&a.monthsInYear!=null){e=e+"BYMONTH="+a.monthsInYear+";"}return e}function parseDaysInWeekString(a){var c="";var d=a.toString().split(",");for(var b=0;b<d.length;b++){if(d[b]=="0"){c=c+"SU,"}else{if(d[b]=="1"){c=c+"MO,"}else{if(d[b]=="2"){c=c+"TU,"}else{if(d[b]=="3"){c=c+"WE,"}else{if(d[b]=="4"){c=c+"TH,"}else{if(d[b]=="5"){c=c+"FR,"}else{if(d[b]=="6"){c=c+"SA,"}}}}}}}}if(c.length>0){return c.slice(0,c.length-1)}}function admarvelIsInitialLoad(){if(isIOS()){return adMarvelIsInitialLoad}else{if(isAndroid()){return window.ADMARVEL.isinitialload()}}}function admarvelAutoInteractionDetection(a){if(admarvelIsSupportedBySDK("autoInteractionDetection")){if(isIOS()){if(a){callAdMarvelFunction("enableAutoDetection")}else{callAdMarvelFunction("disableAutoDetection")}}else{if(isAndroid()){if(a){window.ADMARVEL.enableautodetect()}else{window.ADMARVEL.disableautodetect()}}}}}function admarvelCheckFrameValues(a){if(admarvelIsSupportedBySDK("checkFrameValues")){if(isIOS()){callAdMarvelFunctionWithCallback("checkFrameValues",a)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>=238&&!isInterstitial()){window.ADMARVEL.checkFrameValues(a)}else{admarvelInit(a)}}}}else{admarvelInit(a)}}function admarvelURLRedirect(a){if((a!=null)&&(a.indexOf("webcal://")==0)){admarvelOpenExternalURL(a)}else{if(isIOS()){if(getAdMarvelSDKVersion()<=290){document.location=a}else{callURLInIFRAME(a)}}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.redirect(a)}else{document.location=a}}}}}function admarvelURLRedirectWithAutoInteractionDetection(a){admarvelAutoInteractionDetection(true);admarvelURLRedirect(a);admarvelAutoInteractionDetection(false)}function admarvelSetOrientationListener(a){if(isIOS()){window.onorientationchange=a}else{if(isAndroid()){var b="onorientationchange" in window;var c=(b)?"orientationchange":"resize";window.addEventListener(c,a)}}}function admarvelCheckOrientation(){if(isIOS()){callAdMarvelFunction("checkOrientation")}else{if(isAndroid()){}}}function admarvelDetectDisplay(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectDisplay",a)}else{if(isAndroid()){}}}function admarvelDetectHidden(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectHidden",a)}else{if(isAndroid()){}}}function admarvelUpdateState(a){if(isIOS()){}else{if(isAndroid()){if(!isInterstitial()){window.ADMARVEL.updatestate(a)}}}}function admarvelNotifyPlayingAudio(){callURLInIFRAME("admarvelsdk://playingAudio")}function admarvelLaunchAdJitsu(a,b){if(isIOS()){var c={url:a,expandCallbackFn:b};callAdMarvelFunctionWithParameters("displayAdJitsu",c)}else{if(isAndroid()){}}}function admarvelLaunchCameraOverlay(a){if(isIOS()){var b={imageURL:a};callAdMarvelFunctionWithParameters("displayCameraOverlay",b)}else{if(isAndroid()){}}}function admarvelOpenExternalURL(a){if(isIOS()&&getAdMarvelSDKVersion()>283){admarvelURLRedirectWithAutoInteractionDetection("admarvelexternal"+a)}else{if(isIOS()&&getAdMarvelSDKVersion()<=283){admarvelURLRedirectWithAutoInteractionDetection("admarvelsafari"+a)}else{if(isAndroid()&&getAdMarvelSDKVersion()>214){admarvelURLRedirect("admarvelexternal"+a)}}}}function admarvelStopEventListener(a){var c=a.replace("Change","");if(isIOS()){var b={forEvent:c};callAdMarvelFunctionWithParameters("stopEventListener",b)}else{if(isAndroid()){}}}function admarvelOpenMapApplication(b,a){if(isIOS()){if((b!=null)){if((b.indexOf("?")>=0)){parameterString=b.substring(b.indexOf("?")+1)}else{if((b.indexOf("maps:")>=0)){parameterString=b.substring(b.indexOf("maps:")+5)}else{if(b.indexOf("maps.google.com")>=0){parameterString=b.substring(b.indexOf("maps.google.com")+15);parameterString=parameterString.substring(parameterString.lastIndexOf("/")+1)}else{parameterString=b}}}b="maps:"+parameterString;if(getAdMarvelSDKVersion()<=294){b="admarvelexternal"+b}}}admarvelURLRedirectWithAutoInteractionDetection(b)}function admarvelPlayAudio(a,b){if(isIOS()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}else{if(isAndroid()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}}}function admarvelPlayVideo(a,b){if(isIOS()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}else{if(isAndroid()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}}}function admarvelMakeCall(b){var a="tel:"+b;admarvelURLRedirectWithAutoInteractionDetection(a)}function admarvelSendSMS(c,a){var b="sms:"+c;if(isIOS()){if(getAdMarvelSDKVersion()>283){b+="?body="+encodeURIComponent(a)}admarvelURLRedirectWithAutoInteractionDetection(b)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>214){b+="?body="+encodeURIComponent(a)}admarvelURLRedirectWithAutoInteractionDetection(b)}}}function admarvelSendEmail(c,b,a){var d="mailto:"+c+"?subject="+encodeURIComponent(b)+"&body="+encodeURIComponent(a);admarvelURLRedirectWithAutoInteractionDetection(d)}function admarvelSetLayerTypeSoftware(){if(isIOS()){}else{if(isAndroid()){if(getAdMarvelSDKVersion()>233){window.ADMARVEL.setsoftwarelayer()}}}}function isIPhoneOrIPod(){if(detectDevice("iphone os")||detectDevice("iphoneos")){return true}else{return false}}function isIOS(){return(isIPhoneOrIPod()||detectDevice("ipad"))}function isAndroid(){return detectDevice("android")}function detectDevice(b){var c=navigator.userAgent.toLowerCase();var a=c.indexOf(b);return(a>-1)}function fillZero(a){if(a.length==1){return"0"+a}else{return a}}function isInterstitial(){if(typeof window.ADMARVEL.closeinterstitialad=="function"){return true}return false}function callAdMarvelFunctionWithParameters(c,b){if(b!=null&&b!=undefined){var a=new Array();for(var d in b){if(b.hasOwnProperty(d)&&b[d]!=null&&b[d]!=undefined){a[a.length]=encodeURIComponent(d)+"="+encodeURIComponent(b[d])}}if(a.length!=0){c=c+"?"+a.join("&")}}callAdMarvelFunction(c)}function initAdMarvel(a){callAdMarvelFunctionWithCallback("init",a)}function callAdMarvelFunctionWithCallback(c,a){var b={callbackFn:a};callAdMarvelFunctionWithParameters(c,b)}function callAdMarvelFunction(a){callURLInIFRAME("admarveljavascript:"+a)}function callURLInIFRAME(b){var a=document.createElement("IFRAME");a.setAttribute("src",b);a.width=0;a.height=0;if(document.body!=null){document.body.appendChild(a)}else{if(document.firstChild!=null){document.firstChild.appendChild(a)}}a.parentNode.removeChild(a);a=null}function handleInit(parameters){if(isIOS()){admarvelSDKInfo=eval("("+parameters+")");var featureSupported=admarvelSDKInfo.supportedFeatures.storePicture;if((featureSupported!=undefined)&&!featureSupported){var featureInfo=admarvelSDKFeatures.storePicture["ios"];if(featureInfo!=undefined){delete admarvelSDKFeatures.storePicture["ios"]}}}else{if(isAndroid()){admarvelSDKInfo=eval(parameters)}}adMarvelUpdateSDKVersion();adMarvelUpdateDimensions();if(admarvelSDKInitCallback!=null&&("function"==typeof eval(admarvelSDKInitCallback))){eval(admarvelSDKInitCallback)()}}function getNumericVersion(a){var e=0;var d=a.split(".");var c=100;for(var b=0,g=d.length;b<g;b++){var f=parseInt(d[b]);if(c<1){break}if(f>0){e+=f*c}c/=10}return e}function adMarvelUpdateSDKVersion(){if(admarvelSDKInfo!=null&&admarvelSDKInfo.sdkVersion!==undefined){admarvelSDKVersion=parseInt(getNumericVersion(admarvelSDKInfo.sdkVersion))}else{if(isIOS()&&admarvelSDKInfo.sdkVersion===undefined){admarvelSDKVersion=(undefined===admarvelSDKInfo.supportedFeatures)?282:283}if(isAndroid()&&admarvelSDKInfo.sdkVersion===undefined){admarvelSDKVersion=213}}}function adMarvelUpdateDimensions(){if(admarvelSDKInfo!=null&&isAndroid()){if(getAdMarvelSDKVersion()>231){var a=window.devicePixelRatio;admarvelSDKInfo.x=Math.round(admarvelSDKInfo.x/a);admarvelSDKInfo.y=Math.round(admarvelSDKInfo.y/a);admarvelSDKInfo.width=Math.round(admarvelSDKInfo.width/a);admarvelSDKInfo.height=Math.round(admarvelSDKInfo.height/a);admarvelSDKInfo.appX=Math.round(admarvelSDKInfo.appX/a);admarvelSDKInfo.appY=Math.round(admarvelSDKInfo.appY/a);admarvelSDKInfo.appWidth=Math.round(admarvelSDKInfo.appWidth/a);admarvelSDKInfo.appHeight=Math.round(admarvelSDKInfo.appHeight/a);admarvelSDKInfo.screenWidth=Math.round(admarvelSDKInfo.screenWidth/a);admarvelSDKInfo.screenHeight=Math.round(admarvelSDKInfo.screenHeight/a)}}}function admarvelReturnIndexOfObjectInArray(a,c){if(a!=null&&a!=undefined){for(var b=0;b<a.length;b++){if(a[b]==c){return b}}}return -1}function admarvelRemoveObject(b,c){var a=admarvelReturnIndexOfObjectInArray(b,c);if(a!=-1){b.splice(a,1)}}function admarvelGetParsedObj(){return admarvelSDKInfo}function getAndroidScreenSize(a){return{width:320,height:480}}function admarvelGetAdUnitSize(){var a={width:320,height:50};if(admarvelSDKInfo!=null){a={width:admarvelSDKInfo.width,height:admarvelSDKInfo.height}}return a}function admarvelGetMaxAdUnitSize(){var a={width:320,height:460};if(admarvelSDKInfo!=null){if(isIOS()&&getAdMarvelSDKVersion()>=291&&typeof mraid==="object"){if(getAdMarvelSDKVersion()>=302){a={width:admarvelSDKInfo.expandWidth,height:admarvelSDKInfo.expandHeight};return a}a={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight};if(window.orientation==90||window.orientation==-90){a={width:a.height,height:a.width}}return a}if(isAndroid()&&getAdMarvelSDKVersion()>=233&&typeof mraid==="object"){a={width:admarvelSDKInfo.appWidth,height:admarvelSDKInfo.appHeight};return a}if(isIOS()&&getAdMarvelSDKVersion()>=292){a.width=admarvelSDKInfo.expandWidth;a.height=admarvelSDKInfo.expandHeight}else{if(window.orientation==0||window.orientation==180){a.width=admarvelSDKInfo.appWidth;a.height=admarvelSDKInfo.appHeight;if(admarvelSDKInfo.appX>0){a.width=admarvelSDKInfo.appWidth+admarvelSDKInfo.appX;a.height=admarvelSDKInfo.appHeight-admarvelSDKInfo.appX}}else{if(window.orientation==90||window.orientation==-90){a.width=admarvelSDKInfo.appHeight;a.height=admarvelSDKInfo.appWidth;if(admarvelSDKInfo.appY>0){a.width=admarvelSDKInfo.appHeight+admarvelSDKInfo.appY;a.height=admarvelSDKInfo.appWidth-admarvelSDKInfo.appY}}}}}return a}function admarvelGetAdDefaultPosition(){var a={x:0,y:0,width:320,height:50};if(admarvelSDKInfo!=null){if(isIOS()&&getAdMarvelSDKVersion()>=302){var a={x:(admarvelSDKInfo.defaultX==undefined)?admarvelSDKInfo.x:admarvelSDKInfo.defaultX,y:(admarvelSDKInfo.defaultY==undefined)?admarvelSDKInfo.y:admarvelSDKInfo.defaultY,width:(admarvelSDKInfo.defaultWidth==undefined)?admarvelSDKInfo.width:admarvelSDKInfo.defaultWidth,height:(admarvelSDKInfo.defaultHeight==undefined)?admarvelSDKInfo.height:admarvelSDKInfo.defaultHeight};return a}a={x:admarvelSDKInfo.x,y:admarvelSDKInfo.y,width:admarvelSDKInfo.width,height:admarvelSDKInfo.height}}return a}function admarvelGetNetwork(){var a="unknown";if(admarvelSDKInfo!=null){a=(admarvelSDKInfo.network=="YES")?"cell":"offline";if(admarvelSDKInfo.networkType){a=admarvelSDKInfo.networkType}}return a}function admarvelGetOrientation(){var a=null;if(admarvelSDKInfo!=null){a=admarvelSDKInfo.orientation}return a}function admarvelGetDeviceScreenSize(){var b=null;if(undefined!==admarvelSDKInfo.supportedFeatures){if(admarvelSDKInfo.screenWidth>0&&admarvelSDKInfo.screenHeight>0){var a=admarvelSDKInfo.orientation;if(isAndroid()){b={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight}}else{if(a==0||a==180){b={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight}}else{b={width:admarvelSDKInfo.screenHeight,height:admarvelSDKInfo.screenWidth}}}}}else{if(isIOS()){var a=admarvelSDKInfo.orientation;if(isIPhoneOrIPod()){if(a==0||a==180){b={width:320,height:480}}else{b={width:480,height:320}}}else{if(a==0||a==180){b={width:768,height:1024}}else{b={width:1024,height:768}}}}else{b={width:320,height:480}}}return b}function admarvelStorePicture(b,a){if(b==undefined||!admarvelIsSupportedBySDK("storePicture")){return}if(isIOS()){var c={callbackFn:a,askforpermission:"true"};if(isFilePath(b)){c.imagePath=b}else{c.imageURL=b}callAdMarvelFunctionWithParameters("storePicture",c)}else{if(isAndroid()){window.ADMARVEL.storepicture(b,a)}}}function admarvelCheckForApplicationSupportedOrientations(a){if(!admarvelIsSupportedBySDK("checkForApplicationSupportedOrientations")){return}if(isIOS()){callAdMarvelFunctionWithCallback("checkForApplicationSupportedOrientations",a)}else{if(isAndroid()){window.ADMARVEL.checkForApplicationSupportedOrientations(a)}}}function admarvelGetLocation(a){if(!admarvelIsSupportedBySDK("getLocation")){return}if(isIOS()){callAdMarvelFunctionWithCallback("getLocation",a)}else{if(isAndroid()){window.ADMARVEL.getLocation(a)}}}function admarvelCreateReminder(a){if(!admarvelIsSupportedBySDK("createReminder")){return}if(isIOS()){var c="createReminder?";var b={title:a.title,startdate:a.startdate,duedate:a.duedate,timezone:a.timezone,notes:a.notes,recurrence:returnIOSSDKCompatibleRecurrenceString(a.recurrence),alarm:serializeAlarmObject(a.alarm),callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("createReminder",b)}else{if(isAndroid()){}}}function admarvelNotifyInAppBrowserCloseAction(a){if(!admarvelIsSupportedBySDK("notifyInAppBrowserCloseAction")){return}if(isIOS()){callAdMarvelFunctionWithCallback("notifyInAppBrowserCloseAction",a)}else{if(isAndroid()){window.ADMARVEL.notifyInAppBrowserCloseAction(a)}}}function admarvelListenModalViewCloseNotification(a){if(!admarvelIsSupportedBySDK("listenModalViewCloseNotification")){return}if(isIOS()){callAdMarvelFunctionWithCallback("listenModalViewCloseNotification",a)}else{if(isAndroid()){}}}function admarvelSocial(a){if(!admarvelIsSupportedBySDK("admarvelSocial")){return}if(isIOS()){var b={serviceType:a.serviceType,action:a.action,status:a.status,photoPath:a.photoPath,photoURL:a.photoURL,URL:a.URL,screen_name:a.screen_name,follow:a.follow,owner_screen_name:a.owner_screen_name,owner_id:a.owner_id,list_id:a.list_id,slug:a.slug,id:a.id,include_entities:a.include_entities,favorite:a.favorite,trim_user:a.trim_user,callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("admarvelSocial",b)}else{if(isAndroid()){}}}function admarvelIsServiceTypeAvailable(c,a){if(!admarvelIsSupportedBySDK("isServiceTypeAvailable")){return}if(isIOS()){var b={serviceType:c,callbackFn:a};callAdMarvelFunctionWithParameters("isServiceTypeAvailable",b)}else{if(isAndroid()){}}}function admarvelDisplayAlert(a){if(!admarvelIsSupportedBySDK("displayAlert")){return}if(isIOS()){var c="displayAlert?";var b={title:a.title,message:a.message,okButtonTitle:a.okButtonTitle,cancelButtonTitle:a.cancelButtonTitle,callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("displayAlert",b)}else{if(isAndroid()){}}}function getSupportedInterfaceOrientation(){var a=admarvelGetParsedObj();return a.applicationSupportedOrientations.split(",")}function admarvelRegisterForFullscreenViewDidAppearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewDidAppear",a)}}function admarvelRegisterForFullscreenViewDidDisappearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewDidDisappear",a)}}function admarvelRegisterForFullscreenViewWillAppearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewWillAppear",a)}}function admarvelRegisterForFullscreenViewWillDisappearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewWillDisappear",a)}}function admarvelRegisterForApplicationWillResignActiveNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationWillResignActive",a)}}function admarvelRegisterForApplicationDidEnterBackgroundNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationDidEnterBackground",a)}}function admarvelRegisterForApplicationWillEnterForegroundNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationWillEnterForeground",a)}}function admarvelRegisterForApplicationDidBecomeActiveNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationDidBecomeActive",a)}}function admarvelStartAudioRecording(a){if(isIOS()){var b="startAudioRecording";callAdMarvelFunctionWithParameters(b,a)}}function admarvelPauseAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("pauseAudioRecording",a)}}function admarvelResumeAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("resumeAudioRecording",a)}}function admarvelStopAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("stopAudioRecording",a)}}function admarvelDeleteAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("deleteAudioRecording",a)}}function admarvelStartVideoRecording(b){if(isIOS()){var a="startVideoRecording";callAdMarvelFunctionWithParameters(a,b)}}function isFilePath(a){return a.indexOf("/")===0}function dateStringFromDate(c){if(c==null||c==undefined){return null}var e=c.getFullYear();var g=c.getMonth()+1;var b=c.getDate();var a=c.getHours();var d=c.getMinutes();var f=e+zeroPad(g)+zeroPad(b)+zeroPad(a)+zeroPad(d);return f}function dateStringFromDateInUTC(c){if(c==null||c==undefined){return null}var e=c.getFullYear();var g=c.getMonth()+1;var b=c.getDate();var a=c.getHours();var d=c.getMinutes();var h=c.getSeconds();var f=e+zeroPad(g)+zeroPad(b)+"T"+zeroPad(a)+zeroPad(d)+zeroPad(h);return f}function zeroPad(a){var b="";if(a<10){b+="0"}b+=a;return b}function checkIfIosVersionIsFiveOrNewer(){if(/(iPhone|iPod|iPad)/i.test(navigator.userAgent)){if(/OS [2-4]_\d(_\d)? like Mac OS X/i.test(navigator.userAgent)){return false}else{if(/CPU like Mac OS X/i.test(navigator.userAgent)){return false}else{return true}}}}function checkIfAndroidOSVersionIsFourOrNewer(){if(/(android)/i.test(navigator.userAgent)){if(/Android [0-3]/i.test(navigator.userAgent)){return false}else{return true}}return false}function parseTime(a){if(a==null||a==undefined||a.length==0){return null}a=a.toLowerCase();var b=null;if(a.lastIndexOf("z")===a.length-1){b="+00:00";a=a.substr(0,a.length-1);a=a.replace(/[a-z]/g,"");a=a.replace(/:/g,"");a=a.replace(/-/g,"")}else{if(a.lastIndexOf("+")===a.length-6||a.lastIndexOf("-")===a.length-6){b=a.substr(a.length-6,a.length);a=a.substr(0,a.length-6);a=a.replace(/[a-z]/g,"");a=a.replace(/:/g,"");a=a.replace(/-/g,"")}else{return null}}return{time:a,timezone:b}}function getMilisecondsFromHours(b){if(b==null||b==undefined||b.length==0){return null}var e=b.split(":");var d=Math.abs(parseInt(e[0]));var f=parseInt(e[1]);var a=e[0].slice(0,1);var c=null;if(a=="-"){c=((d*60*60)+(f*60))*-1000}else{c=((d*60*60)+(f*60))*1000}return c}function returnDateComponentsFromTimeString(a){if(a==null||a==undefined||a.length==0){return null}var b=a.split("t");var h=b[0].split("-");var c=b[1].split(":");var f=h[0];var e=(parseInt(h[1])-1).toString();var g=h[2];var j=c[0];var d=c[1];var k=c[2];return{year:f,month:e,day:g,hours:j,minutes:d,seconds:k}}function dateObjectFromTimeString(b){if(b==undefined||b.length==0||b==null){return -1}if((isIOS()&&!checkIfIosVersionIsFiveOrNewer())||(isAndroid()&&!checkIfAndroidOSVersionIsFourOrNewer())){b=b.toLowerCase();var d=null;if(b.lastIndexOf("z")===b.length-1){d="+00:00";b=b.substr(0,b.length-1)}else{if(b.lastIndexOf("+")===b.length-6||b.lastIndexOf("-")===b.length-6){d=b.substr(b.length-6,b.length);b=b.substr(0,b.length-6)}else{return -1}}var a=returnDateComponentsFromTimeString(b);var c=new Date(a.year,a.month,a.day,a.hours,a.minutes,a.seconds);var e=c.getTime()-getMilisecondsFromHours(d)+Math.abs(c.getTimezoneOffset()*60*1000);return new Date(e)}else{return new Date(b)}}function returnIOSSDKCompatibleRecurrenceString(a){if(a==null||a==undefined){return null}var b="";if(a.frequency!=undefined&&a.frequency!=null){b=b+"frequency:"+a.frequency+";"}if(a.interval!=undefined&&a.interval!=null){b=b+"interval:"+a.interval.toString()+";"}if(a.expires!=undefined&&a.expires!=null){b=b+"expires:"+a.expires+";"}if(a.daysInWeek!=undefined&&a.daysInWeek!=null){b=b+"daysInWeek:"+a.daysInWeek.join()+";"}if(a.daysInMonth!=undefined&&a.daysInMonth!=null){b=b+"daysInMonth:"+a.daysInMonth.join()+";"}if(a.daysInYear!=undefined&&a.daysInYear!=null){b=b+"daysInYear:"+a.daysInYear.join()+";"}if(a.weeksInMonth!=undefined&&a.weeksInMonth!=null){b=b+"weeksInMonth:"+a.weeksInMonth.join()+";"}if(a.monthsInYear!=undefined&&a.monthsInYear!=null){b=b+"monthsInYear:"+a.monthsInYear.join()+";"}return b}function serializeAlarmObject(a){if(a==null||a==undefined){return null}var b="";if(a.date!=undefined&&a.date!=null){b=b+"date:"+a.date+";"}if(a.location_title!=undefined&&a.location_title!=null){b=b+"location_title:"+a.location_title+";"}if(a.location_latitude!=undefined&&a.location_latitude!=null){b=b+"location_latitude:"+a.location_latitude+";"}if(a.location_longitude!=undefined&&a.location_longitude!=null){b=b+"location_longitude:"+a.location_longitude+";"}if(a.proximity!=undefined&&a.proximity!=null){b=b+"proximity:"+a.proximity+";"}return b}var ORMMA_INITIAL_VERSION=1;var ORMMA_FIRST_UPDATE=1.1;var ORMMA_SECOND_UPDATE=1.2;var ORMMA_THIRD_UPDATE=1.3;var callExpandAfterCheckFrameValues=null;var admarvelORMMAComplianceVersion=ORMMA_INITIAL_VERSION;var ormma=(function(){var pub={};function setDefaultListeners(){admarvelSetOrientationListener(pub.orientationListenerPrivate);if(admarvelORMMAComplianceVersion==ORMMA_INITIAL_VERSION||(admarvelORMMAComplianceVersion==ORMMA_FIRST_UPDATE&&pub.placementType=="interstitial")){admarvelDetectDisplay("ormma.displayListenerPrivate");admarvelDetectHidden("ormma.hiddenListenerPrivate");return}if(admarvelORMMAComplianceVersion>=ORMMA_FIRST_UPDATE){admarvelRegisterVisibilityChangeEvent("ormma.visibilityListenerPrivate");admarvelRegisterSizeChangeEvent("ormma.sizeChangeListenerPrivate");return}}function bindEvent(eventName,listenerFn){if(eventName=="tiltChange"){admarvelRegisterAccelerationEvent("ormma.accelerationListenerPrivate")}else{if(eventName=="shake"){admarvelRegisterShakeEvent("ormma.shakeListenerPrivate",pub.shakeProperties.intensity,pub.shakeProperties.interval)}else{if(eventName=="networkChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterNetworkChangeEvent("ormma.networkListenerPrivate")}else{pub.fireEventListeners("error",["Event networkChange not supported",null]);return}}else{if(eventName=="headingChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterHeadingChangeEvent("ormma.headingListenerPrivate")}else{pub.fireEventListeners("error",["Event headingChange not supported",null]);return}}else{if(eventName=="keyboardChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterKeyboardChangeEvent("ormma.keyboardListenerPrivate")}else{pub.fireEventListeners("error",["Event keyboardChange not supported",null]);return}}else{if(eventName=="locationChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterLocationEvent("ormma.locationListenerPrivate")}else{pub.fireEventListeners("error",["Event locationChange not supported",null]);return}}}}}}}var handlers=pub.listeners[eventName+"EventListener"];if(handlers==null){pub.listeners[eventName+"EventListener"]=[];handlers=pub.listeners[eventName+"EventListener"]}if(admarvelReturnIndexOfObjectInArray(handlers,listenerFn)==-1){handlers.push(listenerFn)}}function unbindEvent(eventName,listenerFn){var handlers=pub.listeners[eventName+"EventListener"];if(!listenerFn){handlers.splice(0,pub.listeners[eventName+"EventListener"].length)}else{handlers=pub.listeners[eventName+"EventListener"];admarvelRemoveObject(handlers,listenerFn)}}function updateFeatureSet(){if(detectDevice("ipod")||detectDevice("ipad")){pub.supportedFeatures.sms=false;pub.supportedFeatures.phone=false}}function determinePlacementType(obj){var placementType=null;if(admarvelORMMAComplianceVersion>=ORMMA_THIRD_UPDATE){placementType=(obj.adType=="Interstitial")?"interstitial":"inline"}else{if(isIOS()&&(typeof obj.screenWidth)!="undefined"&&(typeof obj.screenHeight)!="undefined"){placementType=((typeof adMarvelIsInitialLoad)=="undefined"&&pub.size.width==pub.screenSize.width&&pub.size.height==pub.screenSize.height)?"interstitial":"inline"}else{if(isAndroid()){placementType=(!isInterstitial())?"inline":"interstitial"}else{placementType=(isIOS()&&(typeof adMarvelIsInitialLoad)!="undefined")?"inline":"interstitial"}}}return placementType}pub.fireEventListeners=function(eventName,args){var handlers=pub.listeners[eventName+"EventListener"];if(handlers!=null){for(var i=0;i<handlers.length;i++){handlers[i].apply(null,args)}}};pub.keyboardListenerPrivate=function(open){pub.keyboard=open;pub.fireEventListeners("keyboardChange",[open])};pub.headingListenerPrivate=function(headingValue){pub.heading=headingValue;pub.fireEventListeners("headingChange",[headingValue])};pub.accelerationListenerPrivate=function(rawX,rawY,rawZ,filteredX,filteredY,filteredZ,deltaX,deltaY,deltaZ){pub.tilt={x:filteredX,y:filteredY,z:filteredZ};pub.fireEventListeners("tiltChange",[filteredX,filteredY,filteredZ])};pub.shakeListenerPrivate=function(){pub.fireEventListeners("shake",null)};pub.networkListenerPrivate=function(isAvailable,connectionType){pub.network=connectionType;pub.fireEventListeners("networkChange",[isAvailable,connectionType])};pub.orientationListenerPrivate=function(){var newOrientation=pub.getORMMACompatibleOrientations(window.orientation);if(pub.orientation!=newOrientation){if(Math.abs(pub.orientation-newOrientation)!=180){if(isIOS()&&getAdMarvelSDKVersion()>=292){admarvelCheckFrameValues("ormma.updateFrames")}else{var temp=pub.screenSize.width;pub.screenSize.width=pub.screenSize.height;pub.screenSize.height=temp;temp=pub.maxSize.width;pub.maxSize.width=pub.maxSize.height;pub.maxSize.height=temp}}}pub.orientation=pub.getORMMACompatibleOrientations(window.orientation);pub.fireEventListeners("orientationChange",[pub.orientation]);pub.fireEventListeners("screenChange",[pub.screenSize.width,pub.screenSize.height])};pub.sizeChangeListenerPrivate=function(newWidth,newHeight){pub.size={width:newWidth,height:newHeight};pub.fireEventListeners("sizeChange",[newWidth,newHeight])};pub.locationListenerPrivate=function(latitude,longitude,accuracy){pub.location={lat:latitude,lon:longitude,acc:accuracy};pub.fireEventListeners("locationChange",[latitude,longitude,accuracy])};pub.updateFrames=function(params){if(params!=undefined){var parsedObj=admarvelGetParsedObj();if(isAndroid()&&getAdMarvelSDKVersion()>=238){var density=window.devicePixelRatio;parsedObj.x=Math.round(params.x/density);parsedObj.y=Math.round(params.y/density);parsedObj.width=Math.round(params.width/density);parsedObj.height=Math.round(params.height/density);parsedObj.expandX=Math.round(params.expandX/density);parsedObj.expandY=Math.round(params.expandY/density);parsedObj.expandWidth=Math.round(params.expandWidth/density);parsedObj.expandHeight=Math.round(params.expandHeight/density);parsedObj.appX=Math.round(params.appX/density);parsedObj.appY=Math.round(params.appY/density);parsedObj.appWidth=Math.round(params.appWidth/density);parsedObj.appHeight=Math.round(params.appHeight/density)}else{parsedObj.x=params.x;parsedObj.y=params.y;parsedObj.width=params.width;parsedObj.height=params.height;parsedObj.expandX=params.expandX;parsedObj.expandY=params.expandY;parsedObj.expandWidth=params.expandWidth;parsedObj.expandHeight=params.expandHeight;parsedObj.appX=params.appX;parsedObj.appY=params.appY;parsedObj.appWidth=params.appWidth;parsedObj.appHeight=params.appHeight;parsedObj.defaultX=params.defaultX;parsedObj.defaultY=params.defaultY;parsedObj.viewInWindow=params.viewInWindow}}pub.defaultPosition=admarvelGetAdDefaultPosition();pub.size=admarvelGetAdUnitSize();pub.maxSize=admarvelGetMaxAdUnitSize();if(callExpandAfterCheckFrameValues!=null){eval(callExpandAfterCheckFrameValues)}};pub.visibilityListenerPrivate=function(visible){if(visible){admarvelCheckFrameValues("ormma.updateFrames")}pub.viewable=visible;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.displayListenerPrivate=function(){pub.viewable=true;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.hiddenListenerPrivate=function(){pub.viewable=false;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.useCustomClose=function(usingOwnCloseGraphic){if(usingOwnCloseGraphic!==pub.expandProperties.useCustomClose){pub.expandProperties.useCustomClose=usingOwnCloseGraphic;admarvelConfigureSDKCloseButton(!usingOwnCloseGraphic,"showArea:true")}};pub.init=function(){admarvelInit("ormma.initCB")};pub.intervalId=null;pub.waitDuration=100;pub.totalWaitTime=0;pub.timeOutThreshold=10000;pub.expandProperties={};if(ORMMA_CURRENT_VERSION==1){var expandProps={useBackground:false,backgroundColor:"#ffffff",backgroundOpacity:"1.0",lockOrientation:false};pub.expandProperties=expandProps}else{if(ORMMA_CURRENT_VERSION==1.1){var expandProps={isModal:true,useBackground:false,backgroundColor:"#ffffff",backgroundOpacity:"1.0",lockOrientation:false};pub.expandProperties=expandProps}}pub.viewable=false;pub.size={};pub.maxSize={};pub.state=null;pub.lastState=null;pub.defaultPosition={};pub.orientation=null;pub.location=null;pub.network=null;pub.heading=null;pub.screenSize=null;pub.tilt=null;pub.keyboard=false;pub.placementType=null;pub.shakeProperties={intensity:2,interval:1};pub.listeners={readyEventListener:null,networkChangeEventListener:null,keyboardChangeEventListener:null,orientationChangeEventListener:null,headingChangeEventListener:null,screenChangeEventListener:null,shakeEventListener:null,sizeChangeEventListener:null,stateChangeEventListener:null,tiltChangeEventListener:null,viewableChangeEventListener:null,errorEventListener:null,locationChangeEventListener:null,adJitsuExpandedEventListener:null};var dimensionValidators={x:function(value){return !isNaN(value)},y:function(value){return !isNaN(value)},width:function(value){return !isNaN(value)&&value>=0},height:function(value){return !isNaN(value)&&value>=0}};var sizeValidators={width:function(value){return !isNaN(value)&&value>=0&&value<=pub.maxSize.width},height:function(value){return !isNaN(value)&&value>=0&&value<=pub.maxSize.height}};var expandPropertyValidators={width:function(value){return !isNaN(value)&&value>=0},height:function(value){return !isNaN(value)&&value>=0},isModal:function(value){return(value===true||value===false)},useCustomClose:function(value){return(value===true||value===false)},useBackground:function(value){return(value===true||value===false)},backgroundColor:function(value){return(typeof value=="string"&&value.substr(0,1)=="#"&&!isNaN(parseInt(value.substr(1),16)))},backgroundOpacity:function(value){return !isNaN(value)&&value>=0&&value<=1},lockOrientation:function(value){return(value===true||value===false)}};var shakePropertyValidators={intensity:function(value){return !isNaN(value)},interval:function(value){return !isNaN(value)}};pub.valid=function(obj,validators,action,flag){if(obj===undefined){pub.fireEventListeners("error",["Required object missing.",action]);return false}var propertiesToCheckInObj=(flag==true)?validators:obj;for(var i in propertiesToCheckInObj){if(flag==true&&obj[i]===undefined){pub.fireEventListeners("error",["Missing property - "+i+".",action]);return false}else{if(!validators[i]){pub.fireEventListeners("error",["Invalid property specified - "+i+".",action]);return false}}if(!(validators[i])(obj[i])){pub.fireEventListeners("error",["Value of property "+i+" is not valid type.",action]);return false}}return true};pub.supportedFeatures={screen:true,orientation:true,heading:false,location:false,shake:true,tilt:true,network:true,sms:true,phone:true,email:true,calendar:false,camera:true,map:true,audio:true,video:true,"level-1":true,"level-2":true,"level-3":false};pub.getSize=function(){return pub.size};pub.getMaxSize=function(){return pub.maxSize};pub.getViewable=function(){if(isAndroid()){return true}return pub.viewable};pub.getState=function(){return pub.state};pub.getDefaultPosition=function(){return pub.defaultPosition};pub.getExpandProperties=function(){if(ORMMA_CURRENT_VERSION==1){return pub.expandProperties}else{if(ORMMA_CURRENT_VERSION==1.1){var temp=pub.expandProperties;temp.width=(pub.expandProperties.width==undefined)?pub.maxSize.width:pub.expandProperties.width;temp.height=(pub.expandProperties.height==undefined)?pub.maxSize.height:pub.expandProperties.height;return temp}}};pub.getPlacementType=function(){return pub.placementType};pub.setExpandProperties=function(props){if(!pub.valid(props,expandPropertyValidators,"setExpandProperties")){return}if(props.lockOrientation){pub.expandProperties.lockOrientation=props.lockOrientation;admarvelDisableRotation()}if(props.useCustomClose!==undefined){pub.useCustomClose(props.useCustomClose)}if(props.width!==undefined){pub.expandProperties.width=props.width}if(props.height!==undefined){pub.expandProperties.height=props.height}if(pub.expandProperties.useBackground==true){var redHex=props.backgroundColor.substr(1,2);var greenHex=props.backgroundColor.substr(3,2);var blueHex=props.backgroundColor.substr(5,2);var red=(parseInt(redHex,16)/255).toFixed(2);var green=(parseInt(greenHex,16)/255).toFixed(2);var blue=(parseInt(blueHex,16)/255).toFixed(2);admarvelSetBackgroundColor(props.backgroundOpacity,red,green,blue)}};pub.supports=function(featureName){return pub.supportedFeatures[featureName]};pub.addEventListener=function(eventName,listenerFn){if(!eventName||!listenerFn){pub.fireEventListeners("error",["Both event and listener are required.","addEventListener"])}else{if(pub.listeners[eventName+"EventListener"]===undefined){pub.fireEventListeners("error",["Unknown event: "+eventName,"addEventListener"])}else{bindEvent(eventName,listenerFn)}}};pub.removeEventListener=function(eventName,listenerFn){if(!eventName){pub.fireEventListeners("error",["Must specify an event.","removeEventListener"])}else{var handlers=pub.listeners[eventName+"EventListener"];if(listenerFn!==undefined&&admarvelReturnIndexOfObjectInArray(handlers,listenerFn)==-1){pub.fireEventListeners("error",["Listener not currently registered for event","removeEventListener"])}else{if(admarvelORMMAComplianceVersion>ORMMA_FIRST_UPDATE){admarvelStopEventListener(eventName)}unbindEvent(eventName,listenerFn)}}};pub.calculateSize=function(newWidth,newHeight){var newWidth=(newWidth>pub.maxSize.width)?pub.maxSize.width:newWidth;var newHeight=(newHeight>pub.maxSize.height)?pub.maxSize.height:newHeight;var availableWidth=pub.maxSize.width-pub.defaultPosition.x;var availableHeight=pub.maxSize.height-pub.defaultPosition.y;var centerX=pub.defaultPosition.x+0.5*pub.size.width;var centerY=pub.defaultPosition.y+0.5*pub.size.height;var newX=null;var newY=null;if(newWidth<=availableWidth&&newHeight<=availableHeight){newX=pub.defaultPosition.x;newY=pub.defaultPosition.y}else{if((newWidth<=(pub.defaultPosition.x+pub.size.width))&&newHeight<=(pub.defaultPosition.y+pub.size.height)){var deltaX=newWidth-pub.size.width;var deltaY=newHeight-pub.size.height;newX=Math.max(pub.defaultPosition.x-deltaX,0);newY=Math.max(pub.defaultPosition.y-deltaY,0)}else{if((0.5*pub.maxSize.width>=centerX+0.5*newWidth)&&(0.5*pub.maxSize.height>=centerY+0.5*newHeight)){newX=centerX-0.5*newWidth;newY=centerY-0.5*newHeight}else{newX=0;if(isIOS()){var parsedObj=admarvelGetParsedObj();newY=parsedObj.appY}else{newY=pub.defaultPosition.y}}}}var calculatedSize={width:newWidth,height:newHeight,x:newX,y:newY};return calculatedSize};pub.resize=function(newWidth,newHeight){if(newWidth==null||newHeight==null||isNaN(newWidth)||isNaN(newHeight)||newWidth<0||newHeight<0){pub.fireEventListeners("error",["Requested size must be numeric values between 0 and maxSize.","resize"]);return}else{if((newWidth>pub.maxSize.width)||(newHeight>pub.maxSize.height)){pub.fireEventListeners("error",["Request ("+newWidth+" x "+newHeight+") exceeds maximum allowable size of ("+pub.maxSize.width+" x "+pub.maxSize.height+")","resize"]);return}else{if((newWidth==pub.size.width)&&(newHeight==pub.size.height)){pub.fireEventListeners("error",["Requested size equals current size.","resize"]);return}}}var calculatedSize=pub.calculateSize(newWidth,newHeight);admarvelExpandTo(calculatedSize.width,calculatedSize.height,calculatedSize.x,calculatedSize.y,"ormma.closeHandler");pub.lastState=pub.state;pub.state="resized";pub.size={width:newWidth,height:newHeight};pub.fireEventListeners("stateChange",[pub.state]);pub.fireEventListeners("sizeChange",[newWidth,newHeight])};pub.expand=function(params){if(ORMMA_CURRENT_VERSION==1.1){if(!(typeof params=="string"||params==null||params==undefined)){pub.fireEventListeners("error",["Invalid parameter type","expand"]);return}if(pub.state=="expanded"){return}if(callExpandAfterCheckFrameValues==null&&isIOS()){callExpandAfterCheckFrameValues=(params!=undefined)?"pub.expand('"+params+"');":"pub.expand();";admarvelCheckFrameValues("ormma.updateFrames");return}callExpandAfterCheckFrameValues=null;var defaultExpandProperties={};if(pub.expandProperties.width==undefined){defaultExpandProperties.width=pub.maxSize.width}if(pub.expandProperties.height==undefined){defaultExpandProperties.height=pub.maxSize.height}if(pub.expandProperties.useCustomClose==undefined){defaultExpandProperties.useCustomClose=false}pub.setExpandProperties(defaultExpandProperties);var newWidth=pub.expandProperties.width;var newHeight=pub.expandProperties.height;var calculatedSize=pub.calculateSize(newWidth,newHeight);var URLParam=(params)?params:null;admarvelExpandTo(calculatedSize.width,calculatedSize.height,calculatedSize.x,calculatedSize.y,"ormma.closeHandler",URLParam);pub.lastState=pub.state;pub.state="expanded";pub.size={width:newWidth,height:newHeight}}else{if(ORMMA_CURRENT_VERSION==1){if(!pub.valid(params,dimensionValidators,"expand",true)){return}if(callExpandAfterCheckFrameValues==null&&isIOS()){callExpandAfterCheckFrameValues="pub.expand({x:"+params.x+",y:"+params.y+",width:"+params.width+",height:"+params.height+"});";admarvelCheckFrameValues("ormma.updateFrames");return}callExpandAfterCheckFrameValues=null;var parsedObj=admarvelGetParsedObj();if(isIOS()&&params.y<parsedObj.appY){if(getAdMarvelSDKVersion()>291){if(parsedObj.expandHeight>parsedObj.appHeight){params.y=parsedObj.appY}}}admarvelExpandTo(params.width,params.height,params.x,params.y,"ormma.closeHandler");pub.lastState=pub.state;pub.state="expanded";pub.size={width:params.width,height:params.height}}}pub.fireEventListeners("stateChange",[pub.state])};pub.open=function(URL){if(!URL){pub.fireEventListeners("error",["URL is required.","open"])}else{admarvelURLRedirectWithAutoInteractionDetection(URL)}};pub.openMap=function(poi,fullscreen){if(!pub.supportedFeatures.map){pub.fireEventListeners("error",["Method not supported by this client.","openMap"])}else{admarvelOpenMapApplication(poi,fullscreen)}};pub.playAudio=function(URL,props){if(!pub.supports("audio")){pub.fireEventListeners("error",["Method not supported by this client.","playAudio"])}else{if(!URL){pub.fireEventListeners("error",["URL is required.","playAudio"])}else{admarvelNotifyPlayingAudio();admarvelPlayAudio(URL,props)}}};pub.playVideo=function(URL,props){if(!pub.supports("video")){pub.fireEventListeners("error",["Method not supported by this client.","playVideo"])}else{if(!URL){pub.fireEventListeners("error",["URL is required.","playVideo"])}else{admarvelPlayVideo(URL,props)}}};pub.show=function(){if(pub.state=="hidden"){pub.state="default";pub.fireEventListeners("stateChange",null)}};pub.closeHandler=function(){pub.size=admarvelGetAdUnitSize();pub.defaultPosition=admarvelGetAdDefaultPosition();pub.state=pub.lastState;if(pub.expandProperties.lockOrientation){admarvelEnableRotation()}pub.fireEventListeners("stateChange",[pub.state])};pub.close=function(){admarvelCollapse();pub.closeHandler()};pub.hide=function(){admarvelClose();if(pub.state=="default"){pub.state="hidden";pub.fireEventListeners("stateChange",[pub.state])}};pub.getOrientation=function(){if(!pub.supports("orientation")){pub.fireEventListeners("error",["Method not supported by this client.","getOrientation"])}return pub.orientation};pub.makeCall=function(numberToCall){if(!pub.supports("phone")){pub.fireEventListeners("error",["Method not supported by this client.","makeCall"])}else{if(!numberToCall||typeof numberToCall!="string"){pub.fireEventListeners("error",["Request must provide a number to call.","makeCall"])}else{admarvelMakeCall(numberToCall)}}};pub.triggerOrmmaReady=function(){if(pub.totalWaitTime==0){setDefaultListeners();pub.state="default";pub.fireEventListeners("ready",null)}if(typeof ORMMAReady=="function"){window.clearInterval(pub.intervalId);pub.intervalId=null;ORMMAReady()}else{pub.totalWaitTime+=pub.waitDuration;if(pub.totalWaitTime>=pub.timeOutThreshold){window.clearInterval(pub.intervalId);pub.intervalId=null}}};pub.getKeyboard=function(){return pub.keyboard};pub.sendSMS=function(recipient,body){if(!pub.supports("sms")){pub.fireEventListeners("error",["Method not supported by this client.","sendSMS"])}else{if(!recipient||typeof recipient!="string"){pub.fireEventListeners("error",["Request must specify a recipient.","sendSMS"])}else{admarvelSendSMS(recipient,body)}}};function zeroPad(number){var text="";if(number<10){text+="0"}text+=number;return text}pub.createEvent=function(date,title,body){if(!pub.supports("calendar")){pub.fireEventListeners("error",["Method not supported by this client.","createEvent"])}else{if(typeof date=="undefined"||date==null){pub.fireEventListeners("error",["Date parameter not provided.","createEvent"]);return}if(typeof title=="undefined"||title==null){pub.fireEventListeners("error",["Title parameter not provided.","createEvent"]);return}var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();var hours=date.getHours();var minutes=date.getMinutes();var dateString=year+zeroPad(month)+zeroPad(day)+zeroPad(hours)+zeroPad(minutes);admarvelCreateCalendarEvent(dateString,title,body)}};pub.sendMail=function(recipient,subject,body){if(!pub.supports("email")){pub.fireEventListeners("error",["Method not supported by this client.","sendMail"])}else{if(!recipient||typeof recipient!="string"){pub.fireEventListeners("error",["Request must specify a recipient.","sendMail"])}else{admarvelSendEmail(recipient,subject,body)}}};pub.setShakeProperties=function(props){if(!pub.supports("shake")){pub.fireEventListeners("error",["Method not supported by this client.","setShakeProperties"])}else{if(pub.valid(props,shakePropertyValidators,"setShakeProperties")){pub.shakeProperties=props}}};pub.getShakeProperties=function(){if(!pub.supports("shake")){pub.fireEventListeners("error",["Method not supported by this client.","getShakeProperties"])}return pub.shakeProperties};pub.getNetwork=function(){if(!pub.supports("network")){pub.fireEventListeners("error",["Method not supported by this client.","getNetwork"])}return pub.network};pub.getTilt=function(){if(!pub.supports("tilt")){pub.fireEventListeners("error",["Method not supported by this client.","getTilt"])}return pub.tilt};pub.getHeading=function(){if(!pub.supports("heading")){pub.fireEventListeners("error",["Method not supported by this client.","getHeading"])}return pub.heading};pub.getLocation=function(){if(!pub.supports("location")){pub.fireEventListeners("error",["Method not supported by this client.","getLocation"])}return pub.location};pub.getScreenSize=function(){if(!pub.supports("screen")){pub.fireEventListeners("error",["Method not supported by this client.","getScreenSize"])}return pub.screenSize};pub.getORMMAComplianceVersion=function(parsedObj){var complianceVersion=ORMMA_INITIAL_VERSION;if(isIOS()){if(undefined!==parsedObj.sdkVersion){if(getAdMarvelSDKVersion()>290){complianceVersion=ORMMA_THIRD_UPDATE}else{if(getAdMarvelSDKVersion()>284){complianceVersion=ORMMA_SECOND_UPDATE}}}else{complianceVersion=(undefined===parsedObj.supportedFeatures)?ORMMA_INITIAL_VERSION:ORMMA_FIRST_UPDATE}}else{if(isAndroid()){if(undefined===parsedObj.sdkVersion){complianceVersion=ORMMA_FIRST_UPDATE}else{complianceVersion=ORMMA_SECOND_UPDATE}}}return complianceVersion};pub.getORMMACompatibleOrientations=function(sdkReportedOrientation){var orientationNumeric=parseInt(sdkReportedOrientation,10);if(orientationNumeric!=0&&orientationNumeric!=180){orientationNumeric+=180}return orientationNumeric};pub.isViewable=function(){if(isAndroid()){return true}return pub.viewable};pub.getVersion=function(){return ORMMA_CURRENT_VERSION};pub.createDelegate=function(fn,obj,args){return function(){var callArgs=args||arguments;return fn.apply(obj||window,callArgs)}};pub.setTimer=function(fn,millis,obj,args){fn=pub.createDelegate(fn,obj,args);return setTimeout(fn,millis)};pub.initCB=function(){admarvelAutoInteractionDetection(false);var parsedObj=admarvelGetParsedObj();admarvelORMMAComplianceVersion=pub.getORMMAComplianceVersion(parsedObj);if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){pub.supportedFeatures=parsedObj.supportedFeatures}pub.state="loading";pub.size=admarvelGetAdUnitSize();pub.maxSize=admarvelGetMaxAdUnitSize();pub.defaultPosition=admarvelGetAdDefaultPosition();pub.network=admarvelGetNetwork();pub.orientation=pub.getORMMACompatibleOrientations(parsedObj.orientation);pub.screenSize=admarvelGetDeviceScreenSize();pub.placementType=determinePlacementType(parsedObj);if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){pub.location=(typeof parsedObj.location=="string")?eval("("+parsedObj.location+")"):parsedObj.location}if(admarvelORMMAComplianceVersion==ORMMA_INITIAL_VERSION){updateFeatureSet()}pub.intervalId=window.setInterval(pub.triggerOrmmaReady,pub.waitDuration)};pub.clickToApp=function(URL){if(!URL){pub.fireEventListeners("error",["URL is required.","clickToApp"])}else{admarvelOpenExternalURL(URL)}};pub.createEventWithFullDetails=function(date,title,body,location,allDay,endDate,reminderDate){if(!pub.supports("calendar")){pub.fireEventListeners("error",["Method not supported by this client.","createEventWithFullDetails"])}else{if(typeof date=="undefined"||date==null){pub.fireEventListeners("error",["Date parameter not provided.","createEvent"]);return}if(typeof title=="undefined"||title==null){pub.fireEventListeners("error",["Title parameter not provided.","createEvent"]);return}var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();var hours=date.getHours();var minutes=date.getMinutes();var dateString=year+zeroPad(month)+zeroPad(day)+zeroPad(hours)+zeroPad(minutes);var endDateString=null;if(endDate!=null&&typeof endDate!="undefined"){var endYear=endDate.getFullYear();var endMonth=endDate.getMonth()+1;var endDay=endDate.getDate();var endHours=endDate.getHours();var endMinutes=endDate.getMinutes();endDateString=endYear+zeroPad(endMonth)+zeroPad(endDay)+zeroPad(endHours)+zeroPad(endMinutes)}var reminderOffsetInSeconds=1;if(reminderDate!=null&&typeof reminderDate!="undefined"){reminderOffsetInSeconds=Math.round((reminderDate.getTime()-date.getTime())/1000);if(reminderOffsetInSeconds>0){reminderOffsetInSeconds=0}}var allDayString="NO";if((allDay=="YES")||(allDay=="yes")||(allDay=="Y")||(allDay=="y")){allDayString="YES"}admarvelCreateCalendarEventWithFullDetails(dateString,title,body,location,allDayString,endDateString,reminderOffsetInSeconds.toString())}};pub.playVideoContainingAudioContent=function(URL,properties){admarvelNotifyPlayingAudio();pub.playVideo(URL,properties)};pub.openContainingAudioContent=function(URL,controls){admarvelNotifyPlayingAudio();pub.open(URL,controls)};pub.adJitsu=function(URL){if(!URL||typeof URL!="string"){pub.fireEventListeners("error",["Valid URL required.","adJitsu"])}else{admarvelLaunchAdJitsu(URL,"ormma.adJitsuExpandedListenerPrivate")}};pub.adJitsuExpandedListenerPrivate=function(){pub.fireEventListeners("adJitsuExpanded",null)};pub.cameraOverlay=function(imageURL){if(!imageURL||typeof imageURL!="string"){pub.fireEventListeners("error",["Valid imageURL required.","cameraOverlay"])}else{admarvelLaunchCameraOverlay(imageURL)}};return pub}());ormma.init();var ORMMA_CURRENT_VERSION=1;var admarvelSDKInfo=null;var admarvelSDKVersion=null;var admarvelSDKInitCallback=null;var admarvelSDKFeatures={checkNetworkAvailability:{ios:"2.6.8",android:"2.1.3"},detectNetworkChange:{ios:"2.8.3",android:"2.1.3"},expandToFullscreen:{ios:"2.9.1",android:"2.1.3"},expandToCustomSize:{ios:"2.5.7",android:"2.1.3"},disableToolbar:{ios:"2.8.1",android:""},enableToolbar:{ios:"2.8.1",android:""},queryLocation:{ios:"2.8.3",android:"2.3.7"},detectLocationChange:{ios:"2.8.3",android:"2.1.3"},minimize:{ios:"2.4.4",android:"2.1.3"},collapse:{ios:"2.5.7",android:"2.1.3"},checkOrientation:{ios:"2.6.8",android:""},detectSizeChange:{ios:"2.8.3",android:"2.1.4"},detectShake:{ios:"2.6.7",android:"2.1.6"},detectAcceleration:{ios:"2.6.7",android:"2.1.3"},disableRotations:{ios:"2.6.8",android:"2.1.3"},enableRotations:{ios:"2.6.8",android:"2.1.3"},detectHeading:{ios:"2.8.3",android:"2.1.3"},detectVisibilityChange:{ios:"2.8.3",android:"2.1.4"},queryBannerVisibility:{ios:"2.8.3",android:"2.1.4"},setContainerBackgroundColor:{ios:"2.8.1",android:"2.1.3"},InitialLoadingCheck:{ios:"2.8.1",android:"2.1.3"},createCalendarEvent:{ios:"2.8.3",android:"2.1.3"},detectKeyboardVisibility:{ios:"2.8.3",android:""},detectError:{ios:"2.8.3",android:""},sdkCloseButton:{ios:"2.9.0",android:"2.3.0"},checkVisible:{ios:"2.8.3",android:"2.1.4"},disableToolbarUntilEnabled:{ios:"2.8.1",android:""},checkFrameValues:{ios:"2.9.2",android:"2.3.8"},autoInteractionDetection:{ios:"2.9.1",android:"2.3.1"},storePicture:{ios:"2.9.2",android:"2.3.7"},getDeviceIds:{ios:"3.0",android:""},notifyInAppBrowserCloseAction:{ios:"3.0",android:""},launchMapApp:{ios:"2.9.4",android:""},inlineVideo:{ios:"2.8.1",android:""},createReminder:{ios:"3.0.2",android:""},getLocation:{ios:"2.8.3",android:""},notifyInAppBrowserCloseAction:{ios:"3.0.0",android:""},checkForApplicationSupportedOrientations:{ios:"3.0",android:"2.3.7"},displayAlert:{ios:"3.0.2",android:""},admarvelSocial:{ios:"3.0.2",android:""},isServiceTypeAvailable:{ios:"3.0.2",android:""},listenModalViewCloseNotification:{ios:"3.0.2",android:""},fullscreenViewDidAppear:{ios:"3.0.4",android:""},fullscreenViewDidDisappear:{ios:"3.0.4",android:""},fullscreenViewWillAppear:{ios:"3.0.4",android:""},fullscreenViewWillDisappear:{ios:"3.0.4",android:""},applicationWillResignActive:{ios:"3.0.4",android:""},applicationDidEnterBackground:{ios:"3.0.4",android:""},applicationWillEnterForeground:{ios:"3.0.4",android:""},applicationDidBecomeActive:{ios:"3.0.4",android:""},startAudioRecording:{ios:"3.0.4",android:""},pauseAudioRecording:{ios:"3.0.4",android:""},resumeAudioRecording:{ios:"3.0.4",android:""},stopAudioRecording:{ios:"3.0.4",android:""},deleteAudioRecording:{ios:"3.0.4",android:""},startVideoRecording:{ios:"3.0.4",android:""},enableAutoDetection:{ios:"2.9.1",android:""},disableAutoDetection:{ios:"2.9.1",android:""}};function getAdMarvelSDKVersion(){return admarvelSDKVersion}function admarvelIsSupportedBySDK(c){if(!getAdMarvelSDKVersion()){return false}var a=(isIOS())?"ios":"android";var b=admarvelSDKFeatures[c][a];return((b!=undefined)&&getAdMarvelSDKVersion()>=parseInt(getNumericVersion(b)))}function admarvelIsSupportedByDevice(b){if(!admarvelSDKVersion){return}var a=admarvelSDKInfo.supportedFeatures[b];return((a!=undefined)&&a)}function admarvelInit(b){admarvelSDKInitCallback=b;var a="handleInit";if(isIOS()){initAdMarvel(a)}else{if(isAndroid()){window.ADMARVEL.initAdMarvel(a)}}}function admarvelRegisterSizeChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectSizeChange",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectsizechange(a)}}}}function admarvelConfigureSDKCloseButton(b){if(isIOS()){var a="show="+b;if(arguments.length>1){a+="|"+arguments[1]}callAdMarvelFunction("sdkCloseButton?"+a)}else{if(isAndroid()){var c="true";var e="top-right";if(arguments.length>1){var d=arguments[1].split("|");for(i=0;i<d.length;i++){if(d[i].split(":")[0]=="showArea"){c=d[i].split(":")[1]}else{if(d[i].split(":")[0]=="customClosePosition"){e=d[i].split(":")[1]}}}}if(getAdMarvelSDKVersion()>=237&&!isInterstitial()){window.ADMARVEL.sdkclosebutton(b,c,e)}else{window.ADMARVEL.sdkclosebutton(b,c)}}}}function admarvelRegisterLocationEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectLocation",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectlocation(a)}}}}function admarvelRegisterNetworkChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectNetworkChange",a)}else{if(isAndroid()){window.ADMARVEL.registernetworkchangeevent(a)}}}function admarvelRegisterVisibilityChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectVisibility",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectvisibility(a)}}}}function admarvelRegisterShakeEvent(d,a,b){if(isIOS()){var c={callbackFn:d,threshold:a,minTimeBetween:b};callAdMarvelFunctionWithParameters("detectShake",c)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>214){window.ADMARVEL.registershakeevent(d,a,b)}else{window.ADMARVEL.registershakeevent(d)}}}}function admarvelRegisterAccelerationEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectAcceleration",a)}else{if(isAndroid()){window.ADMARVEL.registeraccelerationevent(a)}}}function admarvelRegisterHeadingChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectHeading",a)}else{if(isAndroid()){window.ADMARVEL.registerheadingevent(a)}}}function admarvelExpandToFullScreen(c,a){if(isIOS()&&(admarvelSDKVersion==null||(getAdMarvelSDKVersion()>290&&c!=undefined))){var b={minimizeCallbackFn:c,URL:a};callAdMarvelFunctionWithParameters("maximize",b)}else{if(isAndroid()){if(!isInterstitial()){if(getAdMarvelSDKVersion()>236&&c!=undefined&&a!=undefined){window.ADMARVEL.expandtofullscreen(c,a)}else{if(getAdMarvelSDKVersion()>232&&c!=undefined){window.ADMARVEL.expandtofullscreen(c)}else{window.ADMARVEL.expandtofullscreen()}}}}}}function admarvelExpandTo(c,n,j,g,m,f,a){if(isIOS()){var h={x:j,y:g,width:c,height:n,collapseFn:m,URL:f,forceYValue:a};callAdMarvelFunctionWithParameters("expandTo",h)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>231){var d=(f)?f:"";var b=c;var e=n;var l=j;var k=g;if(admarvelSDKInfo!=null){b=Math.round(c)*window.devicePixelRatio;e=Math.round(n)*window.devicePixelRatio;l=Math.round(j)*window.devicePixelRatio;k=Math.round(g)*window.devicePixelRatio}window.ADMARVEL.expandto(Math.round(l),Math.round(k),Math.round(b),Math.round(e),m,d)}else{if(getAdMarvelSDKVersion()>221){var d=(f)?f:"";window.ADMARVEL.expandto(c,n,m,d)}else{window.ADMARVEL.expandto(c,n)}}}}}function admarvelDisableToolbar(a){if(isIOS()){var b={closeButton:a};callAdMarvelFunctionWithParameters("disableToolbar",b)}else{if(isAndroid()){window.ADMARVEL.disableclosebutton("true")}}}function admarvelCollapse(){if(isIOS()){if(admarvelSDKInfo!=null&&admarvelSDKInfo.adType!==undefined&&admarvelSDKInfo.adType=="Interstitial"){admarvelClose()}else{callAdMarvelFunction("collapse")}}else{if(isAndroid()){if(!isInterstitial()){window.ADMARVEL.close()}else{window.ADMARVEL.closeinterstitialad()}}}}function admarvelClose(){if(isIOS()){callAdMarvelFunction("minimize")}else{if(isAndroid()){if(isInterstitial()){window.ADMARVEL.closeinterstitialad()}}}}function admarvelDisableRotation(b){if(b!=undefined){b=b.toLowerCase();if(b==="portrait"){b="Portrait"}else{if(b==="portraitupsidedown"){b="PortraitUpSideDown"}else{if(b==="landscapeleft"){b="LandscapeLeft"}else{if(b==="landscaperight"){b="LandscapeRight"}}}}}if(isIOS()){var a={lockedOrientation:b};callAdMarvelFunctionWithParameters("disableRotations",a)}else{if(isAndroid()){if(isInterstitial()){if((getAdMarvelSDKVersion()>=233)&&(b!=undefined)){window.ADMARVEL.disablerotations(b)}else{window.ADMARVEL.disablerotations()}}else{if(getAdMarvelSDKVersion()>=237){if(b!=undefined){window.ADMARVEL.disableRotationForExpand(b)}else{window.ADMARVEL.disableRotationForExpand()}}}}}}function admarvelEnableRotation(){if(isIOS()){callAdMarvelFunction("enableRotations")}else{if(isAndroid()){if(isInterstitial()||getAdMarvelSDKVersion()>=237){window.ADMARVEL.enablerotations()}}}}function admarvelSetBackgroundColor(f,e,d,a){if(isIOS()){var c={red:e,green:d,blue:a,alpha:f};callAdMarvelFunctionWithParameters("setBackgroundColor",c)}else{if(isAndroid()){var b="#"+fillZero((f*255).toString(16))+fillZero((e*255).toString(16))+fillZero((d*255).toString(16))+fillZero((a*255).toString(16));window.ADMARVEL.setbackgroundcolor(b)}}}function admarvelRegisterKeyboardChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectKeyboard",a)}else{if(isAndroid()){}}}function admarvelCreateCalendarEvent(c,e,a,b){if(isIOS()){var d={date:c,title:e,body:a,callbackFn:b};callAdMarvelFunctionWithParameters("createCalendarEvent",d)}else{if(isAndroid()){window.ADMARVEL.createcalendarevent(c,e,a)}}}function admarvelCreateCalendarEventWithFullDetails(w,x,n,a,p,u,k,q,f,b,s,c,l){if(isIOS()){var d={date:w,title:x,body:n,allDay:p,location:a,endDate:u,timezone:q,url:f,recurrence:b,status:s,freebusy:c,callbackFn:l};if(k!=null&&typeof k!="undefined"){var h=k.split(",");var v="";for(var t=0;t<h.length;t++){var g=h[t];if(g<0){v=v+g+","}}v=v.slice(0,v.length-1);if(v!==null&&typeof v!="undefined"&&v!=""){d.alarmOffset=v}}callAdMarvelFunctionWithParameters("createCalendarEvent",d)}else{if(isAndroid()){var m=parseInt(k);var r=null;var e=null;var o=0;var j=0;if(b!=null&&typeof b!="undefined"){e=parseCalendarRecurrenceString(b)}if(b!=null&&typeof b!="undefined"){if(b.exceptionDates!=undefined&&b.exceptionDates!=null){r=b.exceptionDates}}if(s!=null&&typeof s!="undefined"){if((s=="pending")||(s=="tentative")){j=0}else{if(s=="confirmed"){j=1}else{if(s=="cancelled"){j=2}}}}if(c!=null&&typeof s!="undefined"){if(c=="opaque"){o=0}else{if(c=="transparent"){o=1}}}if(getAdMarvelSDKVersion()>=237){window.ADMARVEL.createcalendarevent(w,x,n,a,p,u,m,q,f,e,r,j,o,l)}else{if(getAdMarvelSDKVersion()>231){window.ADMARVEL.createcalendarevent(w,x,n,a,p,u,k)}else{window.ADMARVEL.createcalendarevent(w,x,n)}}}}}function parseCalendarRecurrenceString(a){if(a==undefined||a==null){return null}var e="";if(a.frequency!=undefined&&a.frequency!=null){var c=a.frequency.toString().toString().toUpperCase();e=e+"FREQ="+c+";"}if(a.interval!=undefined&&a.interval!=null){e=e+"INTERVAL="+a.interval.toString()+";"}if(a.expires!=undefined&&a.expires!=null){var d=dateObjectFromTimeString(a.expires);e=e+"UNTIL="+dateStringFromDateInUTC(d)+";"}if(a.daysInWeek!=undefined&&a.daysInWeek!=null){var b=parseDaysInWeekString(a.daysInWeek);e=e+"BYDAY="+b+";"}if(a.daysInMonth!=undefined&&a.daysInMonth!=null){e=e+"BYMONTHDAY="+a.daysInMonth+";"}if(a.daysInYear!=undefined&&a.daysInYear!=null){e=e+"BYYEARDAY="+a.daysInYear+";"}if(a.weeksInMonth!=undefined&&a.weeksInMonth!=null){e=e+"BYWEEKNO="+a.weeksInMonth+";"}if(a.monthsInYear!=undefined&&a.monthsInYear!=null){e=e+"BYMONTH="+a.monthsInYear+";"}return e}function parseDaysInWeekString(a){var c="";var d=a.toString().split(",");for(var b=0;b<d.length;b++){if(d[b]=="0"){c=c+"SU,"}else{if(d[b]=="1"){c=c+"MO,"}else{if(d[b]=="2"){c=c+"TU,"}else{if(d[b]=="3"){c=c+"WE,"}else{if(d[b]=="4"){c=c+"TH,"}else{if(d[b]=="5"){c=c+"FR,"}else{if(d[b]=="6"){c=c+"SA,"}}}}}}}}if(c.length>0){return c.slice(0,c.length-1)}}function admarvelIsInitialLoad(){if(isIOS()){return adMarvelIsInitialLoad}else{if(isAndroid()){return window.ADMARVEL.isinitialload()}}}function admarvelAutoInteractionDetection(a){if(admarvelIsSupportedBySDK("autoInteractionDetection")){if(isIOS()){if(a){callAdMarvelFunction("enableAutoDetection")}else{callAdMarvelFunction("disableAutoDetection")}}else{if(isAndroid()){if(a){window.ADMARVEL.enableautodetect()}else{window.ADMARVEL.disableautodetect()}}}}}function admarvelCheckFrameValues(a){if(admarvelIsSupportedBySDK("checkFrameValues")){if(isIOS()){callAdMarvelFunctionWithCallback("checkFrameValues",a)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>=238&&!isInterstitial()){window.ADMARVEL.checkFrameValues(a)}else{admarvelInit(a)}}}}else{admarvelInit(a)}}function admarvelURLRedirect(a){if((a!=null)&&(a.indexOf("webcal://")==0)){admarvelOpenExternalURL(a)}else{if(isIOS()){if(getAdMarvelSDKVersion()<=290){document.location=a}else{callURLInIFRAME(a)}}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.redirect(a)}else{document.location=a}}}}}function admarvelURLRedirectWithAutoInteractionDetection(a){admarvelAutoInteractionDetection(true);admarvelURLRedirect(a);admarvelAutoInteractionDetection(false)}function admarvelSetOrientationListener(a){if(isIOS()){window.onorientationchange=a}else{if(isAndroid()){var b="onorientationchange" in window;var c=(b)?"orientationchange":"resize";window.addEventListener(c,a)}}}function admarvelCheckOrientation(){if(isIOS()){callAdMarvelFunction("checkOrientation")}else{if(isAndroid()){}}}function admarvelDetectDisplay(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectDisplay",a)}else{if(isAndroid()){}}}function admarvelDetectHidden(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectHidden",a)}else{if(isAndroid()){}}}function admarvelUpdateState(a){if(isIOS()){}else{if(isAndroid()){if(!isInterstitial()){window.ADMARVEL.updatestate(a)}}}}function admarvelNotifyPlayingAudio(){callURLInIFRAME("admarvelsdk://playingAudio")}function admarvelLaunchAdJitsu(a,b){if(isIOS()){var c={url:a,expandCallbackFn:b};callAdMarvelFunctionWithParameters("displayAdJitsu",c)}else{if(isAndroid()){}}}function admarvelLaunchCameraOverlay(a){if(isIOS()){var b={imageURL:a};callAdMarvelFunctionWithParameters("displayCameraOverlay",b)}else{if(isAndroid()){}}}function admarvelOpenExternalURL(a){if(isIOS()&&getAdMarvelSDKVersion()>283){admarvelURLRedirectWithAutoInteractionDetection("admarvelexternal"+a)}else{if(isIOS()&&getAdMarvelSDKVersion()<=283){admarvelURLRedirectWithAutoInteractionDetection("admarvelsafari"+a)}else{if(isAndroid()&&getAdMarvelSDKVersion()>214){admarvelURLRedirect("admarvelexternal"+a)}}}}function admarvelStopEventListener(a){var c=a.replace("Change","");if(isIOS()){var b={forEvent:c};callAdMarvelFunctionWithParameters("stopEventListener",b)}else{if(isAndroid()){}}}function admarvelOpenMapApplication(b,a){if(isIOS()){if((b!=null)){if((b.indexOf("?")>=0)){parameterString=b.substring(b.indexOf("?")+1)}else{if((b.indexOf("maps:")>=0)){parameterString=b.substring(b.indexOf("maps:")+5)}else{if(b.indexOf("maps.google.com")>=0){parameterString=b.substring(b.indexOf("maps.google.com")+15);parameterString=parameterString.substring(parameterString.lastIndexOf("/")+1)}else{parameterString=b}}}b="maps:"+parameterString;if(getAdMarvelSDKVersion()<=294){b="admarvelexternal"+b}}}admarvelURLRedirectWithAutoInteractionDetection(b)}function admarvelPlayAudio(a,b){if(isIOS()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}else{if(isAndroid()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}}}function admarvelPlayVideo(a,b){if(isIOS()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}else{if(isAndroid()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}}}function admarvelMakeCall(b){var a="tel:"+b;admarvelURLRedirectWithAutoInteractionDetection(a)}function admarvelSendSMS(c,a){var b="sms:"+c;if(isIOS()){if(getAdMarvelSDKVersion()>283){b+="?body="+encodeURIComponent(a)}admarvelURLRedirectWithAutoInteractionDetection(b)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>214){b+="?body="+encodeURIComponent(a)}admarvelURLRedirectWithAutoInteractionDetection(b)}}}function admarvelSendEmail(c,b,a){var d="mailto:"+c+"?subject="+encodeURIComponent(b)+"&body="+encodeURIComponent(a);admarvelURLRedirectWithAutoInteractionDetection(d)}function admarvelSetLayerTypeSoftware(){if(isIOS()){}else{if(isAndroid()){if(getAdMarvelSDKVersion()>233){window.ADMARVEL.setsoftwarelayer()}}}}function isIPhoneOrIPod(){if(detectDevice("iphone os")||detectDevice("iphoneos")){return true}else{return false}}function isIOS(){return(isIPhoneOrIPod()||detectDevice("ipad"))}function isAndroid(){return detectDevice("android")}function detectDevice(b){var c=navigator.userAgent.toLowerCase();var a=c.indexOf(b);return(a>-1)}function fillZero(a){if(a.length==1){return"0"+a}else{return a}}function isInterstitial(){if(typeof window.ADMARVEL.closeinterstitialad=="function"){return true}return false}function callAdMarvelFunctionWithParameters(c,b){if(b!=null&&b!=undefined){var a=new Array();for(var d in b){if(b.hasOwnProperty(d)&&b[d]!=null&&b[d]!=undefined){a[a.length]=encodeURIComponent(d)+"="+encodeURIComponent(b[d])}}if(a.length!=0){c=c+"?"+a.join("&")}}callAdMarvelFunction(c)}function initAdMarvel(a){callAdMarvelFunctionWithCallback("init",a)}function callAdMarvelFunctionWithCallback(c,a){var b={callbackFn:a};callAdMarvelFunctionWithParameters(c,b)}function callAdMarvelFunction(a){callURLInIFRAME("admarveljavascript:"+a)}function callURLInIFRAME(b){var a=document.createElement("IFRAME");a.setAttribute("src",b);a.width=0;a.height=0;if(document.body!=null){document.body.appendChild(a)}else{if(document.firstChild!=null){document.firstChild.appendChild(a)}}a.parentNode.removeChild(a);a=null}function handleInit(parameters){if(isIOS()){admarvelSDKInfo=eval("("+parameters+")");var featureSupported=admarvelSDKInfo.supportedFeatures.storePicture;if((featureSupported!=undefined)&&!featureSupported){var featureInfo=admarvelSDKFeatures.storePicture["ios"];if(featureInfo!=undefined){delete admarvelSDKFeatures.storePicture["ios"]}}}else{if(isAndroid()){admarvelSDKInfo=eval(parameters)}}adMarvelUpdateSDKVersion();adMarvelUpdateDimensions();if(admarvelSDKInitCallback!=null&&("function"==typeof eval(admarvelSDKInitCallback))){eval(admarvelSDKInitCallback)()}}function getNumericVersion(a){var e=0;var d=a.split(".");var c=100;for(var b=0,g=d.length;b<g;b++){var f=parseInt(d[b]);if(c<1){break}if(f>0){e+=f*c}c/=10}return e}function adMarvelUpdateSDKVersion(){if(admarvelSDKInfo!=null&&admarvelSDKInfo.sdkVersion!==undefined){admarvelSDKVersion=parseInt(getNumericVersion(admarvelSDKInfo.sdkVersion))}else{if(isIOS()&&admarvelSDKInfo.sdkVersion===undefined){admarvelSDKVersion=(undefined===admarvelSDKInfo.supportedFeatures)?282:283}if(isAndroid()&&admarvelSDKInfo.sdkVersion===undefined){admarvelSDKVersion=213}}}function adMarvelUpdateDimensions(){if(admarvelSDKInfo!=null&&isAndroid()){if(getAdMarvelSDKVersion()>231){var a=window.devicePixelRatio;admarvelSDKInfo.x=Math.round(admarvelSDKInfo.x/a);admarvelSDKInfo.y=Math.round(admarvelSDKInfo.y/a);admarvelSDKInfo.width=Math.round(admarvelSDKInfo.width/a);admarvelSDKInfo.height=Math.round(admarvelSDKInfo.height/a);admarvelSDKInfo.appX=Math.round(admarvelSDKInfo.appX/a);admarvelSDKInfo.appY=Math.round(admarvelSDKInfo.appY/a);admarvelSDKInfo.appWidth=Math.round(admarvelSDKInfo.appWidth/a);admarvelSDKInfo.appHeight=Math.round(admarvelSDKInfo.appHeight/a);admarvelSDKInfo.screenWidth=Math.round(admarvelSDKInfo.screenWidth/a);admarvelSDKInfo.screenHeight=Math.round(admarvelSDKInfo.screenHeight/a)}}}function admarvelReturnIndexOfObjectInArray(a,c){if(a!=null&&a!=undefined){for(var b=0;b<a.length;b++){if(a[b]==c){return b}}}return -1}function admarvelRemoveObject(b,c){var a=admarvelReturnIndexOfObjectInArray(b,c);if(a!=-1){b.splice(a,1)}}function admarvelGetParsedObj(){return admarvelSDKInfo}function getAndroidScreenSize(a){return{width:320,height:480}}function admarvelGetAdUnitSize(){var a={width:320,height:50};if(admarvelSDKInfo!=null){a={width:admarvelSDKInfo.width,height:admarvelSDKInfo.height}}return a}function admarvelGetMaxAdUnitSize(){var a={width:320,height:460};if(admarvelSDKInfo!=null){if(isIOS()&&getAdMarvelSDKVersion()>=291&&typeof mraid==="object"){if(getAdMarvelSDKVersion()>=302){a={width:admarvelSDKInfo.expandWidth,height:admarvelSDKInfo.expandHeight};return a}a={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight};if(window.orientation==90||window.orientation==-90){a={width:a.height,height:a.width}}return a}if(isAndroid()&&getAdMarvelSDKVersion()>=233&&typeof mraid==="object"){a={width:admarvelSDKInfo.appWidth,height:admarvelSDKInfo.appHeight};return a}if(isIOS()&&getAdMarvelSDKVersion()>=292){a.width=admarvelSDKInfo.expandWidth;a.height=admarvelSDKInfo.expandHeight}else{if(window.orientation==0||window.orientation==180){a.width=admarvelSDKInfo.appWidth;a.height=admarvelSDKInfo.appHeight;if(admarvelSDKInfo.appX>0){a.width=admarvelSDKInfo.appWidth+admarvelSDKInfo.appX;a.height=admarvelSDKInfo.appHeight-admarvelSDKInfo.appX}}else{if(window.orientation==90||window.orientation==-90){a.width=admarvelSDKInfo.appHeight;a.height=admarvelSDKInfo.appWidth;if(admarvelSDKInfo.appY>0){a.width=admarvelSDKInfo.appHeight+admarvelSDKInfo.appY;a.height=admarvelSDKInfo.appWidth-admarvelSDKInfo.appY}}}}}return a}function admarvelGetAdDefaultPosition(){var a={x:0,y:0,width:320,height:50};if(admarvelSDKInfo!=null){if(isIOS()&&getAdMarvelSDKVersion()>=302){var a={x:(admarvelSDKInfo.defaultX==undefined)?admarvelSDKInfo.x:admarvelSDKInfo.defaultX,y:(admarvelSDKInfo.defaultY==undefined)?admarvelSDKInfo.y:admarvelSDKInfo.defaultY,width:(admarvelSDKInfo.defaultWidth==undefined)?admarvelSDKInfo.width:admarvelSDKInfo.defaultWidth,height:(admarvelSDKInfo.defaultHeight==undefined)?admarvelSDKInfo.height:admarvelSDKInfo.defaultHeight};return a}a={x:admarvelSDKInfo.x,y:admarvelSDKInfo.y,width:admarvelSDKInfo.width,height:admarvelSDKInfo.height}}return a}function admarvelGetNetwork(){var a="unknown";if(admarvelSDKInfo!=null){a=(admarvelSDKInfo.network=="YES")?"cell":"offline";if(admarvelSDKInfo.networkType){a=admarvelSDKInfo.networkType}}return a}function admarvelGetOrientation(){var a=null;if(admarvelSDKInfo!=null){a=admarvelSDKInfo.orientation}return a}function admarvelGetDeviceScreenSize(){var b=null;if(undefined!==admarvelSDKInfo.supportedFeatures){if(admarvelSDKInfo.screenWidth>0&&admarvelSDKInfo.screenHeight>0){var a=admarvelSDKInfo.orientation;if(isAndroid()){b={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight}}else{if(a==0||a==180){b={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight}}else{b={width:admarvelSDKInfo.screenHeight,height:admarvelSDKInfo.screenWidth}}}}}else{if(isIOS()){var a=admarvelSDKInfo.orientation;if(isIPhoneOrIPod()){if(a==0||a==180){b={width:320,height:480}}else{b={width:480,height:320}}}else{if(a==0||a==180){b={width:768,height:1024}}else{b={width:1024,height:768}}}}else{b={width:320,height:480}}}return b}function admarvelStorePicture(b,a){if(b==undefined||!admarvelIsSupportedBySDK("storePicture")){return}if(isIOS()){var c={callbackFn:a,askforpermission:"true"};if(isFilePath(b)){c.imagePath=b}else{c.imageURL=b}callAdMarvelFunctionWithParameters("storePicture",c)}else{if(isAndroid()){window.ADMARVEL.storepicture(b,a)}}}function admarvelCheckForApplicationSupportedOrientations(a){if(!admarvelIsSupportedBySDK("checkForApplicationSupportedOrientations")){return}if(isIOS()){callAdMarvelFunctionWithCallback("checkForApplicationSupportedOrientations",a)}else{if(isAndroid()){window.ADMARVEL.checkForApplicationSupportedOrientations(a)}}}function admarvelGetLocation(a){if(!admarvelIsSupportedBySDK("getLocation")){return}if(isIOS()){callAdMarvelFunctionWithCallback("getLocation",a)}else{if(isAndroid()){window.ADMARVEL.getLocation(a)}}}function admarvelCreateReminder(a){if(!admarvelIsSupportedBySDK("createReminder")){return}if(isIOS()){var c="createReminder?";var b={title:a.title,startdate:a.startdate,duedate:a.duedate,timezone:a.timezone,notes:a.notes,recurrence:returnIOSSDKCompatibleRecurrenceString(a.recurrence),alarm:serializeAlarmObject(a.alarm),callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("createReminder",b)}else{if(isAndroid()){}}}function admarvelNotifyInAppBrowserCloseAction(a){if(!admarvelIsSupportedBySDK("notifyInAppBrowserCloseAction")){return}if(isIOS()){callAdMarvelFunctionWithCallback("notifyInAppBrowserCloseAction",a)}else{if(isAndroid()){window.ADMARVEL.notifyInAppBrowserCloseAction(a)}}}function admarvelListenModalViewCloseNotification(a){if(!admarvelIsSupportedBySDK("listenModalViewCloseNotification")){return}if(isIOS()){callAdMarvelFunctionWithCallback("listenModalViewCloseNotification",a)}else{if(isAndroid()){}}}function admarvelSocial(a){if(!admarvelIsSupportedBySDK("admarvelSocial")){return}if(isIOS()){var b={serviceType:a.serviceType,action:a.action,status:a.status,photoPath:a.photoPath,photoURL:a.photoURL,URL:a.URL,screen_name:a.screen_name,follow:a.follow,owner_screen_name:a.owner_screen_name,owner_id:a.owner_id,list_id:a.list_id,slug:a.slug,id:a.id,include_entities:a.include_entities,favorite:a.favorite,trim_user:a.trim_user,callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("admarvelSocial",b)}else{if(isAndroid()){}}}function admarvelIsServiceTypeAvailable(c,a){if(!admarvelIsSupportedBySDK("isServiceTypeAvailable")){return}if(isIOS()){var b={serviceType:c,callbackFn:a};callAdMarvelFunctionWithParameters("isServiceTypeAvailable",b)}else{if(isAndroid()){}}}function admarvelDisplayAlert(a){if(!admarvelIsSupportedBySDK("displayAlert")){return}if(isIOS()){var c="displayAlert?";var b={title:a.title,message:a.message,okButtonTitle:a.okButtonTitle,cancelButtonTitle:a.cancelButtonTitle,callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("displayAlert",b)}else{if(isAndroid()){}}}function getSupportedInterfaceOrientation(){var a=admarvelGetParsedObj();return a.applicationSupportedOrientations.split(",")}function admarvelRegisterForFullscreenViewDidAppearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewDidAppear",a)}}function admarvelRegisterForFullscreenViewDidDisappearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewDidDisappear",a)}}function admarvelRegisterForFullscreenViewWillAppearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewWillAppear",a)}}function admarvelRegisterForFullscreenViewWillDisappearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewWillDisappear",a)}}function admarvelRegisterForApplicationWillResignActiveNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationWillResignActive",a)}}function admarvelRegisterForApplicationDidEnterBackgroundNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationDidEnterBackground",a)}}function admarvelRegisterForApplicationWillEnterForegroundNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationWillEnterForeground",a)}}function admarvelRegisterForApplicationDidBecomeActiveNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationDidBecomeActive",a)}}function admarvelStartAudioRecording(a){if(isIOS()){var b="startAudioRecording";callAdMarvelFunctionWithParameters(b,a)}}function admarvelPauseAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("pauseAudioRecording",a)}}function admarvelResumeAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("resumeAudioRecording",a)}}function admarvelStopAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("stopAudioRecording",a)}}function admarvelDeleteAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("deleteAudioRecording",a)}}function admarvelStartVideoRecording(b){if(isIOS()){var a="startVideoRecording";callAdMarvelFunctionWithParameters(a,b)}}function isFilePath(a){return a.indexOf("/")===0}function dateStringFromDate(c){if(c==null||c==undefined){return null}var e=c.getFullYear();var g=c.getMonth()+1;var b=c.getDate();var a=c.getHours();var d=c.getMinutes();var f=e+zeroPad(g)+zeroPad(b)+zeroPad(a)+zeroPad(d);return f}function dateStringFromDateInUTC(c){if(c==null||c==undefined){return null}var e=c.getFullYear();var g=c.getMonth()+1;var b=c.getDate();var a=c.getHours();var d=c.getMinutes();var h=c.getSeconds();var f=e+zeroPad(g)+zeroPad(b)+"T"+zeroPad(a)+zeroPad(d)+zeroPad(h);return f}function zeroPad(a){var b="";if(a<10){b+="0"}b+=a;return b}function checkIfIosVersionIsFiveOrNewer(){if(/(iPhone|iPod|iPad)/i.test(navigator.userAgent)){if(/OS [2-4]_\d(_\d)? like Mac OS X/i.test(navigator.userAgent)){return false}else{if(/CPU like Mac OS X/i.test(navigator.userAgent)){return false}else{return true}}}}function checkIfAndroidOSVersionIsFourOrNewer(){if(/(android)/i.test(navigator.userAgent)){if(/Android [0-3]/i.test(navigator.userAgent)){return false}else{return true}}return false}function parseTime(a){if(a==null||a==undefined||a.length==0){return null}a=a.toLowerCase();var b=null;if(a.lastIndexOf("z")===a.length-1){b="+00:00";a=a.substr(0,a.length-1);a=a.replace(/[a-z]/g,"");a=a.replace(/:/g,"");a=a.replace(/-/g,"")}else{if(a.lastIndexOf("+")===a.length-6||a.lastIndexOf("-")===a.length-6){b=a.substr(a.length-6,a.length);a=a.substr(0,a.length-6);a=a.replace(/[a-z]/g,"");a=a.replace(/:/g,"");a=a.replace(/-/g,"")}else{return null}}return{time:a,timezone:b}}function getMilisecondsFromHours(b){if(b==null||b==undefined||b.length==0){return null}var e=b.split(":");var d=Math.abs(parseInt(e[0]));var f=parseInt(e[1]);var a=e[0].slice(0,1);var c=null;if(a=="-"){c=((d*60*60)+(f*60))*-1000}else{c=((d*60*60)+(f*60))*1000}return c}function returnDateComponentsFromTimeString(a){if(a==null||a==undefined||a.length==0){return null}var b=a.split("t");var h=b[0].split("-");var c=b[1].split(":");var f=h[0];var e=(parseInt(h[1])-1).toString();var g=h[2];var j=c[0];var d=c[1];var k=c[2];return{year:f,month:e,day:g,hours:j,minutes:d,seconds:k}}function dateObjectFromTimeString(b){if(b==undefined||b.length==0||b==null){return -1}if((isIOS()&&!checkIfIosVersionIsFiveOrNewer())||(isAndroid()&&!checkIfAndroidOSVersionIsFourOrNewer())){b=b.toLowerCase();var d=null;if(b.lastIndexOf("z")===b.length-1){d="+00:00";b=b.substr(0,b.length-1)}else{if(b.lastIndexOf("+")===b.length-6||b.lastIndexOf("-")===b.length-6){d=b.substr(b.length-6,b.length);b=b.substr(0,b.length-6)}else{return -1}}var a=returnDateComponentsFromTimeString(b);var c=new Date(a.year,a.month,a.day,a.hours,a.minutes,a.seconds);var e=c.getTime()-getMilisecondsFromHours(d)+Math.abs(c.getTimezoneOffset()*60*1000);return new Date(e)}else{return new Date(b)}}function returnIOSSDKCompatibleRecurrenceString(a){if(a==null||a==undefined){return null}var b="";if(a.frequency!=undefined&&a.frequency!=null){b=b+"frequency:"+a.frequency+";"}if(a.interval!=undefined&&a.interval!=null){b=b+"interval:"+a.interval.toString()+";"}if(a.expires!=undefined&&a.expires!=null){b=b+"expires:"+a.expires+";"}if(a.daysInWeek!=undefined&&a.daysInWeek!=null){b=b+"daysInWeek:"+a.daysInWeek.join()+";"}if(a.daysInMonth!=undefined&&a.daysInMonth!=null){b=b+"daysInMonth:"+a.daysInMonth.join()+";"}if(a.daysInYear!=undefined&&a.daysInYear!=null){b=b+"daysInYear:"+a.daysInYear.join()+";"}if(a.weeksInMonth!=undefined&&a.weeksInMonth!=null){b=b+"weeksInMonth:"+a.weeksInMonth.join()+";"}if(a.monthsInYear!=undefined&&a.monthsInYear!=null){b=b+"monthsInYear:"+a.monthsInYear.join()+";"}return b}function serializeAlarmObject(a){if(a==null||a==undefined){return null}var b="";if(a.date!=undefined&&a.date!=null){b=b+"date:"+a.date+";"}if(a.location_title!=undefined&&a.location_title!=null){b=b+"location_title:"+a.location_title+";"}if(a.location_latitude!=undefined&&a.location_latitude!=null){b=b+"location_latitude:"+a.location_latitude+";"}if(a.location_longitude!=undefined&&a.location_longitude!=null){b=b+"location_longitude:"+a.location_longitude+";"}if(a.proximity!=undefined&&a.proximity!=null){b=b+"proximity:"+a.proximity+";"}return b}var ORMMA_INITIAL_VERSION=1;var ORMMA_FIRST_UPDATE=1.1;var ORMMA_SECOND_UPDATE=1.2;var ORMMA_THIRD_UPDATE=1.3;var callExpandAfterCheckFrameValues=null;var admarvelORMMAComplianceVersion=ORMMA_INITIAL_VERSION;var ormma=(function(){var pub={};function setDefaultListeners(){admarvelSetOrientationListener(pub.orientationListenerPrivate);if(admarvelORMMAComplianceVersion==ORMMA_INITIAL_VERSION||(admarvelORMMAComplianceVersion==ORMMA_FIRST_UPDATE&&pub.placementType=="interstitial")){admarvelDetectDisplay("ormma.displayListenerPrivate");admarvelDetectHidden("ormma.hiddenListenerPrivate");return}if(admarvelORMMAComplianceVersion>=ORMMA_FIRST_UPDATE){admarvelRegisterVisibilityChangeEvent("ormma.visibilityListenerPrivate");admarvelRegisterSizeChangeEvent("ormma.sizeChangeListenerPrivate");return}}function bindEvent(eventName,listenerFn){if(eventName=="tiltChange"){admarvelRegisterAccelerationEvent("ormma.accelerationListenerPrivate")}else{if(eventName=="shake"){admarvelRegisterShakeEvent("ormma.shakeListenerPrivate",pub.shakeProperties.intensity,pub.shakeProperties.interval)}else{if(eventName=="networkChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterNetworkChangeEvent("ormma.networkListenerPrivate")}else{pub.fireEventListeners("error",["Event networkChange not supported",null]);return}}else{if(eventName=="headingChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterHeadingChangeEvent("ormma.headingListenerPrivate")}else{pub.fireEventListeners("error",["Event headingChange not supported",null]);return}}else{if(eventName=="keyboardChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterKeyboardChangeEvent("ormma.keyboardListenerPrivate")}else{pub.fireEventListeners("error",["Event keyboardChange not supported",null]);return}}else{if(eventName=="locationChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterLocationEvent("ormma.locationListenerPrivate")}else{pub.fireEventListeners("error",["Event locationChange not supported",null]);return}}}}}}}var handlers=pub.listeners[eventName+"EventListener"];if(handlers==null){pub.listeners[eventName+"EventListener"]=[];handlers=pub.listeners[eventName+"EventListener"]}if(admarvelReturnIndexOfObjectInArray(handlers,listenerFn)==-1){handlers.push(listenerFn)}}function unbindEvent(eventName,listenerFn){var handlers=pub.listeners[eventName+"EventListener"];if(!listenerFn){handlers.splice(0,pub.listeners[eventName+"EventListener"].length)}else{handlers=pub.listeners[eventName+"EventListener"];admarvelRemoveObject(handlers,listenerFn)}}function updateFeatureSet(){if(detectDevice("ipod")||detectDevice("ipad")){pub.supportedFeatures.sms=false;pub.supportedFeatures.phone=false}}function determinePlacementType(obj){var placementType=null;if(admarvelORMMAComplianceVersion>=ORMMA_THIRD_UPDATE){placementType=(obj.adType=="Interstitial")?"interstitial":"inline"}else{if(isIOS()&&(typeof obj.screenWidth)!="undefined"&&(typeof obj.screenHeight)!="undefined"){placementType=((typeof adMarvelIsInitialLoad)=="undefined"&&pub.size.width==pub.screenSize.width&&pub.size.height==pub.screenSize.height)?"interstitial":"inline"}else{if(isAndroid()){placementType=(!isInterstitial())?"inline":"interstitial"}else{placementType=(isIOS()&&(typeof adMarvelIsInitialLoad)!="undefined")?"inline":"interstitial"}}}return placementType}pub.fireEventListeners=function(eventName,args){var handlers=pub.listeners[eventName+"EventListener"];if(handlers!=null){for(var i=0;i<handlers.length;i++){handlers[i].apply(null,args)}}};pub.keyboardListenerPrivate=function(open){pub.keyboard=open;pub.fireEventListeners("keyboardChange",[open])};pub.headingListenerPrivate=function(headingValue){pub.heading=headingValue;pub.fireEventListeners("headingChange",[headingValue])};pub.accelerationListenerPrivate=function(rawX,rawY,rawZ,filteredX,filteredY,filteredZ,deltaX,deltaY,deltaZ){pub.tilt={x:filteredX,y:filteredY,z:filteredZ};pub.fireEventListeners("tiltChange",[filteredX,filteredY,filteredZ])};pub.shakeListenerPrivate=function(){pub.fireEventListeners("shake",null)};pub.networkListenerPrivate=function(isAvailable,connectionType){pub.network=connectionType;pub.fireEventListeners("networkChange",[isAvailable,connectionType])};pub.orientationListenerPrivate=function(){var newOrientation=pub.getORMMACompatibleOrientations(window.orientation);if(pub.orientation!=newOrientation){if(Math.abs(pub.orientation-newOrientation)!=180){if(isIOS()&&getAdMarvelSDKVersion()>=292){admarvelCheckFrameValues("ormma.updateFrames")}else{var temp=pub.screenSize.width;pub.screenSize.width=pub.screenSize.height;pub.screenSize.height=temp;temp=pub.maxSize.width;pub.maxSize.width=pub.maxSize.height;pub.maxSize.height=temp}}}pub.orientation=pub.getORMMACompatibleOrientations(window.orientation);pub.fireEventListeners("orientationChange",[pub.orientation]);pub.fireEventListeners("screenChange",[pub.screenSize.width,pub.screenSize.height])};pub.sizeChangeListenerPrivate=function(newWidth,newHeight){pub.size={width:newWidth,height:newHeight};pub.fireEventListeners("sizeChange",[newWidth,newHeight])};pub.locationListenerPrivate=function(latitude,longitude,accuracy){pub.location={lat:latitude,lon:longitude,acc:accuracy};pub.fireEventListeners("locationChange",[latitude,longitude,accuracy])};pub.updateFrames=function(params){if(params!=undefined){var parsedObj=admarvelGetParsedObj();if(isAndroid()&&getAdMarvelSDKVersion()>=238){var density=window.devicePixelRatio;parsedObj.x=Math.round(params.x/density);parsedObj.y=Math.round(params.y/density);parsedObj.width=Math.round(params.width/density);parsedObj.height=Math.round(params.height/density);parsedObj.expandX=Math.round(params.expandX/density);parsedObj.expandY=Math.round(params.expandY/density);parsedObj.expandWidth=Math.round(params.expandWidth/density);parsedObj.expandHeight=Math.round(params.expandHeight/density);parsedObj.appX=Math.round(params.appX/density);parsedObj.appY=Math.round(params.appY/density);parsedObj.appWidth=Math.round(params.appWidth/density);parsedObj.appHeight=Math.round(params.appHeight/density)}else{parsedObj.x=params.x;parsedObj.y=params.y;parsedObj.width=params.width;parsedObj.height=params.height;parsedObj.expandX=params.expandX;parsedObj.expandY=params.expandY;parsedObj.expandWidth=params.expandWidth;parsedObj.expandHeight=params.expandHeight;parsedObj.appX=params.appX;parsedObj.appY=params.appY;parsedObj.appWidth=params.appWidth;parsedObj.appHeight=params.appHeight;parsedObj.defaultX=params.defaultX;parsedObj.defaultY=params.defaultY;parsedObj.viewInWindow=params.viewInWindow}}pub.defaultPosition=admarvelGetAdDefaultPosition();pub.size=admarvelGetAdUnitSize();pub.maxSize=admarvelGetMaxAdUnitSize();if(callExpandAfterCheckFrameValues!=null){eval(callExpandAfterCheckFrameValues)}};pub.visibilityListenerPrivate=function(visible){if(visible){admarvelCheckFrameValues("ormma.updateFrames")}pub.viewable=visible;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.displayListenerPrivate=function(){pub.viewable=true;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.hiddenListenerPrivate=function(){pub.viewable=false;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.useCustomClose=function(usingOwnCloseGraphic){if(usingOwnCloseGraphic!==pub.expandProperties.useCustomClose){pub.expandProperties.useCustomClose=usingOwnCloseGraphic;admarvelConfigureSDKCloseButton(!usingOwnCloseGraphic,"showArea:true")}};pub.init=function(){admarvelInit("ormma.initCB")};pub.intervalId=null;pub.waitDuration=100;pub.totalWaitTime=0;pub.timeOutThreshold=10000;pub.expandProperties={};if(ORMMA_CURRENT_VERSION==1){var expandProps={useBackground:false,backgroundColor:"#ffffff",backgroundOpacity:"1.0",lockOrientation:false};pub.expandProperties=expandProps}else{if(ORMMA_CURRENT_VERSION==1.1){var expandProps={isModal:true,useBackground:false,backgroundColor:"#ffffff",backgroundOpacity:"1.0",lockOrientation:false};pub.expandProperties=expandProps}}pub.viewable=false;pub.size={};pub.maxSize={};pub.state=null;pub.lastState=null;pub.defaultPosition={};pub.orientation=null;pub.location=null;pub.network=null;pub.heading=null;pub.screenSize=null;pub.tilt=null;pub.keyboard=false;pub.placementType=null;pub.shakeProperties={intensity:2,interval:1};pub.listeners={readyEventListener:null,networkChangeEventListener:null,keyboardChangeEventListener:null,orientationChangeEventListener:null,headingChangeEventListener:null,screenChangeEventListener:null,shakeEventListener:null,sizeChangeEventListener:null,stateChangeEventListener:null,tiltChangeEventListener:null,viewableChangeEventListener:null,errorEventListener:null,locationChangeEventListener:null,adJitsuExpandedEventListener:null};var dimensionValidators={x:function(value){return !isNaN(value)},y:function(value){return !isNaN(value)},width:function(value){return !isNaN(value)&&value>=0},height:function(value){return !isNaN(value)&&value>=0}};var sizeValidators={width:function(value){return !isNaN(value)&&value>=0&&value<=pub.maxSize.width},height:function(value){return !isNaN(value)&&value>=0&&value<=pub.maxSize.height}};var expandPropertyValidators={width:function(value){return !isNaN(value)&&value>=0},height:function(value){return !isNaN(value)&&value>=0},isModal:function(value){return(value===true||value===false)},useCustomClose:function(value){return(value===true||value===false)},useBackground:function(value){return(value===true||value===false)},backgroundColor:function(value){return(typeof value=="string"&&value.substr(0,1)=="#"&&!isNaN(parseInt(value.substr(1),16)))},backgroundOpacity:function(value){return !isNaN(value)&&value>=0&&value<=1},lockOrientation:function(value){return(value===true||value===false)}};var shakePropertyValidators={intensity:function(value){return !isNaN(value)},interval:function(value){return !isNaN(value)}};pub.valid=function(obj,validators,action,flag){if(obj===undefined){pub.fireEventListeners("error",["Required object missing.",action]);return false}var propertiesToCheckInObj=(flag==true)?validators:obj;for(var i in propertiesToCheckInObj){if(flag==true&&obj[i]===undefined){pub.fireEventListeners("error",["Missing property - "+i+".",action]);return false}else{if(!validators[i]){pub.fireEventListeners("error",["Invalid property specified - "+i+".",action]);return false}}if(!(validators[i])(obj[i])){pub.fireEventListeners("error",["Value of property "+i+" is not valid type.",action]);return false}}return true};pub.supportedFeatures={screen:true,orientation:true,heading:false,location:false,shake:true,tilt:true,network:true,sms:true,phone:true,email:true,calendar:false,camera:true,map:true,audio:true,video:true,"level-1":true,"level-2":true,"level-3":false};pub.getSize=function(){return pub.size};pub.getMaxSize=function(){return pub.maxSize};pub.getViewable=function(){if(isAndroid()){return true}return pub.viewable};pub.getState=function(){return pub.state};pub.getDefaultPosition=function(){return pub.defaultPosition};pub.getExpandProperties=function(){if(ORMMA_CURRENT_VERSION==1){return pub.expandProperties}else{if(ORMMA_CURRENT_VERSION==1.1){var temp=pub.expandProperties;temp.width=(pub.expandProperties.width==undefined)?pub.maxSize.width:pub.expandProperties.width;temp.height=(pub.expandProperties.height==undefined)?pub.maxSize.height:pub.expandProperties.height;return temp}}};pub.getPlacementType=function(){return pub.placementType};pub.setExpandProperties=function(props){if(!pub.valid(props,expandPropertyValidators,"setExpandProperties")){return}if(props.lockOrientation){pub.expandProperties.lockOrientation=props.lockOrientation;admarvelDisableRotation()}if(props.useCustomClose!==undefined){pub.useCustomClose(props.useCustomClose)}if(props.width!==undefined){pub.expandProperties.width=props.width}if(props.height!==undefined){pub.expandProperties.height=props.height}if(pub.expandProperties.useBackground==true){var redHex=props.backgroundColor.substr(1,2);var greenHex=props.backgroundColor.substr(3,2);var blueHex=props.backgroundColor.substr(5,2);var red=(parseInt(redHex,16)/255).toFixed(2);var green=(parseInt(greenHex,16)/255).toFixed(2);var blue=(parseInt(blueHex,16)/255).toFixed(2);admarvelSetBackgroundColor(props.backgroundOpacity,red,green,blue)}};pub.supports=function(featureName){return pub.supportedFeatures[featureName]};pub.addEventListener=function(eventName,listenerFn){if(!eventName||!listenerFn){pub.fireEventListeners("error",["Both event and listener are required.","addEventListener"])}else{if(pub.listeners[eventName+"EventListener"]===undefined){pub.fireEventListeners("error",["Unknown event: "+eventName,"addEventListener"])}else{bindEvent(eventName,listenerFn)}}};pub.removeEventListener=function(eventName,listenerFn){if(!eventName){pub.fireEventListeners("error",["Must specify an event.","removeEventListener"])}else{var handlers=pub.listeners[eventName+"EventListener"];if(listenerFn!==undefined&&admarvelReturnIndexOfObjectInArray(handlers,listenerFn)==-1){pub.fireEventListeners("error",["Listener not currently registered for event","removeEventListener"])}else{if(admarvelORMMAComplianceVersion>ORMMA_FIRST_UPDATE){admarvelStopEventListener(eventName)}unbindEvent(eventName,listenerFn)}}};pub.calculateSize=function(newWidth,newHeight){var newWidth=(newWidth>pub.maxSize.width)?pub.maxSize.width:newWidth;var newHeight=(newHeight>pub.maxSize.height)?pub.maxSize.height:newHeight;var availableWidth=pub.maxSize.width-pub.defaultPosition.x;var availableHeight=pub.maxSize.height-pub.defaultPosition.y;var centerX=pub.defaultPosition.x+0.5*pub.size.width;var centerY=pub.defaultPosition.y+0.5*pub.size.height;var newX=null;var newY=null;if(newWidth<=availableWidth&&newHeight<=availableHeight){newX=pub.defaultPosition.x;newY=pub.defaultPosition.y}else{if((newWidth<=(pub.defaultPosition.x+pub.size.width))&&newHeight<=(pub.defaultPosition.y+pub.size.height)){var deltaX=newWidth-pub.size.width;var deltaY=newHeight-pub.size.height;newX=Math.max(pub.defaultPosition.x-deltaX,0);newY=Math.max(pub.defaultPosition.y-deltaY,0)}else{if((0.5*pub.maxSize.width>=centerX+0.5*newWidth)&&(0.5*pub.maxSize.height>=centerY+0.5*newHeight)){newX=centerX-0.5*newWidth;newY=centerY-0.5*newHeight}else{newX=0;if(isIOS()){var parsedObj=admarvelGetParsedObj();newY=parsedObj.appY}else{newY=pub.defaultPosition.y}}}}var calculatedSize={width:newWidth,height:newHeight,x:newX,y:newY};return calculatedSize};pub.resize=function(newWidth,newHeight){if(newWidth==null||newHeight==null||isNaN(newWidth)||isNaN(newHeight)||newWidth<0||newHeight<0){pub.fireEventListeners("error",["Requested size must be numeric values between 0 and maxSize.","resize"]);return}else{if((newWidth>pub.maxSize.width)||(newHeight>pub.maxSize.height)){pub.fireEventListeners("error",["Request ("+newWidth+" x "+newHeight+") exceeds maximum allowable size of ("+pub.maxSize.width+" x "+pub.maxSize.height+")","resize"]);return}else{if((newWidth==pub.size.width)&&(newHeight==pub.size.height)){pub.fireEventListeners("error",["Requested size equals current size.","resize"]);return}}}var calculatedSize=pub.calculateSize(newWidth,newHeight);admarvelExpandTo(calculatedSize.width,calculatedSize.height,calculatedSize.x,calculatedSize.y,"ormma.closeHandler");pub.lastState=pub.state;pub.state="resized";pub.size={width:newWidth,height:newHeight};pub.fireEventListeners("stateChange",[pub.state]);pub.fireEventListeners("sizeChange",[newWidth,newHeight])};pub.expand=function(params){if(ORMMA_CURRENT_VERSION==1.1){if(!(typeof params=="string"||params==null||params==undefined)){pub.fireEventListeners("error",["Invalid parameter type","expand"]);return}if(pub.state=="expanded"){return}if(callExpandAfterCheckFrameValues==null&&isIOS()){callExpandAfterCheckFrameValues=(params!=undefined)?"pub.expand('"+params+"');":"pub.expand();";admarvelCheckFrameValues("ormma.updateFrames");return}callExpandAfterCheckFrameValues=null;var defaultExpandProperties={};if(pub.expandProperties.width==undefined){defaultExpandProperties.width=pub.maxSize.width}if(pub.expandProperties.height==undefined){defaultExpandProperties.height=pub.maxSize.height}if(pub.expandProperties.useCustomClose==undefined){defaultExpandProperties.useCustomClose=false}pub.setExpandProperties(defaultExpandProperties);var newWidth=pub.expandProperties.width;var newHeight=pub.expandProperties.height;var calculatedSize=pub.calculateSize(newWidth,newHeight);var URLParam=(params)?params:null;admarvelExpandTo(calculatedSize.width,calculatedSize.height,calculatedSize.x,calculatedSize.y,"ormma.closeHandler",URLParam);pub.lastState=pub.state;pub.state="expanded";pub.size={width:newWidth,height:newHeight}}else{if(ORMMA_CURRENT_VERSION==1){if(!pub.valid(params,dimensionValidators,"expand",true)){return}if(callExpandAfterCheckFrameValues==null&&isIOS()){callExpandAfterCheckFrameValues="pub.expand({x:"+params.x+",y:"+params.y+",width:"+params.width+",height:"+params.height+"});";admarvelCheckFrameValues("ormma.updateFrames");return}callExpandAfterCheckFrameValues=null;var parsedObj=admarvelGetParsedObj();if(isIOS()&&params.y<parsedObj.appY){if(getAdMarvelSDKVersion()>291){if(parsedObj.expandHeight>parsedObj.appHeight){params.y=parsedObj.appY}}}admarvelExpandTo(params.width,params.height,params.x,params.y,"ormma.closeHandler");pub.lastState=pub.state;pub.state="expanded";pub.size={width:params.width,height:params.height}}}pub.fireEventListeners("stateChange",[pub.state])};pub.open=function(URL){if(!URL){pub.fireEventListeners("error",["URL is required.","open"])}else{admarvelURLRedirectWithAutoInteractionDetection(URL)}};pub.openMap=function(poi,fullscreen){if(!pub.supportedFeatures.map){pub.fireEventListeners("error",["Method not supported by this client.","openMap"])}else{admarvelOpenMapApplication(poi,fullscreen)}};pub.playAudio=function(URL,props){if(!pub.supports("audio")){pub.fireEventListeners("error",["Method not supported by this client.","playAudio"])}else{if(!URL){pub.fireEventListeners("error",["URL is required.","playAudio"])}else{admarvelNotifyPlayingAudio();admarvelPlayAudio(URL,props)}}};pub.playVideo=function(URL,props){if(!pub.supports("video")){pub.fireEventListeners("error",["Method not supported by this client.","playVideo"])}else{if(!URL){pub.fireEventListeners("error",["URL is required.","playVideo"])}else{admarvelPlayVideo(URL,props)}}};pub.show=function(){if(pub.state=="hidden"){pub.state="default";pub.fireEventListeners("stateChange",null)}};pub.closeHandler=function(){pub.size=admarvelGetAdUnitSize();pub.defaultPosition=admarvelGetAdDefaultPosition();pub.state=pub.lastState;if(pub.expandProperties.lockOrientation){admarvelEnableRotation()}pub.fireEventListeners("stateChange",[pub.state])};pub.close=function(){admarvelCollapse();pub.closeHandler()};pub.hide=function(){admarvelClose();if(pub.state=="default"){pub.state="hidden";pub.fireEventListeners("stateChange",[pub.state])}};pub.getOrientation=function(){if(!pub.supports("orientation")){pub.fireEventListeners("error",["Method not supported by this client.","getOrientation"])}return pub.orientation};pub.makeCall=function(numberToCall){if(!pub.supports("phone")){pub.fireEventListeners("error",["Method not supported by this client.","makeCall"])}else{if(!numberToCall||typeof numberToCall!="string"){pub.fireEventListeners("error",["Request must provide a number to call.","makeCall"])}else{admarvelMakeCall(numberToCall)}}};pub.triggerOrmmaReady=function(){if(pub.totalWaitTime==0){setDefaultListeners();pub.state="default";pub.fireEventListeners("ready",null)}if(typeof ORMMAReady=="function"){window.clearInterval(pub.intervalId);pub.intervalId=null;ORMMAReady()}else{pub.totalWaitTime+=pub.waitDuration;if(pub.totalWaitTime>=pub.timeOutThreshold){window.clearInterval(pub.intervalId);pub.intervalId=null}}};pub.getKeyboard=function(){return pub.keyboard};pub.sendSMS=function(recipient,body){if(!pub.supports("sms")){pub.fireEventListeners("error",["Method not supported by this client.","sendSMS"])}else{if(!recipient||typeof recipient!="string"){pub.fireEventListeners("error",["Request must specify a recipient.","sendSMS"])}else{admarvelSendSMS(recipient,body)}}};function zeroPad(number){var text="";if(number<10){text+="0"}text+=number;return text}pub.createEvent=function(date,title,body){if(!pub.supports("calendar")){pub.fireEventListeners("error",["Method not supported by this client.","createEvent"])}else{if(typeof date=="undefined"||date==null){pub.fireEventListeners("error",["Date parameter not provided.","createEvent"]);return}if(typeof title=="undefined"||title==null){pub.fireEventListeners("error",["Title parameter not provided.","createEvent"]);return}var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();var hours=date.getHours();var minutes=date.getMinutes();var dateString=year+zeroPad(month)+zeroPad(day)+zeroPad(hours)+zeroPad(minutes);admarvelCreateCalendarEvent(dateString,title,body)}};pub.sendMail=function(recipient,subject,body){if(!pub.supports("email")){pub.fireEventListeners("error",["Method not supported by this client.","sendMail"])}else{if(!recipient||typeof recipient!="string"){pub.fireEventListeners("error",["Request must specify a recipient.","sendMail"])}else{admarvelSendEmail(recipient,subject,body)}}};pub.setShakeProperties=function(props){if(!pub.supports("shake")){pub.fireEventListeners("error",["Method not supported by this client.","setShakeProperties"])}else{if(pub.valid(props,shakePropertyValidators,"setShakeProperties")){pub.shakeProperties=props}}};pub.getShakeProperties=function(){if(!pub.supports("shake")){pub.fireEventListeners("error",["Method not supported by this client.","getShakeProperties"])}return pub.shakeProperties};pub.getNetwork=function(){if(!pub.supports("network")){pub.fireEventListeners("error",["Method not supported by this client.","getNetwork"])}return pub.network};pub.getTilt=function(){if(!pub.supports("tilt")){pub.fireEventListeners("error",["Method not supported by this client.","getTilt"])}return pub.tilt};pub.getHeading=function(){if(!pub.supports("heading")){pub.fireEventListeners("error",["Method not supported by this client.","getHeading"])}return pub.heading};pub.getLocation=function(){if(!pub.supports("location")){pub.fireEventListeners("error",["Method not supported by this client.","getLocation"])}return pub.location};pub.getScreenSize=function(){if(!pub.supports("screen")){pub.fireEventListeners("error",["Method not supported by this client.","getScreenSize"])}return pub.screenSize};pub.getORMMAComplianceVersion=function(parsedObj){var complianceVersion=ORMMA_INITIAL_VERSION;if(isIOS()){if(undefined!==parsedObj.sdkVersion){if(getAdMarvelSDKVersion()>290){complianceVersion=ORMMA_THIRD_UPDATE}else{if(getAdMarvelSDKVersion()>284){complianceVersion=ORMMA_SECOND_UPDATE}}}else{complianceVersion=(undefined===parsedObj.supportedFeatures)?ORMMA_INITIAL_VERSION:ORMMA_FIRST_UPDATE}}else{if(isAndroid()){if(undefined===parsedObj.sdkVersion){complianceVersion=ORMMA_FIRST_UPDATE}else{complianceVersion=ORMMA_SECOND_UPDATE}}}return complianceVersion};pub.getORMMACompatibleOrientations=function(sdkReportedOrientation){var orientationNumeric=parseInt(sdkReportedOrientation,10);if(orientationNumeric!=0&&orientationNumeric!=180){orientationNumeric+=180}return orientationNumeric};pub.isViewable=function(){if(isAndroid()){return true}return pub.viewable};pub.getVersion=function(){return ORMMA_CURRENT_VERSION};pub.createDelegate=function(fn,obj,args){return function(){var callArgs=args||arguments;return fn.apply(obj||window,callArgs)}};pub.setTimer=function(fn,millis,obj,args){fn=pub.createDelegate(fn,obj,args);return setTimeout(fn,millis)};pub.initCB=function(){admarvelAutoInteractionDetection(false);var parsedObj=admarvelGetParsedObj();admarvelORMMAComplianceVersion=pub.getORMMAComplianceVersion(parsedObj);if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){pub.supportedFeatures=parsedObj.supportedFeatures}pub.state="loading";pub.size=admarvelGetAdUnitSize();pub.maxSize=admarvelGetMaxAdUnitSize();pub.defaultPosition=admarvelGetAdDefaultPosition();pub.network=admarvelGetNetwork();pub.orientation=pub.getORMMACompatibleOrientations(parsedObj.orientation);pub.screenSize=admarvelGetDeviceScreenSize();pub.placementType=determinePlacementType(parsedObj);if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){pub.location=(typeof parsedObj.location=="string")?eval("("+parsedObj.location+")"):parsedObj.location}if(admarvelORMMAComplianceVersion==ORMMA_INITIAL_VERSION){updateFeatureSet()}pub.intervalId=window.setInterval(pub.triggerOrmmaReady,pub.waitDuration)};pub.clickToApp=function(URL){if(!URL){pub.fireEventListeners("error",["URL is required.","clickToApp"])}else{admarvelOpenExternalURL(URL)}};pub.createEventWithFullDetails=function(date,title,body,location,allDay,endDate,reminderDate){if(!pub.supports("calendar")){pub.fireEventListeners("error",["Method not supported by this client.","createEventWithFullDetails"])}else{if(typeof date=="undefined"||date==null){pub.fireEventListeners("error",["Date parameter not provided.","createEvent"]);return}if(typeof title=="undefined"||title==null){pub.fireEventListeners("error",["Title parameter not provided.","createEvent"]);return}var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();var hours=date.getHours();var minutes=date.getMinutes();var dateString=year+zeroPad(month)+zeroPad(day)+zeroPad(hours)+zeroPad(minutes);var endDateString=null;if(endDate!=null&&typeof endDate!="undefined"){var endYear=endDate.getFullYear();var endMonth=endDate.getMonth()+1;var endDay=endDate.getDate();var endHours=endDate.getHours();var endMinutes=endDate.getMinutes();endDateString=endYear+zeroPad(endMonth)+zeroPad(endDay)+zeroPad(endHours)+zeroPad(endMinutes)}var reminderOffsetInSeconds=1;if(reminderDate!=null&&typeof reminderDate!="undefined"){reminderOffsetInSeconds=Math.round((reminderDate.getTime()-date.getTime())/1000);if(reminderOffsetInSeconds>0){reminderOffsetInSeconds=0}}var allDayString="NO";if((allDay=="YES")||(allDay=="yes")||(allDay=="Y")||(allDay=="y")){allDayString="YES"}admarvelCreateCalendarEventWithFullDetails(dateString,title,body,location,allDayString,endDateString,reminderOffsetInSeconds.toString())}};pub.playVideoContainingAudioContent=function(URL,properties){admarvelNotifyPlayingAudio();pub.playVideo(URL,properties)};pub.openContainingAudioContent=function(URL,controls){admarvelNotifyPlayingAudio();pub.open(URL,controls)};pub.adJitsu=function(URL){if(!URL||typeof URL!="string"){pub.fireEventListeners("error",["Valid URL required.","adJitsu"])}else{admarvelLaunchAdJitsu(URL,"ormma.adJitsuExpandedListenerPrivate")}};pub.adJitsuExpandedListenerPrivate=function(){pub.fireEventListeners("adJitsuExpanded",null)};pub.cameraOverlay=function(imageURL){if(!imageURL||typeof imageURL!="string"){pub.fireEventListeners("error",["Valid imageURL required.","cameraOverlay"])}else{admarvelLaunchCameraOverlay(imageURL)}};return pub}());ormma.init();var ORMMA_CURRENT_VERSION=1;var admarvelSDKInfo=null;var admarvelSDKVersion=null;var admarvelSDKInitCallback=null;var admarvelSDKFeatures={checkNetworkAvailability:{ios:"2.6.8",android:"2.1.3"},detectNetworkChange:{ios:"2.8.3",android:"2.1.3"},expandToFullscreen:{ios:"2.9.1",android:"2.1.3"},expandToCustomSize:{ios:"2.5.7",android:"2.1.3"},disableToolbar:{ios:"2.8.1",android:""},enableToolbar:{ios:"2.8.1",android:""},queryLocation:{ios:"2.8.3",android:"2.3.7"},detectLocationChange:{ios:"2.8.3",android:"2.1.3"},minimize:{ios:"2.4.4",android:"2.1.3"},collapse:{ios:"2.5.7",android:"2.1.3"},checkOrientation:{ios:"2.6.8",android:""},detectSizeChange:{ios:"2.8.3",android:"2.1.4"},detectShake:{ios:"2.6.7",android:"2.1.6"},detectAcceleration:{ios:"2.6.7",android:"2.1.3"},disableRotations:{ios:"2.6.8",android:"2.1.3"},enableRotations:{ios:"2.6.8",android:"2.1.3"},detectHeading:{ios:"2.8.3",android:"2.1.3"},detectVisibilityChange:{ios:"2.8.3",android:"2.1.4"},queryBannerVisibility:{ios:"2.8.3",android:"2.1.4"},setContainerBackgroundColor:{ios:"2.8.1",android:"2.1.3"},InitialLoadingCheck:{ios:"2.8.1",android:"2.1.3"},createCalendarEvent:{ios:"2.8.3",android:"2.1.3"},detectKeyboardVisibility:{ios:"2.8.3",android:""},detectError:{ios:"2.8.3",android:""},sdkCloseButton:{ios:"2.9.0",android:"2.3.0"},checkVisible:{ios:"2.8.3",android:"2.1.4"},disableToolbarUntilEnabled:{ios:"2.8.1",android:""},checkFrameValues:{ios:"2.9.2",android:"2.3.8"},autoInteractionDetection:{ios:"2.9.1",android:"2.3.1"},storePicture:{ios:"2.9.2",android:"2.3.7"},getDeviceIds:{ios:"3.0",android:""},notifyInAppBrowserCloseAction:{ios:"3.0",android:""},launchMapApp:{ios:"2.9.4",android:""},inlineVideo:{ios:"2.8.1",android:""},createReminder:{ios:"3.0.2",android:""},getLocation:{ios:"2.8.3",android:""},notifyInAppBrowserCloseAction:{ios:"3.0.0",android:""},checkForApplicationSupportedOrientations:{ios:"3.0",android:"2.3.7"},displayAlert:{ios:"3.0.2",android:""},admarvelSocial:{ios:"3.0.2",android:""},isServiceTypeAvailable:{ios:"3.0.2",android:""},listenModalViewCloseNotification:{ios:"3.0.2",android:""},fullscreenViewDidAppear:{ios:"3.0.4",android:""},fullscreenViewDidDisappear:{ios:"3.0.4",android:""},fullscreenViewWillAppear:{ios:"3.0.4",android:""},fullscreenViewWillDisappear:{ios:"3.0.4",android:""},applicationWillResignActive:{ios:"3.0.4",android:""},applicationDidEnterBackground:{ios:"3.0.4",android:""},applicationWillEnterForeground:{ios:"3.0.4",android:""},applicationDidBecomeActive:{ios:"3.0.4",android:""},startAudioRecording:{ios:"3.0.4",android:""},pauseAudioRecording:{ios:"3.0.4",android:""},resumeAudioRecording:{ios:"3.0.4",android:""},stopAudioRecording:{ios:"3.0.4",android:""},deleteAudioRecording:{ios:"3.0.4",android:""},startVideoRecording:{ios:"3.0.4",android:""},enableAutoDetection:{ios:"2.9.1",android:""},disableAutoDetection:{ios:"2.9.1",android:""}};function getAdMarvelSDKVersion(){return admarvelSDKVersion}function admarvelIsSupportedBySDK(c){if(!getAdMarvelSDKVersion()){return false}var a=(isIOS())?"ios":"android";var b=admarvelSDKFeatures[c][a];return((b!=undefined)&&getAdMarvelSDKVersion()>=parseInt(getNumericVersion(b)))}function admarvelIsSupportedByDevice(b){if(!admarvelSDKVersion){return}var a=admarvelSDKInfo.supportedFeatures[b];return((a!=undefined)&&a)}function admarvelInit(b){admarvelSDKInitCallback=b;var a="handleInit";if(isIOS()){initAdMarvel(a)}else{if(isAndroid()){window.ADMARVEL.initAdMarvel(a)}}}function admarvelRegisterSizeChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectSizeChange",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectsizechange(a)}}}}function admarvelConfigureSDKCloseButton(b){if(isIOS()){var a="show="+b;if(arguments.length>1){a+="|"+arguments[1]}callAdMarvelFunction("sdkCloseButton?"+a)}else{if(isAndroid()){var c="true";var e="top-right";if(arguments.length>1){var d=arguments[1].split("|");for(i=0;i<d.length;i++){if(d[i].split(":")[0]=="showArea"){c=d[i].split(":")[1]}else{if(d[i].split(":")[0]=="customClosePosition"){e=d[i].split(":")[1]}}}}if(getAdMarvelSDKVersion()>=237&&!isInterstitial()){window.ADMARVEL.sdkclosebutton(b,c,e)}else{window.ADMARVEL.sdkclosebutton(b,c)}}}}function admarvelRegisterLocationEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectLocation",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectlocation(a)}}}}function admarvelRegisterNetworkChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectNetworkChange",a)}else{if(isAndroid()){window.ADMARVEL.registernetworkchangeevent(a)}}}function admarvelRegisterVisibilityChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectVisibility",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectvisibility(a)}}}}function admarvelRegisterShakeEvent(d,a,b){if(isIOS()){var c={callbackFn:d,threshold:a,minTimeBetween:b};callAdMarvelFunctionWithParameters("detectShake",c)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>214){window.ADMARVEL.registershakeevent(d,a,b)}else{window.ADMARVEL.registershakeevent(d)}}}}function admarvelRegisterAccelerationEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectAcceleration",a)}else{if(isAndroid()){window.ADMARVEL.registeraccelerationevent(a)}}}function admarvelRegisterHeadingChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectHeading",a)}else{if(isAndroid()){window.ADMARVEL.registerheadingevent(a)}}}function admarvelExpandToFullScreen(c,a){if(isIOS()&&(admarvelSDKVersion==null||(getAdMarvelSDKVersion()>290&&c!=undefined))){var b={minimizeCallbackFn:c,URL:a};callAdMarvelFunctionWithParameters("maximize",b)}else{if(isAndroid()){if(!isInterstitial()){if(getAdMarvelSDKVersion()>236&&c!=undefined&&a!=undefined){window.ADMARVEL.expandtofullscreen(c,a)}else{if(getAdMarvelSDKVersion()>232&&c!=undefined){window.ADMARVEL.expandtofullscreen(c)}else{window.ADMARVEL.expandtofullscreen()}}}}}}function admarvelExpandTo(c,n,j,g,m,f,a){if(isIOS()){var h={x:j,y:g,width:c,height:n,collapseFn:m,URL:f,forceYValue:a};callAdMarvelFunctionWithParameters("expandTo",h)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>231){var d=(f)?f:"";var b=c;var e=n;var l=j;var k=g;if(admarvelSDKInfo!=null){b=Math.round(c)*window.devicePixelRatio;e=Math.round(n)*window.devicePixelRatio;l=Math.round(j)*window.devicePixelRatio;k=Math.round(g)*window.devicePixelRatio}window.ADMARVEL.expandto(Math.round(l),Math.round(k),Math.round(b),Math.round(e),m,d)}else{if(getAdMarvelSDKVersion()>221){var d=(f)?f:"";window.ADMARVEL.expandto(c,n,m,d)}else{window.ADMARVEL.expandto(c,n)}}}}}function admarvelDisableToolbar(a){if(isIOS()){var b={closeButton:a};callAdMarvelFunctionWithParameters("disableToolbar",b)}else{if(isAndroid()){window.ADMARVEL.disableclosebutton("true")}}}function admarvelCollapse(){if(isIOS()){if(admarvelSDKInfo!=null&&admarvelSDKInfo.adType!==undefined&&admarvelSDKInfo.adType=="Interstitial"){admarvelClose()}else{callAdMarvelFunction("collapse")}}else{if(isAndroid()){if(!isInterstitial()){window.ADMARVEL.close()}else{window.ADMARVEL.closeinterstitialad()}}}}function admarvelClose(){if(isIOS()){callAdMarvelFunction("minimize")}else{if(isAndroid()){if(isInterstitial()){window.ADMARVEL.closeinterstitialad()}}}}function admarvelDisableRotation(b){if(b!=undefined){b=b.toLowerCase();if(b==="portrait"){b="Portrait"}else{if(b==="portraitupsidedown"){b="PortraitUpSideDown"}else{if(b==="landscapeleft"){b="LandscapeLeft"}else{if(b==="landscaperight"){b="LandscapeRight"}}}}}if(isIOS()){var a={lockedOrientation:b};callAdMarvelFunctionWithParameters("disableRotations",a)}else{if(isAndroid()){if(isInterstitial()){if((getAdMarvelSDKVersion()>=233)&&(b!=undefined)){window.ADMARVEL.disablerotations(b)}else{window.ADMARVEL.disablerotations()}}else{if(getAdMarvelSDKVersion()>=237){if(b!=undefined){window.ADMARVEL.disableRotationForExpand(b)}else{window.ADMARVEL.disableRotationForExpand()}}}}}}function admarvelEnableRotation(){if(isIOS()){callAdMarvelFunction("enableRotations")}else{if(isAndroid()){if(isInterstitial()||getAdMarvelSDKVersion()>=237){window.ADMARVEL.enablerotations()}}}}function admarvelSetBackgroundColor(f,e,d,a){if(isIOS()){var c={red:e,green:d,blue:a,alpha:f};callAdMarvelFunctionWithParameters("setBackgroundColor",c)}else{if(isAndroid()){var b="#"+fillZero((f*255).toString(16))+fillZero((e*255).toString(16))+fillZero((d*255).toString(16))+fillZero((a*255).toString(16));window.ADMARVEL.setbackgroundcolor(b)}}}function admarvelRegisterKeyboardChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectKeyboard",a)}else{if(isAndroid()){}}}function admarvelCreateCalendarEvent(c,e,a,b){if(isIOS()){var d={date:c,title:e,body:a,callbackFn:b};callAdMarvelFunctionWithParameters("createCalendarEvent",d)}else{if(isAndroid()){window.ADMARVEL.createcalendarevent(c,e,a)}}}function admarvelCreateCalendarEventWithFullDetails(w,x,n,a,p,u,k,q,f,b,s,c,l){if(isIOS()){var d={date:w,title:x,body:n,allDay:p,location:a,endDate:u,timezone:q,url:f,recurrence:b,status:s,freebusy:c,callbackFn:l};if(k!=null&&typeof k!="undefined"){var h=k.split(",");var v="";for(var t=0;t<h.length;t++){var g=h[t];if(g<0){v=v+g+","}}v=v.slice(0,v.length-1);if(v!==null&&typeof v!="undefined"&&v!=""){d.alarmOffset=v}}callAdMarvelFunctionWithParameters("createCalendarEvent",d)}else{if(isAndroid()){var m=parseInt(k);var r=null;var e=null;var o=0;var j=0;if(b!=null&&typeof b!="undefined"){e=parseCalendarRecurrenceString(b)}if(b!=null&&typeof b!="undefined"){if(b.exceptionDates!=undefined&&b.exceptionDates!=null){r=b.exceptionDates}}if(s!=null&&typeof s!="undefined"){if((s=="pending")||(s=="tentative")){j=0}else{if(s=="confirmed"){j=1}else{if(s=="cancelled"){j=2}}}}if(c!=null&&typeof s!="undefined"){if(c=="opaque"){o=0}else{if(c=="transparent"){o=1}}}if(getAdMarvelSDKVersion()>=237){window.ADMARVEL.createcalendarevent(w,x,n,a,p,u,m,q,f,e,r,j,o,l)}else{if(getAdMarvelSDKVersion()>231){window.ADMARVEL.createcalendarevent(w,x,n,a,p,u,k)}else{window.ADMARVEL.createcalendarevent(w,x,n)}}}}}function parseCalendarRecurrenceString(a){if(a==undefined||a==null){return null}var e="";if(a.frequency!=undefined&&a.frequency!=null){var c=a.frequency.toString().toString().toUpperCase();e=e+"FREQ="+c+";"}if(a.interval!=undefined&&a.interval!=null){e=e+"INTERVAL="+a.interval.toString()+";"}if(a.expires!=undefined&&a.expires!=null){var d=dateObjectFromTimeString(a.expires);e=e+"UNTIL="+dateStringFromDateInUTC(d)+";"}if(a.daysInWeek!=undefined&&a.daysInWeek!=null){var b=parseDaysInWeekString(a.daysInWeek);e=e+"BYDAY="+b+";"}if(a.daysInMonth!=undefined&&a.daysInMonth!=null){e=e+"BYMONTHDAY="+a.daysInMonth+";"}if(a.daysInYear!=undefined&&a.daysInYear!=null){e=e+"BYYEARDAY="+a.daysInYear+";"}if(a.weeksInMonth!=undefined&&a.weeksInMonth!=null){e=e+"BYWEEKNO="+a.weeksInMonth+";"}if(a.monthsInYear!=undefined&&a.monthsInYear!=null){e=e+"BYMONTH="+a.monthsInYear+";"}return e}function parseDaysInWeekString(a){var c="";var d=a.toString().split(",");for(var b=0;b<d.length;b++){if(d[b]=="0"){c=c+"SU,"}else{if(d[b]=="1"){c=c+"MO,"}else{if(d[b]=="2"){c=c+"TU,"}else{if(d[b]=="3"){c=c+"WE,"}else{if(d[b]=="4"){c=c+"TH,"}else{if(d[b]=="5"){c=c+"FR,"}else{if(d[b]=="6"){c=c+"SA,"}}}}}}}}if(c.length>0){return c.slice(0,c.length-1)}}function admarvelIsInitialLoad(){if(isIOS()){return adMarvelIsInitialLoad}else{if(isAndroid()){return window.ADMARVEL.isinitialload()}}}function admarvelAutoInteractionDetection(a){if(admarvelIsSupportedBySDK("autoInteractionDetection")){if(isIOS()){if(a){callAdMarvelFunction("enableAutoDetection")}else{callAdMarvelFunction("disableAutoDetection")}}else{if(isAndroid()){if(a){window.ADMARVEL.enableautodetect()}else{window.ADMARVEL.disableautodetect()}}}}}function admarvelCheckFrameValues(a){if(admarvelIsSupportedBySDK("checkFrameValues")){if(isIOS()){callAdMarvelFunctionWithCallback("checkFrameValues",a)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>=238&&!isInterstitial()){window.ADMARVEL.checkFrameValues(a)}else{admarvelInit(a)}}}}else{admarvelInit(a)}}function admarvelURLRedirect(a){if((a!=null)&&(a.indexOf("webcal://")==0)){admarvelOpenExternalURL(a)}else{if(isIOS()){if(getAdMarvelSDKVersion()<=290){document.location=a}else{callURLInIFRAME(a)}}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.redirect(a)}else{document.location=a}}}}}function admarvelURLRedirectWithAutoInteractionDetection(a){admarvelAutoInteractionDetection(true);admarvelURLRedirect(a);admarvelAutoInteractionDetection(false)}function admarvelSetOrientationListener(a){if(isIOS()){window.onorientationchange=a}else{if(isAndroid()){var b="onorientationchange" in window;var c=(b)?"orientationchange":"resize";window.addEventListener(c,a)}}}function admarvelCheckOrientation(){if(isIOS()){callAdMarvelFunction("checkOrientation")}else{if(isAndroid()){}}}function admarvelDetectDisplay(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectDisplay",a)}else{if(isAndroid()){}}}function admarvelDetectHidden(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectHidden",a)}else{if(isAndroid()){}}}function admarvelUpdateState(a){if(isIOS()){}else{if(isAndroid()){if(!isInterstitial()){window.ADMARVEL.updatestate(a)}}}}function admarvelNotifyPlayingAudio(){callURLInIFRAME("admarvelsdk://playingAudio")}function admarvelLaunchAdJitsu(a,b){if(isIOS()){var c={url:a,expandCallbackFn:b};callAdMarvelFunctionWithParameters("displayAdJitsu",c)}else{if(isAndroid()){}}}function admarvelLaunchCameraOverlay(a){if(isIOS()){var b={imageURL:a};callAdMarvelFunctionWithParameters("displayCameraOverlay",b)}else{if(isAndroid()){}}}function admarvelOpenExternalURL(a){if(isIOS()&&getAdMarvelSDKVersion()>283){admarvelURLRedirectWithAutoInteractionDetection("admarvelexternal"+a)}else{if(isIOS()&&getAdMarvelSDKVersion()<=283){admarvelURLRedirectWithAutoInteractionDetection("admarvelsafari"+a)}else{if(isAndroid()&&getAdMarvelSDKVersion()>214){admarvelURLRedirect("admarvelexternal"+a)}}}}function admarvelStopEventListener(a){var c=a.replace("Change","");if(isIOS()){var b={forEvent:c};callAdMarvelFunctionWithParameters("stopEventListener",b)}else{if(isAndroid()){}}}function admarvelOpenMapApplication(b,a){if(isIOS()){if((b!=null)){if((b.indexOf("?")>=0)){parameterString=b.substring(b.indexOf("?")+1)}else{if((b.indexOf("maps:")>=0)){parameterString=b.substring(b.indexOf("maps:")+5)}else{if(b.indexOf("maps.google.com")>=0){parameterString=b.substring(b.indexOf("maps.google.com")+15);parameterString=parameterString.substring(parameterString.lastIndexOf("/")+1)}else{parameterString=b}}}b="maps:"+parameterString;if(getAdMarvelSDKVersion()<=294){b="admarvelexternal"+b}}}admarvelURLRedirectWithAutoInteractionDetection(b)}function admarvelPlayAudio(a,b){if(isIOS()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}else{if(isAndroid()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}}}function admarvelPlayVideo(a,b){if(isIOS()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}else{if(isAndroid()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}}}function admarvelMakeCall(b){var a="tel:"+b;admarvelURLRedirectWithAutoInteractionDetection(a)}function admarvelSendSMS(c,a){var b="sms:"+c;if(isIOS()){if(getAdMarvelSDKVersion()>283){b+="?body="+encodeURIComponent(a)}admarvelURLRedirectWithAutoInteractionDetection(b)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>214){b+="?body="+encodeURIComponent(a)}admarvelURLRedirectWithAutoInteractionDetection(b)}}}function admarvelSendEmail(c,b,a){var d="mailto:"+c+"?subject="+encodeURIComponent(b)+"&body="+encodeURIComponent(a);admarvelURLRedirectWithAutoInteractionDetection(d)}function admarvelSetLayerTypeSoftware(){if(isIOS()){}else{if(isAndroid()){if(getAdMarvelSDKVersion()>233){window.ADMARVEL.setsoftwarelayer()}}}}function isIPhoneOrIPod(){if(detectDevice("iphone os")||detectDevice("iphoneos")){return true}else{return false}}function isIOS(){return(isIPhoneOrIPod()||detectDevice("ipad"))}function isAndroid(){return detectDevice("android")}function detectDevice(b){var c=navigator.userAgent.toLowerCase();var a=c.indexOf(b);return(a>-1)}function fillZero(a){if(a.length==1){return"0"+a}else{return a}}function isInterstitial(){if(typeof window.ADMARVEL.closeinterstitialad=="function"){return true}return false}function callAdMarvelFunctionWithParameters(c,b){if(b!=null&&b!=undefined){var a=new Array();for(var d in b){if(b.hasOwnProperty(d)&&b[d]!=null&&b[d]!=undefined){a[a.length]=encodeURIComponent(d)+"="+encodeURIComponent(b[d])}}if(a.length!=0){c=c+"?"+a.join("&")}}callAdMarvelFunction(c)}function initAdMarvel(a){callAdMarvelFunctionWithCallback("init",a)}function callAdMarvelFunctionWithCallback(c,a){var b={callbackFn:a};callAdMarvelFunctionWithParameters(c,b)}function callAdMarvelFunction(a){callURLInIFRAME("admarveljavascript:"+a)}function callURLInIFRAME(b){var a=document.createElement("IFRAME");a.setAttribute("src",b);a.width=0;a.height=0;if(document.body!=null){document.body.appendChild(a)}else{if(document.firstChild!=null){document.firstChild.appendChild(a)}}a.parentNode.removeChild(a);a=null}function handleInit(parameters){if(isIOS()){admarvelSDKInfo=eval("("+parameters+")");var featureSupported=admarvelSDKInfo.supportedFeatures.storePicture;if((featureSupported!=undefined)&&!featureSupported){var featureInfo=admarvelSDKFeatures.storePicture["ios"];if(featureInfo!=undefined){delete admarvelSDKFeatures.storePicture["ios"]}}}else{if(isAndroid()){admarvelSDKInfo=eval(parameters)}}adMarvelUpdateSDKVersion();adMarvelUpdateDimensions();if(admarvelSDKInitCallback!=null&&("function"==typeof eval(admarvelSDKInitCallback))){eval(admarvelSDKInitCallback)()}}function getNumericVersion(a){var e=0;var d=a.split(".");var c=100;for(var b=0,g=d.length;b<g;b++){var f=parseInt(d[b]);if(c<1){break}if(f>0){e+=f*c}c/=10}return e}function adMarvelUpdateSDKVersion(){if(admarvelSDKInfo!=null&&admarvelSDKInfo.sdkVersion!==undefined){admarvelSDKVersion=parseInt(getNumericVersion(admarvelSDKInfo.sdkVersion))}else{if(isIOS()&&admarvelSDKInfo.sdkVersion===undefined){admarvelSDKVersion=(undefined===admarvelSDKInfo.supportedFeatures)?282:283}if(isAndroid()&&admarvelSDKInfo.sdkVersion===undefined){admarvelSDKVersion=213}}}function adMarvelUpdateDimensions(){if(admarvelSDKInfo!=null&&isAndroid()){if(getAdMarvelSDKVersion()>231){var a=window.devicePixelRatio;admarvelSDKInfo.x=Math.round(admarvelSDKInfo.x/a);admarvelSDKInfo.y=Math.round(admarvelSDKInfo.y/a);admarvelSDKInfo.width=Math.round(admarvelSDKInfo.width/a);admarvelSDKInfo.height=Math.round(admarvelSDKInfo.height/a);admarvelSDKInfo.appX=Math.round(admarvelSDKInfo.appX/a);admarvelSDKInfo.appY=Math.round(admarvelSDKInfo.appY/a);admarvelSDKInfo.appWidth=Math.round(admarvelSDKInfo.appWidth/a);admarvelSDKInfo.appHeight=Math.round(admarvelSDKInfo.appHeight/a);admarvelSDKInfo.screenWidth=Math.round(admarvelSDKInfo.screenWidth/a);admarvelSDKInfo.screenHeight=Math.round(admarvelSDKInfo.screenHeight/a)}}}function admarvelReturnIndexOfObjectInArray(a,c){if(a!=null&&a!=undefined){for(var b=0;b<a.length;b++){if(a[b]==c){return b}}}return -1}function admarvelRemoveObject(b,c){var a=admarvelReturnIndexOfObjectInArray(b,c);if(a!=-1){b.splice(a,1)}}function admarvelGetParsedObj(){return admarvelSDKInfo}function getAndroidScreenSize(a){return{width:320,height:480}}function admarvelGetAdUnitSize(){var a={width:320,height:50};if(admarvelSDKInfo!=null){a={width:admarvelSDKInfo.width,height:admarvelSDKInfo.height}}return a}function admarvelGetMaxAdUnitSize(){var a={width:320,height:460};if(admarvelSDKInfo!=null){if(isIOS()&&getAdMarvelSDKVersion()>=291&&typeof mraid==="object"){if(getAdMarvelSDKVersion()>=302){a={width:admarvelSDKInfo.expandWidth,height:admarvelSDKInfo.expandHeight};return a}a={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight};if(window.orientation==90||window.orientation==-90){a={width:a.height,height:a.width}}return a}if(isAndroid()&&getAdMarvelSDKVersion()>=233&&typeof mraid==="object"){a={width:admarvelSDKInfo.appWidth,height:admarvelSDKInfo.appHeight};return a}if(isIOS()&&getAdMarvelSDKVersion()>=292){a.width=admarvelSDKInfo.expandWidth;a.height=admarvelSDKInfo.expandHeight}else{if(window.orientation==0||window.orientation==180){a.width=admarvelSDKInfo.appWidth;a.height=admarvelSDKInfo.appHeight;if(admarvelSDKInfo.appX>0){a.width=admarvelSDKInfo.appWidth+admarvelSDKInfo.appX;a.height=admarvelSDKInfo.appHeight-admarvelSDKInfo.appX}}else{if(window.orientation==90||window.orientation==-90){a.width=admarvelSDKInfo.appHeight;a.height=admarvelSDKInfo.appWidth;if(admarvelSDKInfo.appY>0){a.width=admarvelSDKInfo.appHeight+admarvelSDKInfo.appY;a.height=admarvelSDKInfo.appWidth-admarvelSDKInfo.appY}}}}}return a}function admarvelGetAdDefaultPosition(){var a={x:0,y:0,width:320,height:50};if(admarvelSDKInfo!=null){if(isIOS()&&getAdMarvelSDKVersion()>=302){var a={x:(admarvelSDKInfo.defaultX==undefined)?admarvelSDKInfo.x:admarvelSDKInfo.defaultX,y:(admarvelSDKInfo.defaultY==undefined)?admarvelSDKInfo.y:admarvelSDKInfo.defaultY,width:(admarvelSDKInfo.defaultWidth==undefined)?admarvelSDKInfo.width:admarvelSDKInfo.defaultWidth,height:(admarvelSDKInfo.defaultHeight==undefined)?admarvelSDKInfo.height:admarvelSDKInfo.defaultHeight};return a}a={x:admarvelSDKInfo.x,y:admarvelSDKInfo.y,width:admarvelSDKInfo.width,height:admarvelSDKInfo.height}}return a}function admarvelGetNetwork(){var a="unknown";if(admarvelSDKInfo!=null){a=(admarvelSDKInfo.network=="YES")?"cell":"offline";if(admarvelSDKInfo.networkType){a=admarvelSDKInfo.networkType}}return a}function admarvelGetOrientation(){var a=null;if(admarvelSDKInfo!=null){a=admarvelSDKInfo.orientation}return a}function admarvelGetDeviceScreenSize(){var b=null;if(undefined!==admarvelSDKInfo.supportedFeatures){if(admarvelSDKInfo.screenWidth>0&&admarvelSDKInfo.screenHeight>0){var a=admarvelSDKInfo.orientation;if(isAndroid()){b={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight}}else{if(a==0||a==180){b={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight}}else{b={width:admarvelSDKInfo.screenHeight,height:admarvelSDKInfo.screenWidth}}}}}else{if(isIOS()){var a=admarvelSDKInfo.orientation;if(isIPhoneOrIPod()){if(a==0||a==180){b={width:320,height:480}}else{b={width:480,height:320}}}else{if(a==0||a==180){b={width:768,height:1024}}else{b={width:1024,height:768}}}}else{b={width:320,height:480}}}return b}function admarvelStorePicture(b,a){if(b==undefined||!admarvelIsSupportedBySDK("storePicture")){return}if(isIOS()){var c={callbackFn:a,askforpermission:"true"};if(isFilePath(b)){c.imagePath=b}else{c.imageURL=b}callAdMarvelFunctionWithParameters("storePicture",c)}else{if(isAndroid()){window.ADMARVEL.storepicture(b,a)}}}function admarvelCheckForApplicationSupportedOrientations(a){if(!admarvelIsSupportedBySDK("checkForApplicationSupportedOrientations")){return}if(isIOS()){callAdMarvelFunctionWithCallback("checkForApplicationSupportedOrientations",a)}else{if(isAndroid()){window.ADMARVEL.checkForApplicationSupportedOrientations(a)}}}function admarvelGetLocation(a){if(!admarvelIsSupportedBySDK("getLocation")){return}if(isIOS()){callAdMarvelFunctionWithCallback("getLocation",a)}else{if(isAndroid()){window.ADMARVEL.getLocation(a)}}}function admarvelCreateReminder(a){if(!admarvelIsSupportedBySDK("createReminder")){return}if(isIOS()){var c="createReminder?";var b={title:a.title,startdate:a.startdate,duedate:a.duedate,timezone:a.timezone,notes:a.notes,recurrence:returnIOSSDKCompatibleRecurrenceString(a.recurrence),alarm:serializeAlarmObject(a.alarm),callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("createReminder",b)}else{if(isAndroid()){}}}function admarvelNotifyInAppBrowserCloseAction(a){if(!admarvelIsSupportedBySDK("notifyInAppBrowserCloseAction")){return}if(isIOS()){callAdMarvelFunctionWithCallback("notifyInAppBrowserCloseAction",a)}else{if(isAndroid()){window.ADMARVEL.notifyInAppBrowserCloseAction(a)}}}function admarvelListenModalViewCloseNotification(a){if(!admarvelIsSupportedBySDK("listenModalViewCloseNotification")){return}if(isIOS()){callAdMarvelFunctionWithCallback("listenModalViewCloseNotification",a)}else{if(isAndroid()){}}}function admarvelSocial(a){if(!admarvelIsSupportedBySDK("admarvelSocial")){return}if(isIOS()){var b={serviceType:a.serviceType,action:a.action,status:a.status,photoPath:a.photoPath,photoURL:a.photoURL,URL:a.URL,screen_name:a.screen_name,follow:a.follow,owner_screen_name:a.owner_screen_name,owner_id:a.owner_id,list_id:a.list_id,slug:a.slug,id:a.id,include_entities:a.include_entities,favorite:a.favorite,trim_user:a.trim_user,callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("admarvelSocial",b)}else{if(isAndroid()){}}}function admarvelIsServiceTypeAvailable(c,a){if(!admarvelIsSupportedBySDK("isServiceTypeAvailable")){return}if(isIOS()){var b={serviceType:c,callbackFn:a};callAdMarvelFunctionWithParameters("isServiceTypeAvailable",b)}else{if(isAndroid()){}}}function admarvelDisplayAlert(a){if(!admarvelIsSupportedBySDK("displayAlert")){return}if(isIOS()){var c="displayAlert?";var b={title:a.title,message:a.message,okButtonTitle:a.okButtonTitle,cancelButtonTitle:a.cancelButtonTitle,callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("displayAlert",b)}else{if(isAndroid()){}}}function getSupportedInterfaceOrientation(){var a=admarvelGetParsedObj();return a.applicationSupportedOrientations.split(",")}function admarvelRegisterForFullscreenViewDidAppearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewDidAppear",a)}}function admarvelRegisterForFullscreenViewDidDisappearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewDidDisappear",a)}}function admarvelRegisterForFullscreenViewWillAppearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewWillAppear",a)}}function admarvelRegisterForFullscreenViewWillDisappearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewWillDisappear",a)}}function admarvelRegisterForApplicationWillResignActiveNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationWillResignActive",a)}}function admarvelRegisterForApplicationDidEnterBackgroundNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationDidEnterBackground",a)}}function admarvelRegisterForApplicationWillEnterForegroundNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationWillEnterForeground",a)}}function admarvelRegisterForApplicationDidBecomeActiveNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationDidBecomeActive",a)}}function admarvelStartAudioRecording(a){if(isIOS()){var b="startAudioRecording";callAdMarvelFunctionWithParameters(b,a)}}function admarvelPauseAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("pauseAudioRecording",a)}}function admarvelResumeAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("resumeAudioRecording",a)}}function admarvelStopAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("stopAudioRecording",a)}}function admarvelDeleteAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("deleteAudioRecording",a)}}function admarvelStartVideoRecording(b){if(isIOS()){var a="startVideoRecording";callAdMarvelFunctionWithParameters(a,b)}}function isFilePath(a){return a.indexOf("/")===0}function dateStringFromDate(c){if(c==null||c==undefined){return null}var e=c.getFullYear();var g=c.getMonth()+1;var b=c.getDate();var a=c.getHours();var d=c.getMinutes();var f=e+zeroPad(g)+zeroPad(b)+zeroPad(a)+zeroPad(d);return f}function dateStringFromDateInUTC(c){if(c==null||c==undefined){return null}var e=c.getFullYear();var g=c.getMonth()+1;var b=c.getDate();var a=c.getHours();var d=c.getMinutes();var h=c.getSeconds();var f=e+zeroPad(g)+zeroPad(b)+"T"+zeroPad(a)+zeroPad(d)+zeroPad(h);return f}function zeroPad(a){var b="";if(a<10){b+="0"}b+=a;return b}function checkIfIosVersionIsFiveOrNewer(){if(/(iPhone|iPod|iPad)/i.test(navigator.userAgent)){if(/OS [2-4]_\d(_\d)? like Mac OS X/i.test(navigator.userAgent)){return false}else{if(/CPU like Mac OS X/i.test(navigator.userAgent)){return false}else{return true}}}}function checkIfAndroidOSVersionIsFourOrNewer(){if(/(android)/i.test(navigator.userAgent)){if(/Android [0-3]/i.test(navigator.userAgent)){return false}else{return true}}return false}function parseTime(a){if(a==null||a==undefined||a.length==0){return null}a=a.toLowerCase();var b=null;if(a.lastIndexOf("z")===a.length-1){b="+00:00";a=a.substr(0,a.length-1);a=a.replace(/[a-z]/g,"");a=a.replace(/:/g,"");a=a.replace(/-/g,"")}else{if(a.lastIndexOf("+")===a.length-6||a.lastIndexOf("-")===a.length-6){b=a.substr(a.length-6,a.length);a=a.substr(0,a.length-6);a=a.replace(/[a-z]/g,"");a=a.replace(/:/g,"");a=a.replace(/-/g,"")}else{return null}}return{time:a,timezone:b}}function getMilisecondsFromHours(b){if(b==null||b==undefined||b.length==0){return null}var e=b.split(":");var d=Math.abs(parseInt(e[0]));var f=parseInt(e[1]);var a=e[0].slice(0,1);var c=null;if(a=="-"){c=((d*60*60)+(f*60))*-1000}else{c=((d*60*60)+(f*60))*1000}return c}function returnDateComponentsFromTimeString(a){if(a==null||a==undefined||a.length==0){return null}var b=a.split("t");var h=b[0].split("-");var c=b[1].split(":");var f=h[0];var e=(parseInt(h[1])-1).toString();var g=h[2];var j=c[0];var d=c[1];var k=c[2];return{year:f,month:e,day:g,hours:j,minutes:d,seconds:k}}function dateObjectFromTimeString(b){if(b==undefined||b.length==0||b==null){return -1}if((isIOS()&&!checkIfIosVersionIsFiveOrNewer())||(isAndroid()&&!checkIfAndroidOSVersionIsFourOrNewer())){b=b.toLowerCase();var d=null;if(b.lastIndexOf("z")===b.length-1){d="+00:00";b=b.substr(0,b.length-1)}else{if(b.lastIndexOf("+")===b.length-6||b.lastIndexOf("-")===b.length-6){d=b.substr(b.length-6,b.length);b=b.substr(0,b.length-6)}else{return -1}}var a=returnDateComponentsFromTimeString(b);var c=new Date(a.year,a.month,a.day,a.hours,a.minutes,a.seconds);var e=c.getTime()-getMilisecondsFromHours(d)+Math.abs(c.getTimezoneOffset()*60*1000);return new Date(e)}else{return new Date(b)}}function returnIOSSDKCompatibleRecurrenceString(a){if(a==null||a==undefined){return null}var b="";if(a.frequency!=undefined&&a.frequency!=null){b=b+"frequency:"+a.frequency+";"}if(a.interval!=undefined&&a.interval!=null){b=b+"interval:"+a.interval.toString()+";"}if(a.expires!=undefined&&a.expires!=null){b=b+"expires:"+a.expires+";"}if(a.daysInWeek!=undefined&&a.daysInWeek!=null){b=b+"daysInWeek:"+a.daysInWeek.join()+";"}if(a.daysInMonth!=undefined&&a.daysInMonth!=null){b=b+"daysInMonth:"+a.daysInMonth.join()+";"}if(a.daysInYear!=undefined&&a.daysInYear!=null){b=b+"daysInYear:"+a.daysInYear.join()+";"}if(a.weeksInMonth!=undefined&&a.weeksInMonth!=null){b=b+"weeksInMonth:"+a.weeksInMonth.join()+";"}if(a.monthsInYear!=undefined&&a.monthsInYear!=null){b=b+"monthsInYear:"+a.monthsInYear.join()+";"}return b}function serializeAlarmObject(a){if(a==null||a==undefined){return null}var b="";if(a.date!=undefined&&a.date!=null){b=b+"date:"+a.date+";"}if(a.location_title!=undefined&&a.location_title!=null){b=b+"location_title:"+a.location_title+";"}if(a.location_latitude!=undefined&&a.location_latitude!=null){b=b+"location_latitude:"+a.location_latitude+";"}if(a.location_longitude!=undefined&&a.location_longitude!=null){b=b+"location_longitude:"+a.location_longitude+";"}if(a.proximity!=undefined&&a.proximity!=null){b=b+"proximity:"+a.proximity+";"}return b}var ORMMA_INITIAL_VERSION=1;var ORMMA_FIRST_UPDATE=1.1;var ORMMA_SECOND_UPDATE=1.2;var ORMMA_THIRD_UPDATE=1.3;var callExpandAfterCheckFrameValues=null;var admarvelORMMAComplianceVersion=ORMMA_INITIAL_VERSION;var ormma=(function(){var pub={};function setDefaultListeners(){admarvelSetOrientationListener(pub.orientationListenerPrivate);if(admarvelORMMAComplianceVersion==ORMMA_INITIAL_VERSION||(admarvelORMMAComplianceVersion==ORMMA_FIRST_UPDATE&&pub.placementType=="interstitial")){admarvelDetectDisplay("ormma.displayListenerPrivate");admarvelDetectHidden("ormma.hiddenListenerPrivate");return}if(admarvelORMMAComplianceVersion>=ORMMA_FIRST_UPDATE){admarvelRegisterVisibilityChangeEvent("ormma.visibilityListenerPrivate");admarvelRegisterSizeChangeEvent("ormma.sizeChangeListenerPrivate");return}}function bindEvent(eventName,listenerFn){if(eventName=="tiltChange"){admarvelRegisterAccelerationEvent("ormma.accelerationListenerPrivate")}else{if(eventName=="shake"){admarvelRegisterShakeEvent("ormma.shakeListenerPrivate",pub.shakeProperties.intensity,pub.shakeProperties.interval)}else{if(eventName=="networkChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterNetworkChangeEvent("ormma.networkListenerPrivate")}else{pub.fireEventListeners("error",["Event networkChange not supported",null]);return}}else{if(eventName=="headingChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterHeadingChangeEvent("ormma.headingListenerPrivate")}else{pub.fireEventListeners("error",["Event headingChange not supported",null]);return}}else{if(eventName=="keyboardChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterKeyboardChangeEvent("ormma.keyboardListenerPrivate")}else{pub.fireEventListeners("error",["Event keyboardChange not supported",null]);return}}else{if(eventName=="locationChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterLocationEvent("ormma.locationListenerPrivate")}else{pub.fireEventListeners("error",["Event locationChange not supported",null]);return}}}}}}}var handlers=pub.listeners[eventName+"EventListener"];if(handlers==null){pub.listeners[eventName+"EventListener"]=[];handlers=pub.listeners[eventName+"EventListener"]}if(admarvelReturnIndexOfObjectInArray(handlers,listenerFn)==-1){handlers.push(listenerFn)}}function unbindEvent(eventName,listenerFn){var handlers=pub.listeners[eventName+"EventListener"];if(!listenerFn){handlers.splice(0,pub.listeners[eventName+"EventListener"].length)}else{handlers=pub.listeners[eventName+"EventListener"];admarvelRemoveObject(handlers,listenerFn)}}function updateFeatureSet(){if(detectDevice("ipod")||detectDevice("ipad")){pub.supportedFeatures.sms=false;pub.supportedFeatures.phone=false}}function determinePlacementType(obj){var placementType=null;if(admarvelORMMAComplianceVersion>=ORMMA_THIRD_UPDATE){placementType=(obj.adType=="Interstitial")?"interstitial":"inline"}else{if(isIOS()&&(typeof obj.screenWidth)!="undefined"&&(typeof obj.screenHeight)!="undefined"){placementType=((typeof adMarvelIsInitialLoad)=="undefined"&&pub.size.width==pub.screenSize.width&&pub.size.height==pub.screenSize.height)?"interstitial":"inline"}else{if(isAndroid()){placementType=(!isInterstitial())?"inline":"interstitial"}else{placementType=(isIOS()&&(typeof adMarvelIsInitialLoad)!="undefined")?"inline":"interstitial"}}}return placementType}pub.fireEventListeners=function(eventName,args){var handlers=pub.listeners[eventName+"EventListener"];if(handlers!=null){for(var i=0;i<handlers.length;i++){handlers[i].apply(null,args)}}};pub.keyboardListenerPrivate=function(open){pub.keyboard=open;pub.fireEventListeners("keyboardChange",[open])};pub.headingListenerPrivate=function(headingValue){pub.heading=headingValue;pub.fireEventListeners("headingChange",[headingValue])};pub.accelerationListenerPrivate=function(rawX,rawY,rawZ,filteredX,filteredY,filteredZ,deltaX,deltaY,deltaZ){pub.tilt={x:filteredX,y:filteredY,z:filteredZ};pub.fireEventListeners("tiltChange",[filteredX,filteredY,filteredZ])};pub.shakeListenerPrivate=function(){pub.fireEventListeners("shake",null)};pub.networkListenerPrivate=function(isAvailable,connectionType){pub.network=connectionType;pub.fireEventListeners("networkChange",[isAvailable,connectionType])};pub.orientationListenerPrivate=function(){var newOrientation=pub.getORMMACompatibleOrientations(window.orientation);if(pub.orientation!=newOrientation){if(Math.abs(pub.orientation-newOrientation)!=180){if(isIOS()&&getAdMarvelSDKVersion()>=292){admarvelCheckFrameValues("ormma.updateFrames")}else{var temp=pub.screenSize.width;pub.screenSize.width=pub.screenSize.height;pub.screenSize.height=temp;temp=pub.maxSize.width;pub.maxSize.width=pub.maxSize.height;pub.maxSize.height=temp}}}pub.orientation=pub.getORMMACompatibleOrientations(window.orientation);pub.fireEventListeners("orientationChange",[pub.orientation]);pub.fireEventListeners("screenChange",[pub.screenSize.width,pub.screenSize.height])};pub.sizeChangeListenerPrivate=function(newWidth,newHeight){pub.size={width:newWidth,height:newHeight};pub.fireEventListeners("sizeChange",[newWidth,newHeight])};pub.locationListenerPrivate=function(latitude,longitude,accuracy){pub.location={lat:latitude,lon:longitude,acc:accuracy};pub.fireEventListeners("locationChange",[latitude,longitude,accuracy])};pub.updateFrames=function(params){if(params!=undefined){var parsedObj=admarvelGetParsedObj();if(isAndroid()&&getAdMarvelSDKVersion()>=238){var density=window.devicePixelRatio;parsedObj.x=Math.round(params.x/density);parsedObj.y=Math.round(params.y/density);parsedObj.width=Math.round(params.width/density);parsedObj.height=Math.round(params.height/density);parsedObj.expandX=Math.round(params.expandX/density);parsedObj.expandY=Math.round(params.expandY/density);parsedObj.expandWidth=Math.round(params.expandWidth/density);parsedObj.expandHeight=Math.round(params.expandHeight/density);parsedObj.appX=Math.round(params.appX/density);parsedObj.appY=Math.round(params.appY/density);parsedObj.appWidth=Math.round(params.appWidth/density);parsedObj.appHeight=Math.round(params.appHeight/density)}else{parsedObj.x=params.x;parsedObj.y=params.y;parsedObj.width=params.width;parsedObj.height=params.height;parsedObj.expandX=params.expandX;parsedObj.expandY=params.expandY;parsedObj.expandWidth=params.expandWidth;parsedObj.expandHeight=params.expandHeight;parsedObj.appX=params.appX;parsedObj.appY=params.appY;parsedObj.appWidth=params.appWidth;parsedObj.appHeight=params.appHeight;parsedObj.defaultX=params.defaultX;parsedObj.defaultY=params.defaultY;parsedObj.viewInWindow=params.viewInWindow}}pub.defaultPosition=admarvelGetAdDefaultPosition();pub.size=admarvelGetAdUnitSize();pub.maxSize=admarvelGetMaxAdUnitSize();if(callExpandAfterCheckFrameValues!=null){eval(callExpandAfterCheckFrameValues)}};pub.visibilityListenerPrivate=function(visible){if(visible){admarvelCheckFrameValues("ormma.updateFrames")}pub.viewable=visible;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.displayListenerPrivate=function(){pub.viewable=true;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.hiddenListenerPrivate=function(){pub.viewable=false;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.useCustomClose=function(usingOwnCloseGraphic){if(usingOwnCloseGraphic!==pub.expandProperties.useCustomClose){pub.expandProperties.useCustomClose=usingOwnCloseGraphic;admarvelConfigureSDKCloseButton(!usingOwnCloseGraphic,"showArea:true")}};pub.init=function(){admarvelInit("ormma.initCB")};pub.intervalId=null;pub.waitDuration=100;pub.totalWaitTime=0;pub.timeOutThreshold=10000;pub.expandProperties={};if(ORMMA_CURRENT_VERSION==1){var expandProps={useBackground:false,backgroundColor:"#ffffff",backgroundOpacity:"1.0",lockOrientation:false};pub.expandProperties=expandProps}else{if(ORMMA_CURRENT_VERSION==1.1){var expandProps={isModal:true,useBackground:false,backgroundColor:"#ffffff",backgroundOpacity:"1.0",lockOrientation:false};pub.expandProperties=expandProps}}pub.viewable=false;pub.size={};pub.maxSize={};pub.state=null;pub.lastState=null;pub.defaultPosition={};pub.orientation=null;pub.location=null;pub.network=null;pub.heading=null;pub.screenSize=null;pub.tilt=null;pub.keyboard=false;pub.placementType=null;pub.shakeProperties={intensity:2,interval:1};pub.listeners={readyEventListener:null,networkChangeEventListener:null,keyboardChangeEventListener:null,orientationChangeEventListener:null,headingChangeEventListener:null,screenChangeEventListener:null,shakeEventListener:null,sizeChangeEventListener:null,stateChangeEventListener:null,tiltChangeEventListener:null,viewableChangeEventListener:null,errorEventListener:null,locationChangeEventListener:null,adJitsuExpandedEventListener:null};var dimensionValidators={x:function(value){return !isNaN(value)},y:function(value){return !isNaN(value)},width:function(value){return !isNaN(value)&&value>=0},height:function(value){return !isNaN(value)&&value>=0}};var sizeValidators={width:function(value){return !isNaN(value)&&value>=0&&value<=pub.maxSize.width},height:function(value){return !isNaN(value)&&value>=0&&value<=pub.maxSize.height}};var expandPropertyValidators={width:function(value){return !isNaN(value)&&value>=0},height:function(value){return !isNaN(value)&&value>=0},isModal:function(value){return(value===true||value===false)},useCustomClose:function(value){return(value===true||value===false)},useBackground:function(value){return(value===true||value===false)},backgroundColor:function(value){return(typeof value=="string"&&value.substr(0,1)=="#"&&!isNaN(parseInt(value.substr(1),16)))},backgroundOpacity:function(value){return !isNaN(value)&&value>=0&&value<=1},lockOrientation:function(value){return(value===true||value===false)}};var shakePropertyValidators={intensity:function(value){return !isNaN(value)},interval:function(value){return !isNaN(value)}};pub.valid=function(obj,validators,action,flag){if(obj===undefined){pub.fireEventListeners("error",["Required object missing.",action]);return false}var propertiesToCheckInObj=(flag==true)?validators:obj;for(var i in propertiesToCheckInObj){if(flag==true&&obj[i]===undefined){pub.fireEventListeners("error",["Missing property - "+i+".",action]);return false}else{if(!validators[i]){pub.fireEventListeners("error",["Invalid property specified - "+i+".",action]);return false}}if(!(validators[i])(obj[i])){pub.fireEventListeners("error",["Value of property "+i+" is not valid type.",action]);return false}}return true};pub.supportedFeatures={screen:true,orientation:true,heading:false,location:false,shake:true,tilt:true,network:true,sms:true,phone:true,email:true,calendar:false,camera:true,map:true,audio:true,video:true,"level-1":true,"level-2":true,"level-3":false};pub.getSize=function(){return pub.size};pub.getMaxSize=function(){return pub.maxSize};pub.getViewable=function(){if(isAndroid()){return true}return pub.viewable};pub.getState=function(){return pub.state};pub.getDefaultPosition=function(){return pub.defaultPosition};pub.getExpandProperties=function(){if(ORMMA_CURRENT_VERSION==1){return pub.expandProperties}else{if(ORMMA_CURRENT_VERSION==1.1){var temp=pub.expandProperties;temp.width=(pub.expandProperties.width==undefined)?pub.maxSize.width:pub.expandProperties.width;temp.height=(pub.expandProperties.height==undefined)?pub.maxSize.height:pub.expandProperties.height;return temp}}};pub.getPlacementType=function(){return pub.placementType};pub.setExpandProperties=function(props){if(!pub.valid(props,expandPropertyValidators,"setExpandProperties")){return}if(props.lockOrientation){pub.expandProperties.lockOrientation=props.lockOrientation;admarvelDisableRotation()}if(props.useCustomClose!==undefined){pub.useCustomClose(props.useCustomClose)}if(props.width!==undefined){pub.expandProperties.width=props.width}if(props.height!==undefined){pub.expandProperties.height=props.height}if(pub.expandProperties.useBackground==true){var redHex=props.backgroundColor.substr(1,2);var greenHex=props.backgroundColor.substr(3,2);var blueHex=props.backgroundColor.substr(5,2);var red=(parseInt(redHex,16)/255).toFixed(2);var green=(parseInt(greenHex,16)/255).toFixed(2);var blue=(parseInt(blueHex,16)/255).toFixed(2);admarvelSetBackgroundColor(props.backgroundOpacity,red,green,blue)}};pub.supports=function(featureName){return pub.supportedFeatures[featureName]};pub.addEventListener=function(eventName,listenerFn){if(!eventName||!listenerFn){pub.fireEventListeners("error",["Both event and listener are required.","addEventListener"])}else{if(pub.listeners[eventName+"EventListener"]===undefined){pub.fireEventListeners("error",["Unknown event: "+eventName,"addEventListener"])}else{bindEvent(eventName,listenerFn)}}};pub.removeEventListener=function(eventName,listenerFn){if(!eventName){pub.fireEventListeners("error",["Must specify an event.","removeEventListener"])}else{var handlers=pub.listeners[eventName+"EventListener"];if(listenerFn!==undefined&&admarvelReturnIndexOfObjectInArray(handlers,listenerFn)==-1){pub.fireEventListeners("error",["Listener not currently registered for event","removeEventListener"])}else{if(admarvelORMMAComplianceVersion>ORMMA_FIRST_UPDATE){admarvelStopEventListener(eventName)}unbindEvent(eventName,listenerFn)}}};pub.calculateSize=function(newWidth,newHeight){var newWidth=(newWidth>pub.maxSize.width)?pub.maxSize.width:newWidth;var newHeight=(newHeight>pub.maxSize.height)?pub.maxSize.height:newHeight;var availableWidth=pub.maxSize.width-pub.defaultPosition.x;var availableHeight=pub.maxSize.height-pub.defaultPosition.y;var centerX=pub.defaultPosition.x+0.5*pub.size.width;var centerY=pub.defaultPosition.y+0.5*pub.size.height;var newX=null;var newY=null;if(newWidth<=availableWidth&&newHeight<=availableHeight){newX=pub.defaultPosition.x;newY=pub.defaultPosition.y}else{if((newWidth<=(pub.defaultPosition.x+pub.size.width))&&newHeight<=(pub.defaultPosition.y+pub.size.height)){var deltaX=newWidth-pub.size.width;var deltaY=newHeight-pub.size.height;newX=Math.max(pub.defaultPosition.x-deltaX,0);newY=Math.max(pub.defaultPosition.y-deltaY,0)}else{if((0.5*pub.maxSize.width>=centerX+0.5*newWidth)&&(0.5*pub.maxSize.height>=centerY+0.5*newHeight)){newX=centerX-0.5*newWidth;newY=centerY-0.5*newHeight}else{newX=0;if(isIOS()){var parsedObj=admarvelGetParsedObj();newY=parsedObj.appY}else{newY=pub.defaultPosition.y}}}}var calculatedSize={width:newWidth,height:newHeight,x:newX,y:newY};return calculatedSize};pub.resize=function(newWidth,newHeight){if(newWidth==null||newHeight==null||isNaN(newWidth)||isNaN(newHeight)||newWidth<0||newHeight<0){pub.fireEventListeners("error",["Requested size must be numeric values between 0 and maxSize.","resize"]);return}else{if((newWidth>pub.maxSize.width)||(newHeight>pub.maxSize.height)){pub.fireEventListeners("error",["Request ("+newWidth+" x "+newHeight+") exceeds maximum allowable size of ("+pub.maxSize.width+" x "+pub.maxSize.height+")","resize"]);return}else{if((newWidth==pub.size.width)&&(newHeight==pub.size.height)){pub.fireEventListeners("error",["Requested size equals current size.","resize"]);return}}}var calculatedSize=pub.calculateSize(newWidth,newHeight);admarvelExpandTo(calculatedSize.width,calculatedSize.height,calculatedSize.x,calculatedSize.y,"ormma.closeHandler");pub.lastState=pub.state;pub.state="resized";pub.size={width:newWidth,height:newHeight};pub.fireEventListeners("stateChange",[pub.state]);pub.fireEventListeners("sizeChange",[newWidth,newHeight])};pub.expand=function(params){if(ORMMA_CURRENT_VERSION==1.1){if(!(typeof params=="string"||params==null||params==undefined)){pub.fireEventListeners("error",["Invalid parameter type","expand"]);return}if(pub.state=="expanded"){return}if(callExpandAfterCheckFrameValues==null&&isIOS()){callExpandAfterCheckFrameValues=(params!=undefined)?"pub.expand('"+params+"');":"pub.expand();";admarvelCheckFrameValues("ormma.updateFrames");return}callExpandAfterCheckFrameValues=null;var defaultExpandProperties={};if(pub.expandProperties.width==undefined){defaultExpandProperties.width=pub.maxSize.width}if(pub.expandProperties.height==undefined){defaultExpandProperties.height=pub.maxSize.height}if(pub.expandProperties.useCustomClose==undefined){defaultExpandProperties.useCustomClose=false}pub.setExpandProperties(defaultExpandProperties);var newWidth=pub.expandProperties.width;var newHeight=pub.expandProperties.height;var calculatedSize=pub.calculateSize(newWidth,newHeight);var URLParam=(params)?params:null;admarvelExpandTo(calculatedSize.width,calculatedSize.height,calculatedSize.x,calculatedSize.y,"ormma.closeHandler",URLParam);pub.lastState=pub.state;pub.state="expanded";pub.size={width:newWidth,height:newHeight}}else{if(ORMMA_CURRENT_VERSION==1){if(!pub.valid(params,dimensionValidators,"expand",true)){return}if(callExpandAfterCheckFrameValues==null&&isIOS()){callExpandAfterCheckFrameValues="pub.expand({x:"+params.x+",y:"+params.y+",width:"+params.width+",height:"+params.height+"});";admarvelCheckFrameValues("ormma.updateFrames");return}callExpandAfterCheckFrameValues=null;var parsedObj=admarvelGetParsedObj();if(isIOS()&&params.y<parsedObj.appY){if(getAdMarvelSDKVersion()>291){if(parsedObj.expandHeight>parsedObj.appHeight){params.y=parsedObj.appY}}}admarvelExpandTo(params.width,params.height,params.x,params.y,"ormma.closeHandler");pub.lastState=pub.state;pub.state="expanded";pub.size={width:params.width,height:params.height}}}pub.fireEventListeners("stateChange",[pub.state])};pub.open=function(URL){if(!URL){pub.fireEventListeners("error",["URL is required.","open"])}else{admarvelURLRedirectWithAutoInteractionDetection(URL)}};pub.openMap=function(poi,fullscreen){if(!pub.supportedFeatures.map){pub.fireEventListeners("error",["Method not supported by this client.","openMap"])}else{admarvelOpenMapApplication(poi,fullscreen)}};pub.playAudio=function(URL,props){if(!pub.supports("audio")){pub.fireEventListeners("error",["Method not supported by this client.","playAudio"])}else{if(!URL){pub.fireEventListeners("error",["URL is required.","playAudio"])}else{admarvelNotifyPlayingAudio();admarvelPlayAudio(URL,props)}}};pub.playVideo=function(URL,props){if(!pub.supports("video")){pub.fireEventListeners("error",["Method not supported by this client.","playVideo"])}else{if(!URL){pub.fireEventListeners("error",["URL is required.","playVideo"])}else{admarvelPlayVideo(URL,props)}}};pub.show=function(){if(pub.state=="hidden"){pub.state="default";pub.fireEventListeners("stateChange",null)}};pub.closeHandler=function(){pub.size=admarvelGetAdUnitSize();pub.defaultPosition=admarvelGetAdDefaultPosition();pub.state=pub.lastState;if(pub.expandProperties.lockOrientation){admarvelEnableRotation()}pub.fireEventListeners("stateChange",[pub.state])};pub.close=function(){admarvelCollapse();pub.closeHandler()};pub.hide=function(){admarvelClose();if(pub.state=="default"){pub.state="hidden";pub.fireEventListeners("stateChange",[pub.state])}};pub.getOrientation=function(){if(!pub.supports("orientation")){pub.fireEventListeners("error",["Method not supported by this client.","getOrientation"])}return pub.orientation};pub.makeCall=function(numberToCall){if(!pub.supports("phone")){pub.fireEventListeners("error",["Method not supported by this client.","makeCall"])}else{if(!numberToCall||typeof numberToCall!="string"){pub.fireEventListeners("error",["Request must provide a number to call.","makeCall"])}else{admarvelMakeCall(numberToCall)}}};pub.triggerOrmmaReady=function(){if(pub.totalWaitTime==0){setDefaultListeners();pub.state="default";pub.fireEventListeners("ready",null)}if(typeof ORMMAReady=="function"){window.clearInterval(pub.intervalId);pub.intervalId=null;ORMMAReady()}else{pub.totalWaitTime+=pub.waitDuration;if(pub.totalWaitTime>=pub.timeOutThreshold){window.clearInterval(pub.intervalId);pub.intervalId=null}}};pub.getKeyboard=function(){return pub.keyboard};pub.sendSMS=function(recipient,body){if(!pub.supports("sms")){pub.fireEventListeners("error",["Method not supported by this client.","sendSMS"])}else{if(!recipient||typeof recipient!="string"){pub.fireEventListeners("error",["Request must specify a recipient.","sendSMS"])}else{admarvelSendSMS(recipient,body)}}};function zeroPad(number){var text="";if(number<10){text+="0"}text+=number;return text}pub.createEvent=function(date,title,body){if(!pub.supports("calendar")){pub.fireEventListeners("error",["Method not supported by this client.","createEvent"])}else{if(typeof date=="undefined"||date==null){pub.fireEventListeners("error",["Date parameter not provided.","createEvent"]);return}if(typeof title=="undefined"||title==null){pub.fireEventListeners("error",["Title parameter not provided.","createEvent"]);return}var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();var hours=date.getHours();var minutes=date.getMinutes();var dateString=year+zeroPad(month)+zeroPad(day)+zeroPad(hours)+zeroPad(minutes);admarvelCreateCalendarEvent(dateString,title,body)}};pub.sendMail=function(recipient,subject,body){if(!pub.supports("email")){pub.fireEventListeners("error",["Method not supported by this client.","sendMail"])}else{if(!recipient||typeof recipient!="string"){pub.fireEventListeners("error",["Request must specify a recipient.","sendMail"])}else{admarvelSendEmail(recipient,subject,body)}}};pub.setShakeProperties=function(props){if(!pub.supports("shake")){pub.fireEventListeners("error",["Method not supported by this client.","setShakeProperties"])}else{if(pub.valid(props,shakePropertyValidators,"setShakeProperties")){pub.shakeProperties=props}}};pub.getShakeProperties=function(){if(!pub.supports("shake")){pub.fireEventListeners("error",["Method not supported by this client.","getShakeProperties"])}return pub.shakeProperties};pub.getNetwork=function(){if(!pub.supports("network")){pub.fireEventListeners("error",["Method not supported by this client.","getNetwork"])}return pub.network};pub.getTilt=function(){if(!pub.supports("tilt")){pub.fireEventListeners("error",["Method not supported by this client.","getTilt"])}return pub.tilt};pub.getHeading=function(){if(!pub.supports("heading")){pub.fireEventListeners("error",["Method not supported by this client.","getHeading"])}return pub.heading};pub.getLocation=function(){if(!pub.supports("location")){pub.fireEventListeners("error",["Method not supported by this client.","getLocation"])}return pub.location};pub.getScreenSize=function(){if(!pub.supports("screen")){pub.fireEventListeners("error",["Method not supported by this client.","getScreenSize"])}return pub.screenSize};pub.getORMMAComplianceVersion=function(parsedObj){var complianceVersion=ORMMA_INITIAL_VERSION;if(isIOS()){if(undefined!==parsedObj.sdkVersion){if(getAdMarvelSDKVersion()>290){complianceVersion=ORMMA_THIRD_UPDATE}else{if(getAdMarvelSDKVersion()>284){complianceVersion=ORMMA_SECOND_UPDATE}}}else{complianceVersion=(undefined===parsedObj.supportedFeatures)?ORMMA_INITIAL_VERSION:ORMMA_FIRST_UPDATE}}else{if(isAndroid()){if(undefined===parsedObj.sdkVersion){complianceVersion=ORMMA_FIRST_UPDATE}else{complianceVersion=ORMMA_SECOND_UPDATE}}}return complianceVersion};pub.getORMMACompatibleOrientations=function(sdkReportedOrientation){var orientationNumeric=parseInt(sdkReportedOrientation,10);if(orientationNumeric!=0&&orientationNumeric!=180){orientationNumeric+=180}return orientationNumeric};pub.isViewable=function(){if(isAndroid()){return true}return pub.viewable};pub.getVersion=function(){return ORMMA_CURRENT_VERSION};pub.createDelegate=function(fn,obj,args){return function(){var callArgs=args||arguments;return fn.apply(obj||window,callArgs)}};pub.setTimer=function(fn,millis,obj,args){fn=pub.createDelegate(fn,obj,args);return setTimeout(fn,millis)};pub.initCB=function(){admarvelAutoInteractionDetection(false);var parsedObj=admarvelGetParsedObj();admarvelORMMAComplianceVersion=pub.getORMMAComplianceVersion(parsedObj);if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){pub.supportedFeatures=parsedObj.supportedFeatures}pub.state="loading";pub.size=admarvelGetAdUnitSize();pub.maxSize=admarvelGetMaxAdUnitSize();pub.defaultPosition=admarvelGetAdDefaultPosition();pub.network=admarvelGetNetwork();pub.orientation=pub.getORMMACompatibleOrientations(parsedObj.orientation);pub.screenSize=admarvelGetDeviceScreenSize();pub.placementType=determinePlacementType(parsedObj);if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){pub.location=(typeof parsedObj.location=="string")?eval("("+parsedObj.location+")"):parsedObj.location}if(admarvelORMMAComplianceVersion==ORMMA_INITIAL_VERSION){updateFeatureSet()}pub.intervalId=window.setInterval(pub.triggerOrmmaReady,pub.waitDuration)};pub.clickToApp=function(URL){if(!URL){pub.fireEventListeners("error",["URL is required.","clickToApp"])}else{admarvelOpenExternalURL(URL)}};pub.createEventWithFullDetails=function(date,title,body,location,allDay,endDate,reminderDate){if(!pub.supports("calendar")){pub.fireEventListeners("error",["Method not supported by this client.","createEventWithFullDetails"])}else{if(typeof date=="undefined"||date==null){pub.fireEventListeners("error",["Date parameter not provided.","createEvent"]);return}if(typeof title=="undefined"||title==null){pub.fireEventListeners("error",["Title parameter not provided.","createEvent"]);return}var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();var hours=date.getHours();var minutes=date.getMinutes();var dateString=year+zeroPad(month)+zeroPad(day)+zeroPad(hours)+zeroPad(minutes);var endDateString=null;if(endDate!=null&&typeof endDate!="undefined"){var endYear=endDate.getFullYear();var endMonth=endDate.getMonth()+1;var endDay=endDate.getDate();var endHours=endDate.getHours();var endMinutes=endDate.getMinutes();endDateString=endYear+zeroPad(endMonth)+zeroPad(endDay)+zeroPad(endHours)+zeroPad(endMinutes)}var reminderOffsetInSeconds=1;if(reminderDate!=null&&typeof reminderDate!="undefined"){reminderOffsetInSeconds=Math.round((reminderDate.getTime()-date.getTime())/1000);if(reminderOffsetInSeconds>0){reminderOffsetInSeconds=0}}var allDayString="NO";if((allDay=="YES")||(allDay=="yes")||(allDay=="Y")||(allDay=="y")){allDayString="YES"}admarvelCreateCalendarEventWithFullDetails(dateString,title,body,location,allDayString,endDateString,reminderOffsetInSeconds.toString())}};pub.playVideoContainingAudioContent=function(URL,properties){admarvelNotifyPlayingAudio();pub.playVideo(URL,properties)};pub.openContainingAudioContent=function(URL,controls){admarvelNotifyPlayingAudio();pub.open(URL,controls)};pub.adJitsu=function(URL){if(!URL||typeof URL!="string"){pub.fireEventListeners("error",["Valid URL required.","adJitsu"])}else{admarvelLaunchAdJitsu(URL,"ormma.adJitsuExpandedListenerPrivate")}};pub.adJitsuExpandedListenerPrivate=function(){pub.fireEventListeners("adJitsuExpanded",null)};pub.cameraOverlay=function(imageURL){if(!imageURL||typeof imageURL!="string"){pub.fireEventListeners("error",["Valid imageURL required.","cameraOverlay"])}else{admarvelLaunchCameraOverlay(imageURL)}};return pub}());ormma.init();var ORMMA_CURRENT_VERSION=1;var admarvelSDKInfo=null;var admarvelSDKVersion=null;var admarvelSDKInitCallback=null;var admarvelSDKFeatures={checkNetworkAvailability:{ios:"2.6.8",android:"2.1.3"},detectNetworkChange:{ios:"2.8.3",android:"2.1.3"},expandToFullscreen:{ios:"2.9.1",android:"2.1.3"},expandToCustomSize:{ios:"2.5.7",android:"2.1.3"},disableToolbar:{ios:"2.8.1",android:""},enableToolbar:{ios:"2.8.1",android:""},queryLocation:{ios:"2.8.3",android:"2.3.7"},detectLocationChange:{ios:"2.8.3",android:"2.1.3"},minimize:{ios:"2.4.4",android:"2.1.3"},collapse:{ios:"2.5.7",android:"2.1.3"},checkOrientation:{ios:"2.6.8",android:""},detectSizeChange:{ios:"2.8.3",android:"2.1.4"},detectShake:{ios:"2.6.7",android:"2.1.6"},detectAcceleration:{ios:"2.6.7",android:"2.1.3"},disableRotations:{ios:"2.6.8",android:"2.1.3"},enableRotations:{ios:"2.6.8",android:"2.1.3"},detectHeading:{ios:"2.8.3",android:"2.1.3"},detectVisibilityChange:{ios:"2.8.3",android:"2.1.4"},queryBannerVisibility:{ios:"2.8.3",android:"2.1.4"},setContainerBackgroundColor:{ios:"2.8.1",android:"2.1.3"},InitialLoadingCheck:{ios:"2.8.1",android:"2.1.3"},createCalendarEvent:{ios:"2.8.3",android:"2.1.3"},detectKeyboardVisibility:{ios:"2.8.3",android:""},detectError:{ios:"2.8.3",android:""},sdkCloseButton:{ios:"2.9.0",android:"2.3.0"},checkVisible:{ios:"2.8.3",android:"2.1.4"},disableToolbarUntilEnabled:{ios:"2.8.1",android:""},checkFrameValues:{ios:"2.9.2",android:"2.3.8"},autoInteractionDetection:{ios:"2.9.1",android:"2.3.1"},storePicture:{ios:"2.9.2",android:"2.3.7"},getDeviceIds:{ios:"3.0",android:""},notifyInAppBrowserCloseAction:{ios:"3.0",android:""},launchMapApp:{ios:"2.9.4",android:""},inlineVideo:{ios:"2.8.1",android:""},createReminder:{ios:"3.0.2",android:""},getLocation:{ios:"2.8.3",android:""},notifyInAppBrowserCloseAction:{ios:"3.0.0",android:""},checkForApplicationSupportedOrientations:{ios:"3.0",android:"2.3.7"},displayAlert:{ios:"3.0.2",android:""},admarvelSocial:{ios:"3.0.2",android:""},isServiceTypeAvailable:{ios:"3.0.2",android:""},listenModalViewCloseNotification:{ios:"3.0.2",android:""},fullscreenViewDidAppear:{ios:"3.0.4",android:""},fullscreenViewDidDisappear:{ios:"3.0.4",android:""},fullscreenViewWillAppear:{ios:"3.0.4",android:""},fullscreenViewWillDisappear:{ios:"3.0.4",android:""},applicationWillResignActive:{ios:"3.0.4",android:""},applicationDidEnterBackground:{ios:"3.0.4",android:""},applicationWillEnterForeground:{ios:"3.0.4",android:""},applicationDidBecomeActive:{ios:"3.0.4",android:""},startAudioRecording:{ios:"3.0.4",android:""},pauseAudioRecording:{ios:"3.0.4",android:""},resumeAudioRecording:{ios:"3.0.4",android:""},stopAudioRecording:{ios:"3.0.4",android:""},deleteAudioRecording:{ios:"3.0.4",android:""},startVideoRecording:{ios:"3.0.4",android:""},enableAutoDetection:{ios:"2.9.1",android:""},disableAutoDetection:{ios:"2.9.1",android:""}};function getAdMarvelSDKVersion(){return admarvelSDKVersion}function admarvelIsSupportedBySDK(c){if(!getAdMarvelSDKVersion()){return false}var a=(isIOS())?"ios":"android";var b=admarvelSDKFeatures[c][a];return((b!=undefined)&&getAdMarvelSDKVersion()>=parseInt(getNumericVersion(b)))}function admarvelIsSupportedByDevice(b){if(!admarvelSDKVersion){return}var a=admarvelSDKInfo.supportedFeatures[b];return((a!=undefined)&&a)}function admarvelInit(b){admarvelSDKInitCallback=b;var a="handleInit";if(isIOS()){initAdMarvel(a)}else{if(isAndroid()){window.ADMARVEL.initAdMarvel(a)}}}function admarvelRegisterSizeChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectSizeChange",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectsizechange(a)}}}}function admarvelConfigureSDKCloseButton(b){if(isIOS()){var a="show="+b;if(arguments.length>1){a+="|"+arguments[1]}callAdMarvelFunction("sdkCloseButton?"+a)}else{if(isAndroid()){var c="true";var e="top-right";if(arguments.length>1){var d=arguments[1].split("|");for(i=0;i<d.length;i++){if(d[i].split(":")[0]=="showArea"){c=d[i].split(":")[1]}else{if(d[i].split(":")[0]=="customClosePosition"){e=d[i].split(":")[1]}}}}if(getAdMarvelSDKVersion()>=237&&!isInterstitial()){window.ADMARVEL.sdkclosebutton(b,c,e)}else{window.ADMARVEL.sdkclosebutton(b,c)}}}}function admarvelRegisterLocationEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectLocation",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectlocation(a)}}}}function admarvelRegisterNetworkChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectNetworkChange",a)}else{if(isAndroid()){window.ADMARVEL.registernetworkchangeevent(a)}}}function admarvelRegisterVisibilityChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectVisibility",a)}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.detectvisibility(a)}}}}function admarvelRegisterShakeEvent(d,a,b){if(isIOS()){var c={callbackFn:d,threshold:a,minTimeBetween:b};callAdMarvelFunctionWithParameters("detectShake",c)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>214){window.ADMARVEL.registershakeevent(d,a,b)}else{window.ADMARVEL.registershakeevent(d)}}}}function admarvelRegisterAccelerationEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectAcceleration",a)}else{if(isAndroid()){window.ADMARVEL.registeraccelerationevent(a)}}}function admarvelRegisterHeadingChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectHeading",a)}else{if(isAndroid()){window.ADMARVEL.registerheadingevent(a)}}}function admarvelExpandToFullScreen(c,a){if(isIOS()&&(admarvelSDKVersion==null||(getAdMarvelSDKVersion()>290&&c!=undefined))){var b={minimizeCallbackFn:c,URL:a};callAdMarvelFunctionWithParameters("maximize",b)}else{if(isAndroid()){if(!isInterstitial()){if(getAdMarvelSDKVersion()>236&&c!=undefined&&a!=undefined){window.ADMARVEL.expandtofullscreen(c,a)}else{if(getAdMarvelSDKVersion()>232&&c!=undefined){window.ADMARVEL.expandtofullscreen(c)}else{window.ADMARVEL.expandtofullscreen()}}}}}}function admarvelExpandTo(c,n,j,g,m,f,a){if(isIOS()){var h={x:j,y:g,width:c,height:n,collapseFn:m,URL:f,forceYValue:a};callAdMarvelFunctionWithParameters("expandTo",h)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>231){var d=(f)?f:"";var b=c;var e=n;var l=j;var k=g;if(admarvelSDKInfo!=null){b=Math.round(c)*window.devicePixelRatio;e=Math.round(n)*window.devicePixelRatio;l=Math.round(j)*window.devicePixelRatio;k=Math.round(g)*window.devicePixelRatio}window.ADMARVEL.expandto(Math.round(l),Math.round(k),Math.round(b),Math.round(e),m,d)}else{if(getAdMarvelSDKVersion()>221){var d=(f)?f:"";window.ADMARVEL.expandto(c,n,m,d)}else{window.ADMARVEL.expandto(c,n)}}}}}function admarvelDisableToolbar(a){if(isIOS()){var b={closeButton:a};callAdMarvelFunctionWithParameters("disableToolbar",b)}else{if(isAndroid()){window.ADMARVEL.disableclosebutton("true")}}}function admarvelCollapse(){if(isIOS()){if(admarvelSDKInfo!=null&&admarvelSDKInfo.adType!==undefined&&admarvelSDKInfo.adType=="Interstitial"){admarvelClose()}else{callAdMarvelFunction("collapse")}}else{if(isAndroid()){if(!isInterstitial()){window.ADMARVEL.close()}else{window.ADMARVEL.closeinterstitialad()}}}}function admarvelClose(){if(isIOS()){callAdMarvelFunction("minimize")}else{if(isAndroid()){if(isInterstitial()){window.ADMARVEL.closeinterstitialad()}}}}function admarvelDisableRotation(b){if(b!=undefined){b=b.toLowerCase();if(b==="portrait"){b="Portrait"}else{if(b==="portraitupsidedown"){b="PortraitUpSideDown"}else{if(b==="landscapeleft"){b="LandscapeLeft"}else{if(b==="landscaperight"){b="LandscapeRight"}}}}}if(isIOS()){var a={lockedOrientation:b};callAdMarvelFunctionWithParameters("disableRotations",a)}else{if(isAndroid()){if(isInterstitial()){if((getAdMarvelSDKVersion()>=233)&&(b!=undefined)){window.ADMARVEL.disablerotations(b)}else{window.ADMARVEL.disablerotations()}}else{if(getAdMarvelSDKVersion()>=237){if(b!=undefined){window.ADMARVEL.disableRotationForExpand(b)}else{window.ADMARVEL.disableRotationForExpand()}}}}}}function admarvelEnableRotation(){if(isIOS()){callAdMarvelFunction("enableRotations")}else{if(isAndroid()){if(isInterstitial()||getAdMarvelSDKVersion()>=237){window.ADMARVEL.enablerotations()}}}}function admarvelSetBackgroundColor(f,e,d,a){if(isIOS()){var c={red:e,green:d,blue:a,alpha:f};callAdMarvelFunctionWithParameters("setBackgroundColor",c)}else{if(isAndroid()){var b="#"+fillZero((f*255).toString(16))+fillZero((e*255).toString(16))+fillZero((d*255).toString(16))+fillZero((a*255).toString(16));window.ADMARVEL.setbackgroundcolor(b)}}}function admarvelRegisterKeyboardChangeEvent(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectKeyboard",a)}else{if(isAndroid()){}}}function admarvelCreateCalendarEvent(c,e,a,b){if(isIOS()){var d={date:c,title:e,body:a,callbackFn:b};callAdMarvelFunctionWithParameters("createCalendarEvent",d)}else{if(isAndroid()){window.ADMARVEL.createcalendarevent(c,e,a)}}}function admarvelCreateCalendarEventWithFullDetails(w,x,n,a,p,u,k,q,f,b,s,c,l){if(isIOS()){var d={date:w,title:x,body:n,allDay:p,location:a,endDate:u,timezone:q,url:f,recurrence:b,status:s,freebusy:c,callbackFn:l};if(k!=null&&typeof k!="undefined"){var h=k.split(",");var v="";for(var t=0;t<h.length;t++){var g=h[t];if(g<0){v=v+g+","}}v=v.slice(0,v.length-1);if(v!==null&&typeof v!="undefined"&&v!=""){d.alarmOffset=v}}callAdMarvelFunctionWithParameters("createCalendarEvent",d)}else{if(isAndroid()){var m=parseInt(k);var r=null;var e=null;var o=0;var j=0;if(b!=null&&typeof b!="undefined"){e=parseCalendarRecurrenceString(b)}if(b!=null&&typeof b!="undefined"){if(b.exceptionDates!=undefined&&b.exceptionDates!=null){r=b.exceptionDates}}if(s!=null&&typeof s!="undefined"){if((s=="pending")||(s=="tentative")){j=0}else{if(s=="confirmed"){j=1}else{if(s=="cancelled"){j=2}}}}if(c!=null&&typeof s!="undefined"){if(c=="opaque"){o=0}else{if(c=="transparent"){o=1}}}if(getAdMarvelSDKVersion()>=237){window.ADMARVEL.createcalendarevent(w,x,n,a,p,u,m,q,f,e,r,j,o,l)}else{if(getAdMarvelSDKVersion()>231){window.ADMARVEL.createcalendarevent(w,x,n,a,p,u,k)}else{window.ADMARVEL.createcalendarevent(w,x,n)}}}}}function parseCalendarRecurrenceString(a){if(a==undefined||a==null){return null}var e="";if(a.frequency!=undefined&&a.frequency!=null){var c=a.frequency.toString().toString().toUpperCase();e=e+"FREQ="+c+";"}if(a.interval!=undefined&&a.interval!=null){e=e+"INTERVAL="+a.interval.toString()+";"}if(a.expires!=undefined&&a.expires!=null){var d=dateObjectFromTimeString(a.expires);e=e+"UNTIL="+dateStringFromDateInUTC(d)+";"}if(a.daysInWeek!=undefined&&a.daysInWeek!=null){var b=parseDaysInWeekString(a.daysInWeek);e=e+"BYDAY="+b+";"}if(a.daysInMonth!=undefined&&a.daysInMonth!=null){e=e+"BYMONTHDAY="+a.daysInMonth+";"}if(a.daysInYear!=undefined&&a.daysInYear!=null){e=e+"BYYEARDAY="+a.daysInYear+";"}if(a.weeksInMonth!=undefined&&a.weeksInMonth!=null){e=e+"BYWEEKNO="+a.weeksInMonth+";"}if(a.monthsInYear!=undefined&&a.monthsInYear!=null){e=e+"BYMONTH="+a.monthsInYear+";"}return e}function parseDaysInWeekString(a){var c="";var d=a.toString().split(",");for(var b=0;b<d.length;b++){if(d[b]=="0"){c=c+"SU,"}else{if(d[b]=="1"){c=c+"MO,"}else{if(d[b]=="2"){c=c+"TU,"}else{if(d[b]=="3"){c=c+"WE,"}else{if(d[b]=="4"){c=c+"TH,"}else{if(d[b]=="5"){c=c+"FR,"}else{if(d[b]=="6"){c=c+"SA,"}}}}}}}}if(c.length>0){return c.slice(0,c.length-1)}}function admarvelIsInitialLoad(){if(isIOS()){return adMarvelIsInitialLoad}else{if(isAndroid()){return window.ADMARVEL.isinitialload()}}}function admarvelAutoInteractionDetection(a){if(admarvelIsSupportedBySDK("autoInteractionDetection")){if(isIOS()){if(a){callAdMarvelFunction("enableAutoDetection")}else{callAdMarvelFunction("disableAutoDetection")}}else{if(isAndroid()){if(a){window.ADMARVEL.enableautodetect()}else{window.ADMARVEL.disableautodetect()}}}}}function admarvelCheckFrameValues(a){if(admarvelIsSupportedBySDK("checkFrameValues")){if(isIOS()){callAdMarvelFunctionWithCallback("checkFrameValues",a)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>=238&&!isInterstitial()){window.ADMARVEL.checkFrameValues(a)}else{admarvelInit(a)}}}}else{admarvelInit(a)}}function admarvelURLRedirect(a){if((a!=null)&&(a.indexOf("webcal://")==0)){admarvelOpenExternalURL(a)}else{if(isIOS()){if(getAdMarvelSDKVersion()<=290){document.location=a}else{callURLInIFRAME(a)}}else{if(isAndroid()){if(!isInterstitial()||(getAdMarvelSDKVersion()>230)){window.ADMARVEL.redirect(a)}else{document.location=a}}}}}function admarvelURLRedirectWithAutoInteractionDetection(a){admarvelAutoInteractionDetection(true);admarvelURLRedirect(a);admarvelAutoInteractionDetection(false)}function admarvelSetOrientationListener(a){if(isIOS()){window.onorientationchange=a}else{if(isAndroid()){var b="onorientationchange" in window;var c=(b)?"orientationchange":"resize";window.addEventListener(c,a)}}}function admarvelCheckOrientation(){if(isIOS()){callAdMarvelFunction("checkOrientation")}else{if(isAndroid()){}}}function admarvelDetectDisplay(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectDisplay",a)}else{if(isAndroid()){}}}function admarvelDetectHidden(a){if(isIOS()){callAdMarvelFunctionWithCallback("detectHidden",a)}else{if(isAndroid()){}}}function admarvelUpdateState(a){if(isIOS()){}else{if(isAndroid()){if(!isInterstitial()){window.ADMARVEL.updatestate(a)}}}}function admarvelNotifyPlayingAudio(){callURLInIFRAME("admarvelsdk://playingAudio")}function admarvelLaunchAdJitsu(a,b){if(isIOS()){var c={url:a,expandCallbackFn:b};callAdMarvelFunctionWithParameters("displayAdJitsu",c)}else{if(isAndroid()){}}}function admarvelLaunchCameraOverlay(a){if(isIOS()){var b={imageURL:a};callAdMarvelFunctionWithParameters("displayCameraOverlay",b)}else{if(isAndroid()){}}}function admarvelOpenExternalURL(a){if(isIOS()&&getAdMarvelSDKVersion()>283){admarvelURLRedirectWithAutoInteractionDetection("admarvelexternal"+a)}else{if(isIOS()&&getAdMarvelSDKVersion()<=283){admarvelURLRedirectWithAutoInteractionDetection("admarvelsafari"+a)}else{if(isAndroid()&&getAdMarvelSDKVersion()>214){admarvelURLRedirect("admarvelexternal"+a)}}}}function admarvelStopEventListener(a){var c=a.replace("Change","");if(isIOS()){var b={forEvent:c};callAdMarvelFunctionWithParameters("stopEventListener",b)}else{if(isAndroid()){}}}function admarvelOpenMapApplication(b,a){if(isIOS()){if((b!=null)){if((b.indexOf("?")>=0)){parameterString=b.substring(b.indexOf("?")+1)}else{if((b.indexOf("maps:")>=0)){parameterString=b.substring(b.indexOf("maps:")+5)}else{if(b.indexOf("maps.google.com")>=0){parameterString=b.substring(b.indexOf("maps.google.com")+15);parameterString=parameterString.substring(parameterString.lastIndexOf("/")+1)}else{parameterString=b}}}b="maps:"+parameterString;if(getAdMarvelSDKVersion()<=294){b="admarvelexternal"+b}}}admarvelURLRedirectWithAutoInteractionDetection(b)}function admarvelPlayAudio(a,b){if(isIOS()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}else{if(isAndroid()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}}}function admarvelPlayVideo(a,b){if(isIOS()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}else{if(isAndroid()){admarvelURLRedirectWithAutoInteractionDetection(a.replace("http://","admarvelvideo://"))}}}function admarvelMakeCall(b){var a="tel:"+b;admarvelURLRedirectWithAutoInteractionDetection(a)}function admarvelSendSMS(c,a){var b="sms:"+c;if(isIOS()){if(getAdMarvelSDKVersion()>283){b+="?body="+encodeURIComponent(a)}admarvelURLRedirectWithAutoInteractionDetection(b)}else{if(isAndroid()){if(getAdMarvelSDKVersion()>214){b+="?body="+encodeURIComponent(a)}admarvelURLRedirectWithAutoInteractionDetection(b)}}}function admarvelSendEmail(c,b,a){var d="mailto:"+c+"?subject="+encodeURIComponent(b)+"&body="+encodeURIComponent(a);admarvelURLRedirectWithAutoInteractionDetection(d)}function admarvelSetLayerTypeSoftware(){if(isIOS()){}else{if(isAndroid()){if(getAdMarvelSDKVersion()>233){window.ADMARVEL.setsoftwarelayer()}}}}function isIPhoneOrIPod(){if(detectDevice("iphone os")||detectDevice("iphoneos")){return true}else{return false}}function isIOS(){return(isIPhoneOrIPod()||detectDevice("ipad"))}function isAndroid(){return detectDevice("android")}function detectDevice(b){var c=navigator.userAgent.toLowerCase();var a=c.indexOf(b);return(a>-1)}function fillZero(a){if(a.length==1){return"0"+a}else{return a}}function isInterstitial(){if(typeof window.ADMARVEL.closeinterstitialad=="function"){return true}return false}function callAdMarvelFunctionWithParameters(c,b){if(b!=null&&b!=undefined){var a=new Array();for(var d in b){if(b.hasOwnProperty(d)&&b[d]!=null&&b[d]!=undefined){a[a.length]=encodeURIComponent(d)+"="+encodeURIComponent(b[d])}}if(a.length!=0){c=c+"?"+a.join("&")}}callAdMarvelFunction(c)}function initAdMarvel(a){callAdMarvelFunctionWithCallback("init",a)}function callAdMarvelFunctionWithCallback(c,a){var b={callbackFn:a};callAdMarvelFunctionWithParameters(c,b)}function callAdMarvelFunction(a){callURLInIFRAME("admarveljavascript:"+a)}function callURLInIFRAME(b){var a=document.createElement("IFRAME");a.setAttribute("src",b);a.width=0;a.height=0;if(document.body!=null){document.body.appendChild(a)}else{if(document.firstChild!=null){document.firstChild.appendChild(a)}}a.parentNode.removeChild(a);a=null}function handleInit(parameters){if(isIOS()){admarvelSDKInfo=eval("("+parameters+")");var featureSupported=admarvelSDKInfo.supportedFeatures.storePicture;if((featureSupported!=undefined)&&!featureSupported){var featureInfo=admarvelSDKFeatures.storePicture["ios"];if(featureInfo!=undefined){delete admarvelSDKFeatures.storePicture["ios"]}}}else{if(isAndroid()){admarvelSDKInfo=eval(parameters)}}adMarvelUpdateSDKVersion();adMarvelUpdateDimensions();if(admarvelSDKInitCallback!=null&&("function"==typeof eval(admarvelSDKInitCallback))){eval(admarvelSDKInitCallback)()}}function getNumericVersion(a){var e=0;var d=a.split(".");var c=100;for(var b=0,g=d.length;b<g;b++){var f=parseInt(d[b]);if(c<1){break}if(f>0){e+=f*c}c/=10}return e}function adMarvelUpdateSDKVersion(){if(admarvelSDKInfo!=null&&admarvelSDKInfo.sdkVersion!==undefined){admarvelSDKVersion=parseInt(getNumericVersion(admarvelSDKInfo.sdkVersion))}else{if(isIOS()&&admarvelSDKInfo.sdkVersion===undefined){admarvelSDKVersion=(undefined===admarvelSDKInfo.supportedFeatures)?282:283}if(isAndroid()&&admarvelSDKInfo.sdkVersion===undefined){admarvelSDKVersion=213}}}function adMarvelUpdateDimensions(){if(admarvelSDKInfo!=null&&isAndroid()){if(getAdMarvelSDKVersion()>231){var a=window.devicePixelRatio;admarvelSDKInfo.x=Math.round(admarvelSDKInfo.x/a);admarvelSDKInfo.y=Math.round(admarvelSDKInfo.y/a);admarvelSDKInfo.width=Math.round(admarvelSDKInfo.width/a);admarvelSDKInfo.height=Math.round(admarvelSDKInfo.height/a);admarvelSDKInfo.appX=Math.round(admarvelSDKInfo.appX/a);admarvelSDKInfo.appY=Math.round(admarvelSDKInfo.appY/a);admarvelSDKInfo.appWidth=Math.round(admarvelSDKInfo.appWidth/a);admarvelSDKInfo.appHeight=Math.round(admarvelSDKInfo.appHeight/a);admarvelSDKInfo.screenWidth=Math.round(admarvelSDKInfo.screenWidth/a);admarvelSDKInfo.screenHeight=Math.round(admarvelSDKInfo.screenHeight/a)}}}function admarvelReturnIndexOfObjectInArray(a,c){if(a!=null&&a!=undefined){for(var b=0;b<a.length;b++){if(a[b]==c){return b}}}return -1}function admarvelRemoveObject(b,c){var a=admarvelReturnIndexOfObjectInArray(b,c);if(a!=-1){b.splice(a,1)}}function admarvelGetParsedObj(){return admarvelSDKInfo}function getAndroidScreenSize(a){return{width:320,height:480}}function admarvelGetAdUnitSize(){var a={width:320,height:50};if(admarvelSDKInfo!=null){a={width:admarvelSDKInfo.width,height:admarvelSDKInfo.height}}return a}function admarvelGetMaxAdUnitSize(){var a={width:320,height:460};if(admarvelSDKInfo!=null){if(isIOS()&&getAdMarvelSDKVersion()>=291&&typeof mraid==="object"){if(getAdMarvelSDKVersion()>=302){a={width:admarvelSDKInfo.expandWidth,height:admarvelSDKInfo.expandHeight};return a}a={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight};if(window.orientation==90||window.orientation==-90){a={width:a.height,height:a.width}}return a}if(isAndroid()&&getAdMarvelSDKVersion()>=233&&typeof mraid==="object"){a={width:admarvelSDKInfo.appWidth,height:admarvelSDKInfo.appHeight};return a}if(isIOS()&&getAdMarvelSDKVersion()>=292){a.width=admarvelSDKInfo.expandWidth;a.height=admarvelSDKInfo.expandHeight}else{if(window.orientation==0||window.orientation==180){a.width=admarvelSDKInfo.appWidth;a.height=admarvelSDKInfo.appHeight;if(admarvelSDKInfo.appX>0){a.width=admarvelSDKInfo.appWidth+admarvelSDKInfo.appX;a.height=admarvelSDKInfo.appHeight-admarvelSDKInfo.appX}}else{if(window.orientation==90||window.orientation==-90){a.width=admarvelSDKInfo.appHeight;a.height=admarvelSDKInfo.appWidth;if(admarvelSDKInfo.appY>0){a.width=admarvelSDKInfo.appHeight+admarvelSDKInfo.appY;a.height=admarvelSDKInfo.appWidth-admarvelSDKInfo.appY}}}}}return a}function admarvelGetAdDefaultPosition(){var a={x:0,y:0,width:320,height:50};if(admarvelSDKInfo!=null){if(isIOS()&&getAdMarvelSDKVersion()>=302){var a={x:(admarvelSDKInfo.defaultX==undefined)?admarvelSDKInfo.x:admarvelSDKInfo.defaultX,y:(admarvelSDKInfo.defaultY==undefined)?admarvelSDKInfo.y:admarvelSDKInfo.defaultY,width:(admarvelSDKInfo.defaultWidth==undefined)?admarvelSDKInfo.width:admarvelSDKInfo.defaultWidth,height:(admarvelSDKInfo.defaultHeight==undefined)?admarvelSDKInfo.height:admarvelSDKInfo.defaultHeight};return a}a={x:admarvelSDKInfo.x,y:admarvelSDKInfo.y,width:admarvelSDKInfo.width,height:admarvelSDKInfo.height}}return a}function admarvelGetNetwork(){var a="unknown";if(admarvelSDKInfo!=null){a=(admarvelSDKInfo.network=="YES")?"cell":"offline";if(admarvelSDKInfo.networkType){a=admarvelSDKInfo.networkType}}return a}function admarvelGetOrientation(){var a=null;if(admarvelSDKInfo!=null){a=admarvelSDKInfo.orientation}return a}function admarvelGetDeviceScreenSize(){var b=null;if(undefined!==admarvelSDKInfo.supportedFeatures){if(admarvelSDKInfo.screenWidth>0&&admarvelSDKInfo.screenHeight>0){var a=admarvelSDKInfo.orientation;if(isAndroid()){b={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight}}else{if(a==0||a==180){b={width:admarvelSDKInfo.screenWidth,height:admarvelSDKInfo.screenHeight}}else{b={width:admarvelSDKInfo.screenHeight,height:admarvelSDKInfo.screenWidth}}}}}else{if(isIOS()){var a=admarvelSDKInfo.orientation;if(isIPhoneOrIPod()){if(a==0||a==180){b={width:320,height:480}}else{b={width:480,height:320}}}else{if(a==0||a==180){b={width:768,height:1024}}else{b={width:1024,height:768}}}}else{b={width:320,height:480}}}return b}function admarvelStorePicture(b,a){if(b==undefined||!admarvelIsSupportedBySDK("storePicture")){return}if(isIOS()){var c={callbackFn:a,askforpermission:"true"};if(isFilePath(b)){c.imagePath=b}else{c.imageURL=b}callAdMarvelFunctionWithParameters("storePicture",c)}else{if(isAndroid()){window.ADMARVEL.storepicture(b,a)}}}function admarvelCheckForApplicationSupportedOrientations(a){if(!admarvelIsSupportedBySDK("checkForApplicationSupportedOrientations")){return}if(isIOS()){callAdMarvelFunctionWithCallback("checkForApplicationSupportedOrientations",a)}else{if(isAndroid()){window.ADMARVEL.checkForApplicationSupportedOrientations(a)}}}function admarvelGetLocation(a){if(!admarvelIsSupportedBySDK("getLocation")){return}if(isIOS()){callAdMarvelFunctionWithCallback("getLocation",a)}else{if(isAndroid()){window.ADMARVEL.getLocation(a)}}}function admarvelCreateReminder(a){if(!admarvelIsSupportedBySDK("createReminder")){return}if(isIOS()){var c="createReminder?";var b={title:a.title,startdate:a.startdate,duedate:a.duedate,timezone:a.timezone,notes:a.notes,recurrence:returnIOSSDKCompatibleRecurrenceString(a.recurrence),alarm:serializeAlarmObject(a.alarm),callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("createReminder",b)}else{if(isAndroid()){}}}function admarvelNotifyInAppBrowserCloseAction(a){if(!admarvelIsSupportedBySDK("notifyInAppBrowserCloseAction")){return}if(isIOS()){callAdMarvelFunctionWithCallback("notifyInAppBrowserCloseAction",a)}else{if(isAndroid()){window.ADMARVEL.notifyInAppBrowserCloseAction(a)}}}function admarvelListenModalViewCloseNotification(a){if(!admarvelIsSupportedBySDK("listenModalViewCloseNotification")){return}if(isIOS()){callAdMarvelFunctionWithCallback("listenModalViewCloseNotification",a)}else{if(isAndroid()){}}}function admarvelSocial(a){if(!admarvelIsSupportedBySDK("admarvelSocial")){return}if(isIOS()){var b={serviceType:a.serviceType,action:a.action,status:a.status,photoPath:a.photoPath,photoURL:a.photoURL,URL:a.URL,screen_name:a.screen_name,follow:a.follow,owner_screen_name:a.owner_screen_name,owner_id:a.owner_id,list_id:a.list_id,slug:a.slug,id:a.id,include_entities:a.include_entities,favorite:a.favorite,trim_user:a.trim_user,callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("admarvelSocial",b)}else{if(isAndroid()){}}}function admarvelIsServiceTypeAvailable(c,a){if(!admarvelIsSupportedBySDK("isServiceTypeAvailable")){return}if(isIOS()){var b={serviceType:c,callbackFn:a};callAdMarvelFunctionWithParameters("isServiceTypeAvailable",b)}else{if(isAndroid()){}}}function admarvelDisplayAlert(a){if(!admarvelIsSupportedBySDK("displayAlert")){return}if(isIOS()){var c="displayAlert?";var b={title:a.title,message:a.message,okButtonTitle:a.okButtonTitle,cancelButtonTitle:a.cancelButtonTitle,callbackFn:a.callbackFn};callAdMarvelFunctionWithParameters("displayAlert",b)}else{if(isAndroid()){}}}function getSupportedInterfaceOrientation(){var a=admarvelGetParsedObj();return a.applicationSupportedOrientations.split(",")}function admarvelRegisterForFullscreenViewDidAppearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewDidAppear",a)}}function admarvelRegisterForFullscreenViewDidDisappearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewDidDisappear",a)}}function admarvelRegisterForFullscreenViewWillAppearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewWillAppear",a)}}function admarvelRegisterForFullscreenViewWillDisappearNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("fullscreenViewWillDisappear",a)}}function admarvelRegisterForApplicationWillResignActiveNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationWillResignActive",a)}}function admarvelRegisterForApplicationDidEnterBackgroundNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationDidEnterBackground",a)}}function admarvelRegisterForApplicationWillEnterForegroundNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationWillEnterForeground",a)}}function admarvelRegisterForApplicationDidBecomeActiveNotification(a){if(isIOS()){callAdMarvelFunctionWithCallback("applicationDidBecomeActive",a)}}function admarvelStartAudioRecording(a){if(isIOS()){var b="startAudioRecording";callAdMarvelFunctionWithParameters(b,a)}}function admarvelPauseAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("pauseAudioRecording",a)}}function admarvelResumeAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("resumeAudioRecording",a)}}function admarvelStopAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("stopAudioRecording",a)}}function admarvelDeleteAudioRecording(a){if(isIOS()){callAdMarvelFunctionWithCallback("deleteAudioRecording",a)}}function admarvelStartVideoRecording(b){if(isIOS()){var a="startVideoRecording";callAdMarvelFunctionWithParameters(a,b)}}function isFilePath(a){return a.indexOf("/")===0}function dateStringFromDate(c){if(c==null||c==undefined){return null}var e=c.getFullYear();var g=c.getMonth()+1;var b=c.getDate();var a=c.getHours();var d=c.getMinutes();var f=e+zeroPad(g)+zeroPad(b)+zeroPad(a)+zeroPad(d);return f}function dateStringFromDateInUTC(c){if(c==null||c==undefined){return null}var e=c.getFullYear();var g=c.getMonth()+1;var b=c.getDate();var a=c.getHours();var d=c.getMinutes();var h=c.getSeconds();var f=e+zeroPad(g)+zeroPad(b)+"T"+zeroPad(a)+zeroPad(d)+zeroPad(h);return f}function zeroPad(a){var b="";if(a<10){b+="0"}b+=a;return b}function checkIfIosVersionIsFiveOrNewer(){if(/(iPhone|iPod|iPad)/i.test(navigator.userAgent)){if(/OS [2-4]_\d(_\d)? like Mac OS X/i.test(navigator.userAgent)){return false}else{if(/CPU like Mac OS X/i.test(navigator.userAgent)){return false}else{return true}}}}function checkIfAndroidOSVersionIsFourOrNewer(){if(/(android)/i.test(navigator.userAgent)){if(/Android [0-3]/i.test(navigator.userAgent)){return false}else{return true}}return false}function parseTime(a){if(a==null||a==undefined||a.length==0){return null}a=a.toLowerCase();var b=null;if(a.lastIndexOf("z")===a.length-1){b="+00:00";a=a.substr(0,a.length-1);a=a.replace(/[a-z]/g,"");a=a.replace(/:/g,"");a=a.replace(/-/g,"")}else{if(a.lastIndexOf("+")===a.length-6||a.lastIndexOf("-")===a.length-6){b=a.substr(a.length-6,a.length);a=a.substr(0,a.length-6);a=a.replace(/[a-z]/g,"");a=a.replace(/:/g,"");a=a.replace(/-/g,"")}else{return null}}return{time:a,timezone:b}}function getMilisecondsFromHours(b){if(b==null||b==undefined||b.length==0){return null}var e=b.split(":");var d=Math.abs(parseInt(e[0]));var f=parseInt(e[1]);var a=e[0].slice(0,1);var c=null;if(a=="-"){c=((d*60*60)+(f*60))*-1000}else{c=((d*60*60)+(f*60))*1000}return c}function returnDateComponentsFromTimeString(a){if(a==null||a==undefined||a.length==0){return null}var b=a.split("t");var h=b[0].split("-");var c=b[1].split(":");var f=h[0];var e=(parseInt(h[1])-1).toString();var g=h[2];var j=c[0];var d=c[1];var k=c[2];return{year:f,month:e,day:g,hours:j,minutes:d,seconds:k}}function dateObjectFromTimeString(b){if(b==undefined||b.length==0||b==null){return -1}if((isIOS()&&!checkIfIosVersionIsFiveOrNewer())||(isAndroid()&&!checkIfAndroidOSVersionIsFourOrNewer())){b=b.toLowerCase();var d=null;if(b.lastIndexOf("z")===b.length-1){d="+00:00";b=b.substr(0,b.length-1)}else{if(b.lastIndexOf("+")===b.length-6||b.lastIndexOf("-")===b.length-6){d=b.substr(b.length-6,b.length);b=b.substr(0,b.length-6)}else{return -1}}var a=returnDateComponentsFromTimeString(b);var c=new Date(a.year,a.month,a.day,a.hours,a.minutes,a.seconds);var e=c.getTime()-getMilisecondsFromHours(d)+Math.abs(c.getTimezoneOffset()*60*1000);return new Date(e)}else{return new Date(b)}}function returnIOSSDKCompatibleRecurrenceString(a){if(a==null||a==undefined){return null}var b="";if(a.frequency!=undefined&&a.frequency!=null){b=b+"frequency:"+a.frequency+";"}if(a.interval!=undefined&&a.interval!=null){b=b+"interval:"+a.interval.toString()+";"}if(a.expires!=undefined&&a.expires!=null){b=b+"expires:"+a.expires+";"}if(a.daysInWeek!=undefined&&a.daysInWeek!=null){b=b+"daysInWeek:"+a.daysInWeek.join()+";"}if(a.daysInMonth!=undefined&&a.daysInMonth!=null){b=b+"daysInMonth:"+a.daysInMonth.join()+";"}if(a.daysInYear!=undefined&&a.daysInYear!=null){b=b+"daysInYear:"+a.daysInYear.join()+";"}if(a.weeksInMonth!=undefined&&a.weeksInMonth!=null){b=b+"weeksInMonth:"+a.weeksInMonth.join()+";"}if(a.monthsInYear!=undefined&&a.monthsInYear!=null){b=b+"monthsInYear:"+a.monthsInYear.join()+";"}return b}function serializeAlarmObject(a){if(a==null||a==undefined){return null}var b="";if(a.date!=undefined&&a.date!=null){b=b+"date:"+a.date+";"}if(a.location_title!=undefined&&a.location_title!=null){b=b+"location_title:"+a.location_title+";"}if(a.location_latitude!=undefined&&a.location_latitude!=null){b=b+"location_latitude:"+a.location_latitude+";"}if(a.location_longitude!=undefined&&a.location_longitude!=null){b=b+"location_longitude:"+a.location_longitude+";"}if(a.proximity!=undefined&&a.proximity!=null){b=b+"proximity:"+a.proximity+";"}return b}var ORMMA_INITIAL_VERSION=1;var ORMMA_FIRST_UPDATE=1.1;var ORMMA_SECOND_UPDATE=1.2;var ORMMA_THIRD_UPDATE=1.3;var callExpandAfterCheckFrameValues=null;var admarvelORMMAComplianceVersion=ORMMA_INITIAL_VERSION;var ormma=(function(){var pub={};function setDefaultListeners(){admarvelSetOrientationListener(pub.orientationListenerPrivate);if(admarvelORMMAComplianceVersion==ORMMA_INITIAL_VERSION||(admarvelORMMAComplianceVersion==ORMMA_FIRST_UPDATE&&pub.placementType=="interstitial")){admarvelDetectDisplay("ormma.displayListenerPrivate");admarvelDetectHidden("ormma.hiddenListenerPrivate");return}if(admarvelORMMAComplianceVersion>=ORMMA_FIRST_UPDATE){admarvelRegisterVisibilityChangeEvent("ormma.visibilityListenerPrivate");admarvelRegisterSizeChangeEvent("ormma.sizeChangeListenerPrivate");return}}function bindEvent(eventName,listenerFn){if(eventName=="tiltChange"){admarvelRegisterAccelerationEvent("ormma.accelerationListenerPrivate")}else{if(eventName=="shake"){admarvelRegisterShakeEvent("ormma.shakeListenerPrivate",pub.shakeProperties.intensity,pub.shakeProperties.interval)}else{if(eventName=="networkChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterNetworkChangeEvent("ormma.networkListenerPrivate")}else{pub.fireEventListeners("error",["Event networkChange not supported",null]);return}}else{if(eventName=="headingChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterHeadingChangeEvent("ormma.headingListenerPrivate")}else{pub.fireEventListeners("error",["Event headingChange not supported",null]);return}}else{if(eventName=="keyboardChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterKeyboardChangeEvent("ormma.keyboardListenerPrivate")}else{pub.fireEventListeners("error",["Event keyboardChange not supported",null]);return}}else{if(eventName=="locationChange"){if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){admarvelRegisterLocationEvent("ormma.locationListenerPrivate")}else{pub.fireEventListeners("error",["Event locationChange not supported",null]);return}}}}}}}var handlers=pub.listeners[eventName+"EventListener"];if(handlers==null){pub.listeners[eventName+"EventListener"]=[];handlers=pub.listeners[eventName+"EventListener"]}if(admarvelReturnIndexOfObjectInArray(handlers,listenerFn)==-1){handlers.push(listenerFn)}}function unbindEvent(eventName,listenerFn){var handlers=pub.listeners[eventName+"EventListener"];if(!listenerFn){handlers.splice(0,pub.listeners[eventName+"EventListener"].length)}else{handlers=pub.listeners[eventName+"EventListener"];admarvelRemoveObject(handlers,listenerFn)}}function updateFeatureSet(){if(detectDevice("ipod")||detectDevice("ipad")){pub.supportedFeatures.sms=false;pub.supportedFeatures.phone=false}}function determinePlacementType(obj){var placementType=null;if(admarvelORMMAComplianceVersion>=ORMMA_THIRD_UPDATE){placementType=(obj.adType=="Interstitial")?"interstitial":"inline"}else{if(isIOS()&&(typeof obj.screenWidth)!="undefined"&&(typeof obj.screenHeight)!="undefined"){placementType=((typeof adMarvelIsInitialLoad)=="undefined"&&pub.size.width==pub.screenSize.width&&pub.size.height==pub.screenSize.height)?"interstitial":"inline"}else{if(isAndroid()){placementType=(!isInterstitial())?"inline":"interstitial"}else{placementType=(isIOS()&&(typeof adMarvelIsInitialLoad)!="undefined")?"inline":"interstitial"}}}return placementType}pub.fireEventListeners=function(eventName,args){var handlers=pub.listeners[eventName+"EventListener"];if(handlers!=null){for(var i=0;i<handlers.length;i++){handlers[i].apply(null,args)}}};pub.keyboardListenerPrivate=function(open){pub.keyboard=open;pub.fireEventListeners("keyboardChange",[open])};pub.headingListenerPrivate=function(headingValue){pub.heading=headingValue;pub.fireEventListeners("headingChange",[headingValue])};pub.accelerationListenerPrivate=function(rawX,rawY,rawZ,filteredX,filteredY,filteredZ,deltaX,deltaY,deltaZ){pub.tilt={x:filteredX,y:filteredY,z:filteredZ};pub.fireEventListeners("tiltChange",[filteredX,filteredY,filteredZ])};pub.shakeListenerPrivate=function(){pub.fireEventListeners("shake",null)};pub.networkListenerPrivate=function(isAvailable,connectionType){pub.network=connectionType;pub.fireEventListeners("networkChange",[isAvailable,connectionType])};pub.orientationListenerPrivate=function(){var newOrientation=pub.getORMMACompatibleOrientations(window.orientation);if(pub.orientation!=newOrientation){if(Math.abs(pub.orientation-newOrientation)!=180){if(isIOS()&&getAdMarvelSDKVersion()>=292){admarvelCheckFrameValues("ormma.updateFrames")}else{var temp=pub.screenSize.width;pub.screenSize.width=pub.screenSize.height;pub.screenSize.height=temp;temp=pub.maxSize.width;pub.maxSize.width=pub.maxSize.height;pub.maxSize.height=temp}}}pub.orientation=pub.getORMMACompatibleOrientations(window.orientation);pub.fireEventListeners("orientationChange",[pub.orientation]);pub.fireEventListeners("screenChange",[pub.screenSize.width,pub.screenSize.height])};pub.sizeChangeListenerPrivate=function(newWidth,newHeight){pub.size={width:newWidth,height:newHeight};pub.fireEventListeners("sizeChange",[newWidth,newHeight])};pub.locationListenerPrivate=function(latitude,longitude,accuracy){pub.location={lat:latitude,lon:longitude,acc:accuracy};pub.fireEventListeners("locationChange",[latitude,longitude,accuracy])};pub.updateFrames=function(params){if(params!=undefined){var parsedObj=admarvelGetParsedObj();if(isAndroid()&&getAdMarvelSDKVersion()>=238){var density=window.devicePixelRatio;parsedObj.x=Math.round(params.x/density);parsedObj.y=Math.round(params.y/density);parsedObj.width=Math.round(params.width/density);parsedObj.height=Math.round(params.height/density);parsedObj.expandX=Math.round(params.expandX/density);parsedObj.expandY=Math.round(params.expandY/density);parsedObj.expandWidth=Math.round(params.expandWidth/density);parsedObj.expandHeight=Math.round(params.expandHeight/density);parsedObj.appX=Math.round(params.appX/density);parsedObj.appY=Math.round(params.appY/density);parsedObj.appWidth=Math.round(params.appWidth/density);parsedObj.appHeight=Math.round(params.appHeight/density)}else{parsedObj.x=params.x;parsedObj.y=params.y;parsedObj.width=params.width;parsedObj.height=params.height;parsedObj.expandX=params.expandX;parsedObj.expandY=params.expandY;parsedObj.expandWidth=params.expandWidth;parsedObj.expandHeight=params.expandHeight;parsedObj.appX=params.appX;parsedObj.appY=params.appY;parsedObj.appWidth=params.appWidth;parsedObj.appHeight=params.appHeight;parsedObj.defaultX=params.defaultX;parsedObj.defaultY=params.defaultY;parsedObj.viewInWindow=params.viewInWindow}}pub.defaultPosition=admarvelGetAdDefaultPosition();pub.size=admarvelGetAdUnitSize();pub.maxSize=admarvelGetMaxAdUnitSize();if(callExpandAfterCheckFrameValues!=null){eval(callExpandAfterCheckFrameValues)}};pub.visibilityListenerPrivate=function(visible){if(visible){admarvelCheckFrameValues("ormma.updateFrames")}pub.viewable=visible;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.displayListenerPrivate=function(){pub.viewable=true;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.hiddenListenerPrivate=function(){pub.viewable=false;pub.fireEventListeners("viewableChange",[pub.viewable])};pub.useCustomClose=function(usingOwnCloseGraphic){if(usingOwnCloseGraphic!==pub.expandProperties.useCustomClose){pub.expandProperties.useCustomClose=usingOwnCloseGraphic;admarvelConfigureSDKCloseButton(!usingOwnCloseGraphic,"showArea:true")}};pub.init=function(){admarvelInit("ormma.initCB")};pub.intervalId=null;pub.waitDuration=100;pub.totalWaitTime=0;pub.timeOutThreshold=10000;pub.expandProperties={};if(ORMMA_CURRENT_VERSION==1){var expandProps={useBackground:false,backgroundColor:"#ffffff",backgroundOpacity:"1.0",lockOrientation:false};pub.expandProperties=expandProps}else{if(ORMMA_CURRENT_VERSION==1.1){var expandProps={isModal:true,useBackground:false,backgroundColor:"#ffffff",backgroundOpacity:"1.0",lockOrientation:false};pub.expandProperties=expandProps}}pub.viewable=false;pub.size={};pub.maxSize={};pub.state=null;pub.lastState=null;pub.defaultPosition={};pub.orientation=null;pub.location=null;pub.network=null;pub.heading=null;pub.screenSize=null;pub.tilt=null;pub.keyboard=false;pub.placementType=null;pub.shakeProperties={intensity:2,interval:1};pub.listeners={readyEventListener:null,networkChangeEventListener:null,keyboardChangeEventListener:null,orientationChangeEventListener:null,headingChangeEventListener:null,screenChangeEventListener:null,shakeEventListener:null,sizeChangeEventListener:null,stateChangeEventListener:null,tiltChangeEventListener:null,viewableChangeEventListener:null,errorEventListener:null,locationChangeEventListener:null,adJitsuExpandedEventListener:null};var dimensionValidators={x:function(value){return !isNaN(value)},y:function(value){return !isNaN(value)},width:function(value){return !isNaN(value)&&value>=0},height:function(value){return !isNaN(value)&&value>=0}};var sizeValidators={width:function(value){return !isNaN(value)&&value>=0&&value<=pub.maxSize.width},height:function(value){return !isNaN(value)&&value>=0&&value<=pub.maxSize.height}};var expandPropertyValidators={width:function(value){return !isNaN(value)&&value>=0},height:function(value){return !isNaN(value)&&value>=0},isModal:function(value){return(value===true||value===false)},useCustomClose:function(value){return(value===true||value===false)},useBackground:function(value){return(value===true||value===false)},backgroundColor:function(value){return(typeof value=="string"&&value.substr(0,1)=="#"&&!isNaN(parseInt(value.substr(1),16)))},backgroundOpacity:function(value){return !isNaN(value)&&value>=0&&value<=1},lockOrientation:function(value){return(value===true||value===false)}};var shakePropertyValidators={intensity:function(value){return !isNaN(value)},interval:function(value){return !isNaN(value)}};pub.valid=function(obj,validators,action,flag){if(obj===undefined){pub.fireEventListeners("error",["Required object missing.",action]);return false}var propertiesToCheckInObj=(flag==true)?validators:obj;for(var i in propertiesToCheckInObj){if(flag==true&&obj[i]===undefined){pub.fireEventListeners("error",["Missing property - "+i+".",action]);return false}else{if(!validators[i]){pub.fireEventListeners("error",["Invalid property specified - "+i+".",action]);return false}}if(!(validators[i])(obj[i])){pub.fireEventListeners("error",["Value of property "+i+" is not valid type.",action]);return false}}return true};pub.supportedFeatures={screen:true,orientation:true,heading:false,location:false,shake:true,tilt:true,network:true,sms:true,phone:true,email:true,calendar:false,camera:true,map:true,audio:true,video:true,"level-1":true,"level-2":true,"level-3":false};pub.getSize=function(){return pub.size};pub.getMaxSize=function(){return pub.maxSize};pub.getViewable=function(){if(isAndroid()){return true}return pub.viewable};pub.getState=function(){return pub.state};pub.getDefaultPosition=function(){return pub.defaultPosition};pub.getExpandProperties=function(){if(ORMMA_CURRENT_VERSION==1){return pub.expandProperties}else{if(ORMMA_CURRENT_VERSION==1.1){var temp=pub.expandProperties;temp.width=(pub.expandProperties.width==undefined)?pub.maxSize.width:pub.expandProperties.width;temp.height=(pub.expandProperties.height==undefined)?pub.maxSize.height:pub.expandProperties.height;return temp}}};pub.getPlacementType=function(){return pub.placementType};pub.setExpandProperties=function(props){if(!pub.valid(props,expandPropertyValidators,"setExpandProperties")){return}if(props.lockOrientation){pub.expandProperties.lockOrientation=props.lockOrientation;admarvelDisableRotation()}if(props.useCustomClose!==undefined){pub.useCustomClose(props.useCustomClose)}if(props.width!==undefined){pub.expandProperties.width=props.width}if(props.height!==undefined){pub.expandProperties.height=props.height}if(pub.expandProperties.useBackground==true){var redHex=props.backgroundColor.substr(1,2);var greenHex=props.backgroundColor.substr(3,2);var blueHex=props.backgroundColor.substr(5,2);var red=(parseInt(redHex,16)/255).toFixed(2);var green=(parseInt(greenHex,16)/255).toFixed(2);var blue=(parseInt(blueHex,16)/255).toFixed(2);admarvelSetBackgroundColor(props.backgroundOpacity,red,green,blue)}};pub.supports=function(featureName){return pub.supportedFeatures[featureName]};pub.addEventListener=function(eventName,listenerFn){if(!eventName||!listenerFn){pub.fireEventListeners("error",["Both event and listener are required.","addEventListener"])}else{if(pub.listeners[eventName+"EventListener"]===undefined){pub.fireEventListeners("error",["Unknown event: "+eventName,"addEventListener"])}else{bindEvent(eventName,listenerFn)}}};pub.removeEventListener=function(eventName,listenerFn){if(!eventName){pub.fireEventListeners("error",["Must specify an event.","removeEventListener"])}else{var handlers=pub.listeners[eventName+"EventListener"];if(listenerFn!==undefined&&admarvelReturnIndexOfObjectInArray(handlers,listenerFn)==-1){pub.fireEventListeners("error",["Listener not currently registered for event","removeEventListener"])}else{if(admarvelORMMAComplianceVersion>ORMMA_FIRST_UPDATE){admarvelStopEventListener(eventName)}unbindEvent(eventName,listenerFn)}}};pub.calculateSize=function(newWidth,newHeight){var newWidth=(newWidth>pub.maxSize.width)?pub.maxSize.width:newWidth;var newHeight=(newHeight>pub.maxSize.height)?pub.maxSize.height:newHeight;var availableWidth=pub.maxSize.width-pub.defaultPosition.x;var availableHeight=pub.maxSize.height-pub.defaultPosition.y;var centerX=pub.defaultPosition.x+0.5*pub.size.width;var centerY=pub.defaultPosition.y+0.5*pub.size.height;var newX=null;var newY=null;if(newWidth<=availableWidth&&newHeight<=availableHeight){newX=pub.defaultPosition.x;newY=pub.defaultPosition.y}else{if((newWidth<=(pub.defaultPosition.x+pub.size.width))&&newHeight<=(pub.defaultPosition.y+pub.size.height)){var deltaX=newWidth-pub.size.width;var deltaY=newHeight-pub.size.height;newX=Math.max(pub.defaultPosition.x-deltaX,0);newY=Math.max(pub.defaultPosition.y-deltaY,0)}else{if((0.5*pub.maxSize.width>=centerX+0.5*newWidth)&&(0.5*pub.maxSize.height>=centerY+0.5*newHeight)){newX=centerX-0.5*newWidth;newY=centerY-0.5*newHeight}else{newX=0;if(isIOS()){var parsedObj=admarvelGetParsedObj();newY=parsedObj.appY}else{newY=pub.defaultPosition.y}}}}var calculatedSize={width:newWidth,height:newHeight,x:newX,y:newY};return calculatedSize};pub.resize=function(newWidth,newHeight){if(newWidth==null||newHeight==null||isNaN(newWidth)||isNaN(newHeight)||newWidth<0||newHeight<0){pub.fireEventListeners("error",["Requested size must be numeric values between 0 and maxSize.","resize"]);return}else{if((newWidth>pub.maxSize.width)||(newHeight>pub.maxSize.height)){pub.fireEventListeners("error",["Request ("+newWidth+" x "+newHeight+") exceeds maximum allowable size of ("+pub.maxSize.width+" x "+pub.maxSize.height+")","resize"]);return}else{if((newWidth==pub.size.width)&&(newHeight==pub.size.height)){pub.fireEventListeners("error",["Requested size equals current size.","resize"]);return}}}var calculatedSize=pub.calculateSize(newWidth,newHeight);admarvelExpandTo(calculatedSize.width,calculatedSize.height,calculatedSize.x,calculatedSize.y,"ormma.closeHandler");pub.lastState=pub.state;pub.state="resized";pub.size={width:newWidth,height:newHeight};pub.fireEventListeners("stateChange",[pub.state]);pub.fireEventListeners("sizeChange",[newWidth,newHeight])};pub.expand=function(params){if(ORMMA_CURRENT_VERSION==1.1){if(!(typeof params=="string"||params==null||params==undefined)){pub.fireEventListeners("error",["Invalid parameter type","expand"]);return}if(pub.state=="expanded"){return}if(callExpandAfterCheckFrameValues==null&&isIOS()){callExpandAfterCheckFrameValues=(params!=undefined)?"pub.expand('"+params+"');":"pub.expand();";admarvelCheckFrameValues("ormma.updateFrames");return}callExpandAfterCheckFrameValues=null;var defaultExpandProperties={};if(pub.expandProperties.width==undefined){defaultExpandProperties.width=pub.maxSize.width}if(pub.expandProperties.height==undefined){defaultExpandProperties.height=pub.maxSize.height}if(pub.expandProperties.useCustomClose==undefined){defaultExpandProperties.useCustomClose=false}pub.setExpandProperties(defaultExpandProperties);var newWidth=pub.expandProperties.width;var newHeight=pub.expandProperties.height;var calculatedSize=pub.calculateSize(newWidth,newHeight);var URLParam=(params)?params:null;admarvelExpandTo(calculatedSize.width,calculatedSize.height,calculatedSize.x,calculatedSize.y,"ormma.closeHandler",URLParam);pub.lastState=pub.state;pub.state="expanded";pub.size={width:newWidth,height:newHeight}}else{if(ORMMA_CURRENT_VERSION==1){if(!pub.valid(params,dimensionValidators,"expand",true)){return}if(callExpandAfterCheckFrameValues==null&&isIOS()){callExpandAfterCheckFrameValues="pub.expand({x:"+params.x+",y:"+params.y+",width:"+params.width+",height:"+params.height+"});";admarvelCheckFrameValues("ormma.updateFrames");return}callExpandAfterCheckFrameValues=null;var parsedObj=admarvelGetParsedObj();if(isIOS()&&params.y<parsedObj.appY){if(getAdMarvelSDKVersion()>291){if(parsedObj.expandHeight>parsedObj.appHeight){params.y=parsedObj.appY}}}admarvelExpandTo(params.width,params.height,params.x,params.y,"ormma.closeHandler");pub.lastState=pub.state;pub.state="expanded";pub.size={width:params.width,height:params.height}}}pub.fireEventListeners("stateChange",[pub.state])};pub.open=function(URL){if(!URL){pub.fireEventListeners("error",["URL is required.","open"])}else{admarvelURLRedirectWithAutoInteractionDetection(URL)}};pub.openMap=function(poi,fullscreen){if(!pub.supportedFeatures.map){pub.fireEventListeners("error",["Method not supported by this client.","openMap"])}else{admarvelOpenMapApplication(poi,fullscreen)}};pub.playAudio=function(URL,props){if(!pub.supports("audio")){pub.fireEventListeners("error",["Method not supported by this client.","playAudio"])}else{if(!URL){pub.fireEventListeners("error",["URL is required.","playAudio"])}else{admarvelNotifyPlayingAudio();admarvelPlayAudio(URL,props)}}};pub.playVideo=function(URL,props){if(!pub.supports("video")){pub.fireEventListeners("error",["Method not supported by this client.","playVideo"])}else{if(!URL){pub.fireEventListeners("error",["URL is required.","playVideo"])}else{admarvelPlayVideo(URL,props)}}};pub.show=function(){if(pub.state=="hidden"){pub.state="default";pub.fireEventListeners("stateChange",null)}};pub.closeHandler=function(){pub.size=admarvelGetAdUnitSize();pub.defaultPosition=admarvelGetAdDefaultPosition();pub.state=pub.lastState;if(pub.expandProperties.lockOrientation){admarvelEnableRotation()}pub.fireEventListeners("stateChange",[pub.state])};pub.close=function(){admarvelCollapse();pub.closeHandler()};pub.hide=function(){admarvelClose();if(pub.state=="default"){pub.state="hidden";pub.fireEventListeners("stateChange",[pub.state])}};pub.getOrientation=function(){if(!pub.supports("orientation")){pub.fireEventListeners("error",["Method not supported by this client.","getOrientation"])}return pub.orientation};pub.makeCall=function(numberToCall){if(!pub.supports("phone")){pub.fireEventListeners("error",["Method not supported by this client.","makeCall"])}else{if(!numberToCall||typeof numberToCall!="string"){pub.fireEventListeners("error",["Request must provide a number to call.","makeCall"])}else{admarvelMakeCall(numberToCall)}}};pub.triggerOrmmaReady=function(){if(pub.totalWaitTime==0){setDefaultListeners();pub.state="default";pub.fireEventListeners("ready",null)}if(typeof ORMMAReady=="function"){window.clearInterval(pub.intervalId);pub.intervalId=null;ORMMAReady()}else{pub.totalWaitTime+=pub.waitDuration;if(pub.totalWaitTime>=pub.timeOutThreshold){window.clearInterval(pub.intervalId);pub.intervalId=null}}};pub.getKeyboard=function(){return pub.keyboard};pub.sendSMS=function(recipient,body){if(!pub.supports("sms")){pub.fireEventListeners("error",["Method not supported by this client.","sendSMS"])}else{if(!recipient||typeof recipient!="string"){pub.fireEventListeners("error",["Request must specify a recipient.","sendSMS"])}else{admarvelSendSMS(recipient,body)}}};function zeroPad(number){var text="";if(number<10){text+="0"}text+=number;return text}pub.createEvent=function(date,title,body){if(!pub.supports("calendar")){pub.fireEventListeners("error",["Method not supported by this client.","createEvent"])}else{if(typeof date=="undefined"||date==null){pub.fireEventListeners("error",["Date parameter not provided.","createEvent"]);return}if(typeof title=="undefined"||title==null){pub.fireEventListeners("error",["Title parameter not provided.","createEvent"]);return}var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();var hours=date.getHours();var minutes=date.getMinutes();var dateString=year+zeroPad(month)+zeroPad(day)+zeroPad(hours)+zeroPad(minutes);admarvelCreateCalendarEvent(dateString,title,body)}};pub.sendMail=function(recipient,subject,body){if(!pub.supports("email")){pub.fireEventListeners("error",["Method not supported by this client.","sendMail"])}else{if(!recipient||typeof recipient!="string"){pub.fireEventListeners("error",["Request must specify a recipient.","sendMail"])}else{admarvelSendEmail(recipient,subject,body)}}};pub.setShakeProperties=function(props){if(!pub.supports("shake")){pub.fireEventListeners("error",["Method not supported by this client.","setShakeProperties"])}else{if(pub.valid(props,shakePropertyValidators,"setShakeProperties")){pub.shakeProperties=props}}};pub.getShakeProperties=function(){if(!pub.supports("shake")){pub.fireEventListeners("error",["Method not supported by this client.","getShakeProperties"])}return pub.shakeProperties};pub.getNetwork=function(){if(!pub.supports("network")){pub.fireEventListeners("error",["Method not supported by this client.","getNetwork"])}return pub.network};pub.getTilt=function(){if(!pub.supports("tilt")){pub.fireEventListeners("error",["Method not supported by this client.","getTilt"])}return pub.tilt};pub.getHeading=function(){if(!pub.supports("heading")){pub.fireEventListeners("error",["Method not supported by this client.","getHeading"])}return pub.heading};pub.getLocation=function(){if(!pub.supports("location")){pub.fireEventListeners("error",["Method not supported by this client.","getLocation"])}return pub.location};pub.getScreenSize=function(){if(!pub.supports("screen")){pub.fireEventListeners("error",["Method not supported by this client.","getScreenSize"])}return pub.screenSize};pub.getORMMAComplianceVersion=function(parsedObj){var complianceVersion=ORMMA_INITIAL_VERSION;if(isIOS()){if(undefined!==parsedObj.sdkVersion){if(getAdMarvelSDKVersion()>290){complianceVersion=ORMMA_THIRD_UPDATE}else{if(getAdMarvelSDKVersion()>284){complianceVersion=ORMMA_SECOND_UPDATE}}}else{complianceVersion=(undefined===parsedObj.supportedFeatures)?ORMMA_INITIAL_VERSION:ORMMA_FIRST_UPDATE}}else{if(isAndroid()){if(undefined===parsedObj.sdkVersion){complianceVersion=ORMMA_FIRST_UPDATE}else{complianceVersion=ORMMA_SECOND_UPDATE}}}return complianceVersion};pub.getORMMACompatibleOrientations=function(sdkReportedOrientation){var orientationNumeric=parseInt(sdkReportedOrientation,10);if(orientationNumeric!=0&&orientationNumeric!=180){orientationNumeric+=180}return orientationNumeric};pub.isViewable=function(){if(isAndroid()){return true}return pub.viewable};pub.getVersion=function(){return ORMMA_CURRENT_VERSION};pub.createDelegate=function(fn,obj,args){return function(){var callArgs=args||arguments;return fn.apply(obj||window,callArgs)}};pub.setTimer=function(fn,millis,obj,args){fn=pub.createDelegate(fn,obj,args);return setTimeout(fn,millis)};pub.initCB=function(){admarvelAutoInteractionDetection(false);var parsedObj=admarvelGetParsedObj();admarvelORMMAComplianceVersion=pub.getORMMAComplianceVersion(parsedObj);if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){pub.supportedFeatures=parsedObj.supportedFeatures}pub.state="loading";pub.size=admarvelGetAdUnitSize();pub.maxSize=admarvelGetMaxAdUnitSize();pub.defaultPosition=admarvelGetAdDefaultPosition();pub.network=admarvelGetNetwork();pub.orientation=pub.getORMMACompatibleOrientations(parsedObj.orientation);pub.screenSize=admarvelGetDeviceScreenSize();pub.placementType=determinePlacementType(parsedObj);if(admarvelORMMAComplianceVersion>ORMMA_INITIAL_VERSION){pub.location=(typeof parsedObj.location=="string")?eval("("+parsedObj.location+")"):parsedObj.location}if(admarvelORMMAComplianceVersion==ORMMA_INITIAL_VERSION){updateFeatureSet()}pub.intervalId=window.setInterval(pub.triggerOrmmaReady,pub.waitDuration)};pub.clickToApp=function(URL){if(!URL){pub.fireEventListeners("error",["URL is required.","clickToApp"])}else{admarvelOpenExternalURL(URL)}};pub.createEventWithFullDetails=function(date,title,body,location,allDay,endDate,reminderDate){if(!pub.supports("calendar")){pub.fireEventListeners("error",["Method not supported by this client.","createEventWithFullDetails"])}else{if(typeof date=="undefined"||date==null){pub.fireEventListeners("error",["Date parameter not provided.","createEvent"]);return}if(typeof title=="undefined"||title==null){pub.fireEventListeners("error",["Title parameter not provided.","createEvent"]);return}var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();var hours=date.getHours();var minutes=date.getMinutes();var dateString=year+zeroPad(month)+zeroPad(day)+zeroPad(hours)+zeroPad(minutes);var endDateString=null;if(endDate!=null&&typeof endDate!="undefined"){var endYear=endDate.getFullYear();var endMonth=endDate.getMonth()+1;var endDay=endDate.getDate();var endHours=endDate.getHours();var endMinutes=endDate.getMinutes();endDateString=endYear+zeroPad(endMonth)+zeroPad(endDay)+zeroPad(endHours)+zeroPad(endMinutes)}var reminderOffsetInSeconds=1;if(reminderDate!=null&&typeof reminderDate!="undefined"){reminderOffsetInSeconds=Math.round((reminderDate.getTime()-date.getTime())/1000);if(reminderOffsetInSeconds>0){reminderOffsetInSeconds=0}}var allDayString="NO";if((allDay=="YES")||(allDay=="yes")||(allDay=="Y")||(allDay=="y")){allDayString="YES"}admarvelCreateCalendarEventWithFullDetails(dateString,title,body,location,allDayString,endDateString,reminderOffsetInSeconds.toString())}};pub.playVideoContainingAudioContent=function(URL,properties){admarvelNotifyPlayingAudio();pub.playVideo(URL,properties)};pub.openContainingAudioContent=function(URL,controls){admarvelNotifyPlayingAudio();pub.open(URL,controls)};pub.adJitsu=function(URL){if(!URL||typeof URL!="string"){pub.fireEventListeners("error",["Valid URL required.","adJitsu"])}else{admarvelLaunchAdJitsu(URL,"ormma.adJitsuExpandedListenerPrivate")}};pub.adJitsuExpandedListenerPrivate=function(){pub.fireEventListeners("adJitsuExpanded",null)};pub.cameraOverlay=function(imageURL){if(!imageURL||typeof imageURL!="string"){pub.fireEventListeners("error",["Valid imageURL required.","cameraOverlay"])}else{admarvelLaunchCameraOverlay(imageURL)}};return pub}());ormma.init();