function admarvelInit(){var a=(arguments.length>0)?arguments[0]:"handleInit";if(isIOS()){initAdMarvel(a)}else{if(isAndroid()){window.ADMARVEL.initAdMarvel(a)}}}function admarvelRegisterSizeChangeEvent(a){if(isIOS()){callAdMarvelFunction("detectSizeChange?callbackFn="+a)}else{if(isAndroid()){}}}function admarvelRegisterShakeEvent(c,a,b){if(isIOS()){callAdMarvelFunction("detectShake?callbackFn="+c+"&threshold="+a+"&minTimeBetween="+b)}else{if(isAndroid()){window.ADMARVEL.registershakeevent(c)}}}function admarvelRegisterAccelerationEvent(a){if(isIOS()){callAdMarvelFunction("detectAcceleration?callbackFn="+a)}else{if(isAndroid()){window.ADMARVEL.registeraccelerationevent(a)}}}function admarvelExpandToFullScreen(){if(isIOS()){callAdMarvelFunction("maximize")}else{if(isAndroid()){if(!isInterstitial()){window.ADMARVEL.expandtofullscreen()}}}}function admarvelExpandTo(c,b,a,e,d){if(isIOS()){callAdMarvelFunction("expandTo?x="+a+"&y="+e+"&width="+c+"&height="+b+"&collapseFn="+d)}else{if(isAndroid()){window.ADMARVEL.expandto(c,b)}}}function admarvelCollapse(){if(isIOS()){callAdMarvelFunction("collapse")}else{if(isAndroid()){if(!isInterstitial()){window.ADMARVEL.close()}}}}function admarvelClose(){if(isIOS()){callAdMarvelFunction("minimize")}else{if(isAndroid()){if(isInterstitial()){window.ADMARVEL.closeinterstitialad()}}}}function admarvelDisableRotation(){if(isIOS()){callAdMarvelFunction("disableRotations")}else{if(isAndroid()){window.ADMARVEL.disablerotations()}}}function admarvelEnableRotation(){if(isIOS()){callAdMarvelFunction("enableRotations")}else{if(isAndroid()){window.ADMARVEL.enablerotations()}}}function admarvelSetBackgroundColor(e,d,c,a){if(isIOS()){callAdMarvelFunction("setBackgroundColor?red="+d+"&green="+c+"&blue="+a+"&alpha="+e)}else{if(isAndroid()){var b="#"+fillZero((e*255).toString(16))+fillZero((d*255).toString(16))+fillZero((c*255).toString(16))+fillZero((a*255).toString(16));window.ADMARVEL.setbackgroundcolor(b)}}}function admarvelIsInitialLoad(){if(isIOS()){return adMarvelIsInitialLoad}else{if(isAndroid()){return window.ADMARVEL.isinitialload()}}}function admarvelURLRedirect(a){if(isIOS()){window.open(a)}else{if(isAndroid()){if(isInterstitial()){window.open(a)}else{window.ADMARVEL.redirect(a)}}}}function admarvelSetOrientationListener(a){if(isIOS()){window.onorientationchange=a}else{if(isAndroid()){var b="onorientationchange" in window;var c=(b)?"orientationchange":"resize";window.addEventListener(c,a)}}}function admarvelCheckOrientation(){if(isIOS()){callAdMarvelFunction("checkOrientation")}else{if(isAndroid()){}}}function admarvelDetectDisplay(a){if(isIOS()){callAdMarvelFunction("detectDisplay?callbackFn="+a)}else{if(isAndroid()){window.ADMARVEL.detectdisplay(a)}}}function admarvelDetectHidden(a){if(isIOS()){callAdMarvelFunction("detectHidden?callbackFn="+a)}else{if(isAndroid()){window.ADMARVEL.detecthidden(a)}}}function isIPhoneOrIPod(){if(detectDevice("iphone os")){return true}else{return false}}function isIOS(){if(isIPhoneOrIPod()||detectDevice("ipad")){return true}return false}function isAndroid(){return detectDevice("android")}function detectDevice(b){var c=navigator.userAgent.toLowerCase();var a=c.indexOf(b);if(a>-1){return true}else{return false}}function fillZero(a){if(a.length==1){return"0"+a}else{return a}}function isInterstitial(){if(typeof window.ADMARVEL.closeinterstitialad=="function"){return true}return false}function initAdMarvel(a){callAdMarvelFunction("init?callbackFn="+escape(a))}function callAdMarvelFunction(b){var a=document.createElement("IFRAME");a.setAttribute("src","admarveljavascript:"+b);a.width=0;a.height=0;document.body.appendChild(a);a.parentNode.removeChild(a);a=null}function handleInit(parameters){var paramArray=eval("("+parameters+")")}if(!Array.indexOf){Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return a}}return -1}}if(!Array.remove){Array.prototype.remove=function(b){var a=this.indexOf(b);if(this.indexOf(b)!=-1){this.splice(a,1)}}}function admarvelGetParsedObj(params){var obj=null;if(isIOS()){handleInit(params);obj=eval("("+params+")")}else{if(isAndroid()){obj=eval(params)}}return obj}function getAndroidScreenSize(a){return{width:320,height:480}}function admarvelGetAdUnitSize(b){var a={width:320,height:50};if(b!=null){a={width:b.width,height:b.height}}return a}function admarvelGetMaxAdUnitSize(a){var b={width:320,height:460};if(a!=null){b={width:a.appWidth,height:a.appHeight}}return b}function admarvelGetAdDefaultPosition(a){var b={x:0,y:0,width:320,height:50};if(a!=null){b={x:a.x,y:a.y,width:a.width,height:a.height}}return b}function admarvelGetNetwork(a){var b="offline";if(a!=null&&a.network=="YES"){b="cell"}return b}function admarvelGetOrientation(a){var b=admarvelGetORMMACompatibleOrientations(0);if(a!=null){b=admarvelGetORMMACompatibleOrientations(a.orientation)}return b}function admarvelGetORMMACompatibleOrientations(b){var a=parseInt(b,10);if(a!=0&&a!=180){a+=180}return a}function admarvelGetDeviceScreenSize(a){var b=null;if(isIOS()){if(isIPhoneOrIPod()){if(a==0||a==180){b={width:320,height:480}}else{b={width:480,height:320}}}else{if(a==0||a==180){b={width:768,height:1024}}else{b={width:1024,height:768}}}}else{b={width:320,height:480}}return b}function admarvelOpenMapApplication(b,a){if(isIOS()){document.location=b}else{if(isAndroid()){admarvelURLRedirect(b)}}}function admarvelPlayAudio(a,b){if(isIOS()){document.location=a.replace("http://","admarvelvideo://")}else{if(isAndroid()){admarvelURLRedirect(a)}}}function admarvelPlayVideo(a,b){if(isIOS()){document.location=a.replace("http://","admarvelvideo://")}else{if(isAndroid()){admarvelURLRedirect(a)}}}function admarvelMakeCall(b){var a="tel:"+b;if(isIOS()){document.location=a}else{if(isAndroid()){admarvelURLRedirect(a)}}}function admarvelSendSMS(c,a){var b="sms:"+c;if(isIOS()){document.location=b}else{if(isAndroid()){admarvelURLRedirect(b)}}}function admarvelSendEmail(c,b,a){var d="mailto:"+c+"?subject="+encodeURIComponent(b)+"&body="+encodeURIComponent(a);if(isIOS()){document.location=d}else{if(isAndroid()){admarvelURLRedirect(d)}}}var ormma=(function(){var e={};function g(){admarvelSetOrientationListener(e.orientationListenerPrivate)}function f(l,j){if(l=="tiltChange"){admarvelRegisterAccelerationEvent("ormma.accelerationListenerPrivate")}else{if(l=="shake"){admarvelRegisterShakeEvent("ormma.shakeListenerPrivate",e.shakeProperties.intensity,e.shakeProperties.interval)}else{if(l=="viewableChange"){admarvelDetectDisplay("ormma.displayListenerPrivate");admarvelDetectHidden("ormma.hiddenListenerPrivate")}}}var k=e.listeners[l+"EventListener"];if(k==null){e.listeners[l+"EventListener"]=[];k=e.listeners[l+"EventListener"]}if(k.indexOf(j)==-1){k.push(j)}}function c(l,j){var k=e.listeners[l+"EventListener"];if(!j){k.splice(0,e.listeners[l+"EventListener"].length)}else{k=e.listeners[l+"EventListener"];k.remove(j)}}function h(){if(detectDevice("ipod")||detectDevice("ipad")){e.supportedFeatures.sms=false;e.supportedFeatures.phone=false}}e.accelerationListenerPrivate=function(l,k,j,o,n,m,r,q,p){e.tilt={x:o,y:n,z:m};e.fireEventListeners("tiltChange",[o,n,m])};e.shakeListenerPrivate=function(){e.fireEventListeners("shake",null)};e.fireEventListeners=function(k,l){var j=e.listeners[k+"EventListener"];if(j!=null){for(var m=0;m<j.length;m++){j[m].apply(null,l)}}};e.orientationListenerPrivate=function(){var j=admarvelGetORMMACompatibleOrientations(window.orientation);if(e.orientation!=j){if(Math.abs(e.orientation-j)!=180){var k=e.screenSize.width;e.screenSize.width=e.screenSize.height;e.screenSize.height=k}}e.orientation=admarvelGetORMMACompatibleOrientations(window.orientation);e.fireEventListeners("orientationChange",[e.orientation]);e.fireEventListeners("screenChange",[e.screenSize.width,e.screenSize.height])};e.sizeChangeListenerPrivate=function(k,j){e.size={width:k,height:j};e.fireEventListeners("sizeChange",[k,j])};e.displayListenerPrivate=function(){e.viewable=true;e.fireEventListeners("viewableChange",[e.viewable])};e.hiddenListenerPrivate=function(){e.viewable=false;e.fireEventListeners("viewableChange",[e.viewable])};e.init=function(){admarvelInit("ormma.initCB")};e.expandProperties={useBackground:false,backgroundColor:"#ffffff",backgroundOpacity:"1.0",lockOrientation:false};e.intervalId=null;e.waitDuration=100;e.totalWaitTime=0;e.timeOutThreshold=10000;e.viewable=false;e.size={};e.maxSize={};e.state=null;e.lastState=null;e.defaultPosition={};e.orientation=null;e.location=null;e.network=null;e.heading=null;e.screenSize=null;e.tilt=null;e.shakeProperties={intensity:2,interval:1};e.listeners={readyEventListener:null,networkChangeEventListener:null,keyboardChangeEventListener:null,orientationChangeEventListener:null,headingChangeEventListener:null,screenChangeEventListener:null,shakeEventListener:null,sizeChangeEventListener:null,stateChangeEventListener:null,tiltChangeEventListener:null,viewableChangeEventListener:null,errorEventListener:null};var b={x:function(j){return !isNaN(j)},y:function(j){return !isNaN(j)},width:function(j){return !isNaN(j)&&j>=0},height:function(j){return !isNaN(j)&&j>=0}};var d={width:function(j){return !isNaN(j)&&j>=0&&j<=e.maxSize.width},height:function(j){return !isNaN(j)&&j>=0&&j<=e.maxSize.height}};var a={useBackground:function(j){return(j===true||j===false)},backgroundColor:function(j){return(typeof j=="string"&&j.substr(0,1)=="#"&&!isNaN(parseInt(j.substr(1),16)))},backgroundOpacity:function(j){return !isNaN(j)&&j>=0&&j<=1},lockOrientation:function(j){return(j===true||j===false)}};var i={intensity:function(j){return !isNaN(j)},interval:function(j){return !isNaN(j)}};e.valid=function(m,j,l){if(m===undefined){e.fireEventListeners("error",["Required object missing.",l]);return false}else{for(var k in j){if(m[k]===undefined){e.fireEventListeners("error",["Object missing required property "+k,l]);return false}}}for(var k in m){if(!j[k]){e.fireEventListeners("error",["Invalid property specified - "+k+".",l]);return false}else{if(!j[k](m[k])){e.fireEventListeners("error",["Value of property "+k+" is not valid type.",l]);return false}}}return true};e.supportedFeatures={screen:true,orientation:true,heading:false,location:false,shake:true,tilt:true,network:true,sms:true,phone:true,email:true,calendar:false,camera:false,map:true,audio:true,video:true,"level-1":true,"level-2":true,"level-3":false};e.getSize=function(){return e.size};e.getMaxSize=function(){return e.maxSize};e.getViewable=function(){return e.viewable};e.getState=function(){return e.state};e.getDefaultPosition=function(){return e.defaultPosition};e.getExpandProperties=function(){return e.expandProperties};e.setExpandProperties=function(l){if(!e.valid(l,a,"setExpandProperties")){return}e.expandProperties=l;if(e.expandProperties.lockOrientation){admarvelDisableRotation()}if(e.expandProperties.useBackground!=true){return}var o=l.backgroundColor.substr(1,2);var k=l.backgroundColor.substr(3,2);var p=l.backgroundColor.substr(5,2);var n=(parseInt(o,16)/255).toFixed(2);var m=(parseInt(k,16)/255).toFixed(2);var j=(parseInt(p,16)/255).toFixed(2);admarvelSetBackgroundColor(l.backgroundOpacity,n,m,j)};e.supports=function(j){return e.supportedFeatures[j]};e.addEventListener=function(k,j){if(!k||!j){e.fireEventListeners("error",["Both event and listener are required.","addEventListener"])}else{if(e.listeners[k+"EventListener"]===undefined){e.fireEventListeners("error",["Unknown event: "+k,"addEventListener"])}else{f(k,j)}}};e.removeEventListener=function(l,j){if(!l){e.fireEventListeners("error",["Must specify an event.","removeEventListener"])}else{var k=e.listeners[l+"EventListener"];if(j!==undefined&&k.indexOf(j)==-1){e.fireEventListeners("error",["Listener not currently registered for event","removeEventListener"])}else{c(l,j)}}};e.resize=function(q,k){if(q==null||k==null||isNaN(q)||isNaN(k)||q<0||k<0){e.fireEventListeners("error",["Requested size must be numeric values between 0 and maxSize.","resize"]);return}else{if((q>e.maxSize.width)||(k>e.maxSize.height)){e.fireEventListeners("error",["Request ("+q+" x "+k+") exceeds maximum allowable size of ("+e.maxSize.width+" x "+e.maxSize.height+")","resize"]);return}else{if((q==e.size.width)&&(k==e.size.height)){e.fireEventListeners("error",["Requested size equals current size.","resize"]);return}}}var r=e.maxSize.width-e.defaultPosition.x;var l=e.maxSize.height-e.defaultPosition.y;var p=e.defaultPosition.x+0.5*e.size.width;var n=e.defaultPosition.y+0.5*e.size.height;var j=null;var s=null;if(q<=r&&k<=l){j=e.defaultPosition.x;s=e.defaultPosition.y}else{if((q<=(e.defaultPosition.x+e.size.width))&&k<=(e.defaultPosition.y+e.size.height)){var o=q-e.size.width;var m=k-e.size.height;j=Math.max(e.defaultPosition.x-o,0);s=Math.max(e.defaultPosition.y-m,0)}else{if((0.5*e.maxSize.width>=p+0.5*q)&&(0.5*e.maxSize.height>=n+0.5*k)){j=p-0.5*q;s=n-0.5*k}else{j=0;s=0}}}admarvelExpandTo(q,k,j,s,"ormma.close");e.lastState=e.state;e.state="resized";e.size={width:q,height:k};e.fireEventListeners("stateChange",[e.state]);e.fireEventListeners("sizeChange",[q,k])};e.expand=function(j){if(!e.valid(j,b,"expand")){return}admarvelExpandTo(j.width,j.height,j.x,j.y,"ormma.close");e.lastState=e.state;e.state="expanded";e.size={width:j.width,height:j.height};e.fireEventListeners("stateChange",null);e.fireEventListeners("sizeChange",null)};e.open=function(j,k){if(!j){e.fireEventListeners("error",["URL is required.","open"])}else{admarvelURLRedirect(j)}};e.openMap=function(k,j){if(!e.supportedFeatures.map){e.fireEventListeners("error",["Method not supported by this client.","openMap"])}else{admarvelOpenMapApplication(k,j)}};e.playAudio=function(j,k){if(!e.supports("audio")){e.fireEventListeners("error",["Method not supported by this client.","playAudio"])}else{if(!j){e.fireEventListeners("error",["URL is required.","playAudio"])}else{admarvelPlayAudio(j,k)}}};e.playVideo=function(j,k){if(!e.supports("video")){e.fireEventListeners("error",["Method not supported by this client.","playVideo"])}else{if(!j){e.fireEventListeners("error",["URL is required.","playVideo"])}else{admarvelPlayVideo(j,k)}}};e.show=function(){if(e.state=="hidden"){e.state="default";e.fireEventListeners("stateChange",null)}};e.close=function(){admarvelCollapse();e.state=e.lastState;if(e.expandProperties.lockOrientation){admarvelEnableRotation()}e.fireEventListeners("stateChange",null)};e.hide=function(){admarvelClose();if(e.state=="default"){e.state="hidden";e.fireEventListeners("stateChange",null)}};e.getOrientation=function(){if(!e.supports("orientation")){e.fireEventListeners("error",["Method not supported by this client.","getOrientation"])}return e.orientation};e.makeCall=function(j){if(!e.supports("phone")){e.fireEventListeners("error",["Method not supported by this client.","makeCall"])}else{if(!j||typeof j!="string"){e.fireEventListeners("error",["Request must provide a number to call.","makeCall"])}else{admarvelMakeCall(j)}}};e.triggerOrmmaReady=function(){if(typeof ORMMAReady=="function"){window.clearInterval(e.intervalId);g();e.state="default";e.fireEventListeners("ready",null);ORMMAReady()}else{e.totalWaitTime+=e.waitDuration;if(e.totalWaitTime>=e.timeOutThreshold){window.clearInterval(e.intervalId)}}};e.sendSMS=function(k,j){if(!e.supports("sms")){e.fireEventListeners("error",["Method not supported by this client.","sendSMS"])}else{if(!k||typeof k!="string"){e.fireEventListeners("error",["Request must specify a recipient.","sendSMS"])}else{admarvelSendSMS(k,j)}}};e.sendMail=function(l,k,j){if(!e.supports("email")){e.fireEventListeners("error",["Method not supported by this client.","sendMail"])}else{if(!l||typeof l!="string"){e.fireEventListeners("error",["Request must specify a recipient.","sendMail"])}else{admarvelSendEmail(l,k,j)}}};e.setShakeProperties=function(j){if(!e.supports("shake")){e.fireEventListeners("error",["Method not supported by this client.","setShakeProperties"])}else{if(e.valid(j,i,"setShakeProperties")){e.shakeProperties=j}}};e.getShakeProperties=function(){if(!e.supports("shake")){e.fireEventListeners("error",["Method not supported by this client.","getShakeProperties"])}return e.shakeProperties};e.getNetwork=function(){if(!e.supports("network")){e.fireEventListeners("error",["Method not supported by this client.","getNetwork"])}return e.network};e.getTilt=function(){if(!e.supports("tilt")){e.fireEventListeners("error",["Method not supported by this client.","getTilt"])}return e.tilt};e.getScreenSize=function(){if(!e.supports("screen")){e.fireEventListeners("error",["Method not supported by this client.","getScreenSize"])}return e.screenSize};e.initCB=function(k){var j=admarvelGetParsedObj(k);e.state="loading";e.size=admarvelGetAdUnitSize(j);e.maxSize=admarvelGetMaxAdUnitSize(j);e.defaultPosition=admarvelGetAdDefaultPosition(j);e.network=admarvelGetNetwork(j);e.orientation=admarvelGetOrientation(j);e.screenSize=admarvelGetDeviceScreenSize(e.orientation);h();e.intervalId=window.setInterval(e.triggerOrmmaReady,e.waitDuration)};return e}());ormma.init();